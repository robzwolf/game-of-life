!function(e){var n={};function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(n){return e[n]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=1)}({"./src/web/browser/ga/ga.ts":function(e,n,t){"use strict";t.d(n,"a",(function(){return k})),t.d(n,"b",(function(){return T})),t.d(n,"c",(function(){return F}));var i,r,o=function(){return"".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)},a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return{name:e,value:n,delta:0,entries:[],id:o(),isFinal:!1}},s=function(e,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var t=new PerformanceObserver((function(e){return e.getEntries().map(n)}));return t.observe({type:e,buffered:!0}),t}}catch(e){}},c=!1,u=!1,d=function(e){c=!e.persisted},l=function(){addEventListener("pagehide",d),addEventListener("beforeunload",(function(){}))},w=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];u||(l(),u=!0),addEventListener("visibilitychange",(function(n){var t=n.timeStamp;"hidden"===document.visibilityState&&e({timeStamp:t,isUnloading:c})}),{capture:!0,once:n})},f=function(e,n,t,i){var r;return function(){t&&n.isFinal&&t.disconnect(),n.value>=0&&(i||n.isFinal||"hidden"===document.visibilityState)&&(n.delta=n.value-(r||0),(n.delta||n.isFinal||void 0===r)&&(e(n),r=n.value))}},m=function(){return void 0===i&&(i="hidden"===document.visibilityState?0:1/0,w((function(e){var n=e.timeStamp;return i=n}),!0)),{get timeStamp(){return i}}},p=function(){return r||(r=new Promise((function(e){return["scroll","keydown","pointerdown"].map((function(n){addEventListener(n,e,{once:!0,passive:!0,capture:!0})}))}))),r};const g=e=>{const n=(e=>{const n=`${e}=`;return document.cookie.split(";").reduce((e,t)=>{const i=t.trim();return i.startsWith(n)&&e.push(i.substring(n.length,i.length)),e},[])})(e);return n.length>0?n[0]:null},v="allEditorialPropertyTracker",b="UA-78705427-1",h=100,y=1,S=`${v}.set`,I=`${v}.send`,P=(e,n)=>{return n.substring(1).split("&").map(e=>e.split("=")).filter(n=>2===n.length&&n[0]===e).map(e=>e[1])[0]},k=()=>{window.ga=window.ga||((...e)=>{(window.ga.q=window.ga.q||[]).push(e)}),window.GoogleAnalyticsObject="ga",window.ga.l=+new Date,window.ga("create",b,"auto",v,{sampleRate:h,siteSpeedSampleRate:y})},O=({name:e,delta:n,id:t})=>{const{ga:i}=window;i&&i(I,"event",{eventCategory:"Web Vitals",eventAction:e,eventValue:Math.round("CLS"===e?1e3*n:n),eventLabel:t,nonInteraction:!0})},T=()=>{const{GA:e}=window.guardian.app.data,n=g("GU_U"),{ga:t}=window;t(S,"forceSSL",!0),t(S,"title",e.webTitle),t(S,"anonymizeIp",!0),t(S,"dimension3","theguardian.com"),t(S,"dimension4",e.section),t(S,"dimension5",e.contentType),t(S,"dimension6",e.commissioningDesks),t(S,"dimension7",e.contentId),t(S,"dimension8",e.authorIds),t(S,"dimension9",e.keywordIds),t(S,"dimension10",e.toneIds),t(S,"dimension11",e.seriesId),t(S,"dimension16",n?"true":"false"),t(S,"dimension21",P("INTCMP",window.location.search)),t(S,"dimension22",P("CMP_BUNIT",window.location.search)),t(S,"dimension23",P("CMP_TU",window.location.search)),t(S,"dimension26",e.isHosted),t(S,"dimension27",navigator.userAgent),t(S,"dimension29",window.location.href),t(S,"dimension30",e.edition),t(S,"dimension43","dotcom-rendering"),t(S,"dimension50",e.pillar),"#fbLogin"===window.location.hash&&(t(S,"referrer",null),window.location.hash="");try{const e="gu.analytics.referrerVars",n=window.sessionStorage.getItem(e),i=JSON.parse(n||'""');if(i&&i.value){(new Date).getTime()-i.value.time<6e4&&t(I,"event","Click","Internal",i.value.tag,{nonInteraction:!0,dimension12:i.value.path}),window.sessionStorage.removeItem(e)}}catch(e){}t(I,"pageview",{hitCallback(){(new Image).src=`${e.beaconUrl}/count/pvg.gif`}});5>=100*Math.random()&&(function(e){var n,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=a("CLS",0),r=function(e){e.hadRecentInput||(i.value+=e.value,i.entries.push(e),n())},o=s("layout-shift",r);o&&(n=f(e,i,o,t),w((function(e){var t=e.isUnloading;o.takeRecords().map(r),t&&(i.isFinal=!0),n()})))}(O),function(e){var n,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=a("LCP"),r=m(),o=function(e){var t=e.startTime;t<r.timeStamp?(i.value=t,i.entries.push(e)):i.isFinal=!0,n()},c=s("largest-contentful-paint",o);if(c){n=f(e,i,c,t);var u=function(){i.isFinal||(c.takeRecords().map(o),i.isFinal=!0,n())};p().then(u),w(u,!0)}}(O),function(e){var n=a("FID"),t=m(),i=function(e){e.startTime<t.timeStamp&&(n.value=e.processingStart-e.startTime,n.entries.push(e),n.isFinal=!0,o())},r=s("first-input",i),o=f(e,n,r);r?w((function(){r.takeRecords().map(i),r.disconnect()}),!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay((function(e,i){i.timeStamp<t.timeStamp&&(n.value=e,n.isFinal=!0,n.entries=[{entryType:"first-input",name:i.type,target:i.target,cancelable:i.cancelable,startTime:i.timeStamp,processingStart:i.timeStamp+e}],o())}))}(O))},F=e=>{const{ga:n}=window;if(n)n(I,"event","Interaction",e,{nonInteraction:!0});else{const e=new Error("window.ga doesn't exist");window.guardian.modules.sentry.reportError(e,"trackNonClickInteraction")}}},"./src/web/browser/ga/init.ts":function(e,n,t){"use strict";t.r(n);t("./src/web/browser/webpackPublicPath.ts");var i=t("./src/web/browser/startup.ts"),r=t("./src/web/browser/ga/ga.ts");Object(i.a)("ga",null,()=>(Object(r.a)(),Object(r.b)(),Promise.resolve()))},"./src/web/browser/initPerf.ts":function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));const i=e=>{const n=window.performance,t=`${e}-start`,i=`${e}-end`;return{start:()=>{n.mark(t)},end:()=>{n.mark(i),n.measure(e,t,i),console.log(JSON.stringify(n.getEntriesByName(e)))}}}},"./src/web/browser/startup.ts":function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("./src/web/browser/initPerf.ts");const r=(e,n,t)=>{const r=()=>{((e,n)=>{const{start:t,end:r}=Object(i.a)(e);t(),n().then(r).catch(r)})(e,t.bind(null,n))};window.guardian.mustardCut||window.guardian.polyfilled?r():window.guardian.queue.push(r)}},"./src/web/browser/webpackPublicPath.ts":function(e,n,t){"use strict";t.p="localhost"===window.location.hostname?"/assets/":`${window.guardian.app.data.CAPI.config.frontendAssetsFullURL}assets/`},1:function(e,n,t){e.exports=t("./src/web/browser/ga/init.ts")}});
//# sourceMappingURL=ga.080a2d261da30b432f63.js.map