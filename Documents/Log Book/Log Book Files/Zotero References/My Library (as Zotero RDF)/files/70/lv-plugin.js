var $a="function"==typeof Object.defineProperties?Object.defineProperty:function(e,n,p){e!=Array.prototype&&e!=Object.prototype&&(e[n]=p.value)},gb="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function hb(e,n){if(n){var p=gb;e=e.split(".");for(var b=0;b<e.length-1;b++){var k=e[b];k in p||(p[k]={});p=p[k]}e=e[e.length-1];b=p[e];n=n(b);n!=b&&null!=n&&$a(p,e,{configurable:!0,writable:!0,value:n})}}
hb("Array.prototype.fill",function(e){return e?e:function(n,p,b){var k=this.length||0;0>p&&(p=Math.max(0,k+p));if(null==b||b>k)b=k;b=Number(b);0>b&&(b=Math.max(0,k+b));for(p=Number(p||0);p<b;p++)this[p]=n;return this}});
hb("Array.prototype.copyWithin",function(e){function n(p){p=Number(p);return Infinity===p||-Infinity===p?p:p|0}return e?e:function(p,b,k){var c=this.length;p=n(p);b=n(b);k=void 0===k?c:n(k);p=0>p?Math.max(c+p,0):Math.min(p,c);b=0>b?Math.max(c+b,0):Math.min(b,c);k=0>k?Math.max(c+k,0):Math.min(k,c);if(p<b)for(;b<k;)b in this?this[p++]=this[b++]:(delete this[p++],b++);else for(k=Math.min(k,c+b-p),p+=k-b;k>b;)--k in this?this[--p]=this[k]:delete this[--p];return this}});
window.LifeViewerLoaded||(window.LifeViewerLoaded=!0,function(){window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.iJ||performance.jJ||performance.lJ||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);window.cancelRequestAnimationFrame||
(window.cancelRequestAnimationFrame=window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame);window.Uint8Array?window.typedArrays=!0:(window.typedArrays=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);var e=new Uint32Array(1);e[0]=4660;52===(new Uint8Array(e.buffer))[0]?
window.littleEndian=!0:window.littleEndian=!1;window.arrayFill=e.fill?!0:!1;window.copyWithin=e.copyWithin?!0:!1;window.registerEvent=function(n,p,b,k){n.addEventListener?n.addEventListener(p,b,k):n.attachEvent("on"+p,b)}}(),function(){function e(b,k,c){this.type=b;this.name=c;this.elements=k;this.size=k*p.ho(b);this.Pn=1}function n(){this.Kg=[];this.Pm=this.Hp=this.Om=this.Fp=0}var p={vu:8,wu:40,tu:9,uu:10,gu:0,eu:1,fu:2,$t:18,au:19,ho:function(b){return 1<<(b&7)},CI:function(b){var k=(0!==(b&16)?
"Float":0!==(b&8)?"Uint":"Int")+8*(1<<(b&7));0!==(b&32)&&(k+="Clamped");return k}};n.prototype.mE=function(b){var k="";0<=b&&b<this.Kg.length&&(b=this.Kg[b],k=p.CI(b.type)+"\t"+b.elements+"\t"+b.name+"\t"+b.Pn);return k};n.prototype.h=function(b,k,c){for(var f=0,d=!1,g;f<this.Kg.length&&!d;)g=this.Kg[f],c===g.name?(d=!0,this.Hp+=1,this.Pm+=g.elements*p.ho(g.type)):f+=1;d?(this.Kg[f].type=b,this.Kg[f].elements=k,this.Kg[f].Pn+=1,this.Kg[f].size=k*p.ho(b)):(f=this.Kg.length,this.Kg[f]=new e(b,k,c));
this.Fp+=1;this.Om+=k*p.ho(b)};n.prototype.Yy=function(b,k,c,f,d){b=b.buffer;f*=p.ho(k);switch(k){case p.vu:c=new Uint8Array(b,f,c);break;case p.wu:c=new Uint8Array(b,f,c);break;case p.tu:c=new Uint16Array(b,f,c);break;case p.uu:c=new Uint32Array(b,f,c);break;case p.gu:c=new Int8Array(b,f,c);break;case p.eu:c=new Int16Array(b,f,c);break;case p.fu:c=new Int32Array(b,f,c);break;case p.$t:c=new Float32Array(b,f,c);break;case p.au:c=new Float64Array(b,f,c);break;default:c=null,alert("Illegal type specified to allocator.typedView for "+
d+": "+k)}return c};n.prototype.A=function(b,k,c){switch(b){case p.vu:k=new Uint8Array(k);break;case p.wu:k=new Uint8Array(k);break;case p.tu:k=new Uint16Array(k);break;case p.uu:k=new Uint32Array(k);break;case p.gu:k=new Int8Array(k);break;case p.eu:k=new Int16Array(k);break;case p.fu:k=new Int32Array(k);break;case p.$t:k=new Float32Array(k);break;case p.au:k=new Float64Array(k);break;default:k=null,alert("Illegal type specified to allocator.typedMemory for "+c+": "+b)}return k};n.prototype.F=function(b,
k,c){var f=null;0<k&&(f=this.A(b,k,c));(f||0===k)&&this.h(b,k,c);return f};n.prototype.lE=function(b,k,c,f){var d=null;0<k&&(d=this.A(b,k,c));(d||0===k)&&this.h(b,k*f,c);return d};Array.Y=function(b,k,c,f,d,g){var m=0,q=[];q.l=d;q.type=b;q.sb=null;var r=d.F(b,k*c,g);q.sb=r;if(0<c){for(;m<k;)q[m]=d.Yy(r,b,c,m*c,g),m+=1;if(0!==f)if(arrayFill)r.fill(f);else for(m=0;m<r.length;)r[m]=f,m+=1}return q};Array.vo=function(b,k){k=b.l.lE(b.type,b[0].length,k,b.length+1);b[b.length]=k};Array.pi=function(b,k){k.sb.set(b.sb)};
Array.oc=function(b,k,c){var f,d=k.length,g=[],m=k.l,q=k[0].length/p.ho(b);for(f=0;f<d;f+=1)g[f]=m.Yy(k.sb,b,q,f*q,c);return g};Array.tw=function(b,k,c){var f,d=b.length,g=b.l,m=b.type,q=b[0].length;for(f=0;f<d;f+=1)g.Yy(b.sb,m,q-k,f*q+k,c)};window.Allocator=n;window.Uint8=p.vu;window.Uint8Clamped=p.wu;window.Uint16=p.tu;window.Uint32=p.uu;window.Int8=p.gu;window.Int16=p.eu;window.Int32=p.fu;window.Float32=p.$t;window.Float64=p.au}(),function(){window.AliasManager={c:[],kf:[],cf:function(){var e,
n;this.c=[];this.kf=[];this.kf.push("1D");this.c.push(["Wolfram",""]);this.c.push(["Brownian motion","W54"]);this.c.push(["Fishing-net","W110"]);this.c.push(["Heavy triangles","W22"]);this.c.push(["Linear A","W90"]);this.c.push(["Linear B","W150"]);this.c.push(["Pascal's Triangle","W18"]);this.c.push(["Randomizer 1","W30"]);this.c.push(["Randomizer 2","W45"]);this.c.push(["Wolfram 22","W22"]);this.c.push(["Wolfram 30","W30"]);this.c.push(["Wolfram 110","W110"]);this.kf.push("Margolus");this.c.push(["Margolus",
""]);this.c.push(["BBM","M0,8,4,3,2,5,9,7,1,6,10,11,12,13,14,15"]);this.c.push(["BounceGas","M0,8,4,3,2,5,9,14,1,6,10,13,12,11,7,15"]);this.c.push(["BounceGasII","M0,8,4,12,2,10,9,7,1,6,5,11,3,13,14,15"]);this.c.push(["Critters","M15,14,13,3,11,5,6,1,7,9,10,2,12,4,8,0"]);this.c.push(["HPP_Gas","M0,8,4,12,2,10,9,14,1,6,5,13,3,11,7,15"]);this.c.push(["MargSingRot","M0,2,8,3,1,5,6,7,4,9,10,11,12,13,14,15"]);this.c.push(["Rotations","M0,2,8,12,1,10,9,11,4,6,5,14,3,7,13,15"]);this.c.push(["RotationsII",
"M0,2,8,12,1,10,9,13,4,6,5,7,3,14,11,15"]);this.c.push(["RotationsIII","M0,4,1,10,8,3,9,11,2,6,12,14,5,7,13,15"]);this.c.push(["RotationsIV","M0,4,1,12,8,10,6,14,2,9,5,13,3,11,7,15"]);this.c.push(["Sand","M0,4,8,12,4,12,12,13,8,12,12,14,12,13,14,15"]);this.c.push(["StringThing","M0,1,2,12,4,10,9,7,8,6,5,11,3,13,14,15"]);this.c.push(["StringThingII","M0,1,2,12,4,10,6,7,8,9,5,11,3,13,14,15"]);this.c.push(["SwapOnDiag","M0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15"]);this.c.push(["Tron","M15,1,2,3,4,5,6,7,8,9,10,11,12,13,14,0"]);
this.kf.push("PCA");this.c.push(["PCA",""]);this.c.push(["Model_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);this.c.push(["PCA_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);this.c.push(["PCA_2","2PCA4,0,2,4,3,8,10,6,7,1,9,5,11,12,13,14,15"]);this.c.push(["PCA_3","2PCA4,0,8,1,3,2,5,6,7,4,9,10,11,12,13,14,15"]);this.c.push(["PCA_4","2PCA4,0,2,4,12,8,5,9,7,1,6,10,11,3,13,14,15"]);this.c.push(["Model_2","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);this.c.push(["PCA_5","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);
this.c.push(["PCA_6","2PCA4,0,2,4,3,8,10,6,14,1,9,5,7,12,11,13,15"]);this.c.push(["PCA_7","2PCA4,0,2,4,12,8,5,9,14,1,6,10,7,3,11,13,15"]);this.c.push(["PCA_8","2PCA4,0,2,4,12,8,10,9,14,1,6,5,7,3,11,13,15"]);this.c.push(["PCA_9","2PCA4,0,2,4,12,8,10,9,13,1,6,5,14,3,7,11,15"]);this.c.push(["PCA_10","2PCA4,0,1,2,3,4,5,6,13,8,9,10,14,12,7,11,15"]);this.c.push(["PCA_11","2PCA4,0,4,8,3,1,10,6,11,2,9,5,11,13,12,14,15"]);this.c.push(["PCA_12","2PCA4,0,4,2,3,14,6,11,5,8,7,9,13,10,12,1,15"]);this.kf.push("OT M");
this.c.push(["Outer-Totalistic Moore",""]);this.c.push(["","B3/S23"]);this.c.push(["2x2","B36/S125"]);this.c.push(["2x2 2","B3678/S1258"]);this.c.push(["34 Life","B34/S34"]);this.c.push(["3-4 Life","B34/S34"]);this.c.push(["Amoeba","B357/S1358"]);this.c.push(["AntiLife","B0123478/S01234678"]);this.c.push(["Assimilation","B345/S4567"]);this.c.push(["Bacteria","B34/S456"]);this.c.push(["Blinkers","B345/S2"]);this.c.push(["Bugs","B3567/S15678"]);this.c.push(["Castles","B3678/S135678"]);this.c.push(["Coagulations",
"B378/S235678"]);this.c.push(["Conway's Game of Life","B3/S23"]);this.c.push(["Conway's Life","B3/S23"]);this.c.push(["Coral","B3/S45678"]);this.c.push(["Corrosion of Conformity","B3/S124"]);this.c.push(["Dance","B34/S35"]);this.c.push(["Day & Night","B3678/S34678"]);this.c.push(["Day and Night","B3678/S34678"]);this.c.push(["Diamoeba","B35678/S5678"]);this.c.push(["DotLife","B3/S023"]);this.c.push(["DrighLife","B367/S23"]);this.c.push(["DryFlock","B37/S12"]);this.c.push(["DryLife","B37/S23"]);this.c.push(["DryLife without Death",
"B37/S012345678"]);this.c.push(["EightFlock","B3/S128"]);this.c.push(["EightLife","B3/S238"]);this.c.push(["Electrified Maze","B45/S12345"]);this.c.push(["Eppstein","B35/S236"]);this.c.push(["Flock","B3/S12"]);this.c.push(["Forest of Ls","B168/S236"]);this.c.push(["Fredkin","B1357/S02468"]);this.c.push(["Gems Minor","B34578/S456"]);this.c.push(["Gems","B3457/S4568"]);this.c.push(["Gnarl","B1/S1"]);this.c.push(["H-Trees","B1/S012345678"]);this.c.push(["HighFlock","B36/S12"]);this.c.push(["HighLife",
"B36/S23"]);this.c.push(["HighLife without Death","B36/S012345678"]);this.c.push(["Holstein","B35678/S4678"]);this.c.push(["HoneyFlock","B38/S128"]);this.c.push(["HoneyLife","B38/S238"]);this.c.push(["Iceballs","B25678/S5678"]);this.c.push(["InverseLife","B012345678/S34678"]);this.c.push(["Invertamaze","B028/S0124"]);this.c.push(["IronFlock","B36/S128"]);this.c.push(["IronLife","B36/S238"]);this.c.push(["Land Rush","B36/S234578"]);this.c.push(["Life SkyHigh","B368/S236"]);this.c.push(["Life without Death",
"B3/S012345678"]);this.c.push(["Life","B3/S23"]);this.c.push(["Live Free or Die","B2/S0"]);this.c.push(["Logarithmic replicator rule","B36/S245"]);this.c.push(["LongLife","B345/S5"]);this.c.push(["Long Life","B345/S5"]);this.c.push(["LowDeath without death","B368/S012345678"]);this.c.push(["LowDeath","B368/S238"]);this.c.push(["LowFlockDeath","B368/S128"]);this.c.push(["LowLife","B3/S13"]);this.c.push(["Majority","B45678/S5678"]);this.c.push(["Maze","B3/S12345"]);this.c.push(["Maze with Mice","B37/S12345"]);
this.c.push(["Mazectric","B3/S1234"]);this.c.push(["Mazectric with Mice","B37/S1234"]);this.c.push(["Morley","B368/S245"]);this.c.push(["Move","B368/S245"]);this.c.push(["Neon Blobs","B08/S4"]);this.c.push(["Pedestrian Flock","B38/S12"]);this.c.push(["Pedestrian Life","B38/S23"]);this.c.push(["Pedestrian Life without Death","B38/S012345678"]);this.c.push(["Persian Rug","B234/S"]);this.c.push(["Plow World","B378/S012345678"]);this.c.push(["Pseudo Life","B357/S238"]);this.c.push(["Replicator","B1357/S1357"]);
this.c.push(["Rings 'n' Slugs","B56/S14568"]);this.c.push(["Seeds","B2/S"]);this.c.push(["Serviettes","B234/S"]);this.c.push(["Shoots and Roots","B3/S245678"]);this.c.push(["Slow Blob","B367/S125678"]);this.c.push(["SnowLife","B3/S1237"]);this.c.push(["Stains","B3678/S235678"]);this.c.push(["Virus","B36/S235"]);this.c.push(["Vote","B5678/S45678"]);this.c.push(["Vote 4/5","B4678/S35678"]);this.c.push(["Walled Cities","B45678/S2345"]);this.kf.push("OT Hex");this.c.push(["Outer-Totalistic Hex",""]);
this.c.push(["Fredkin Hex","B135/S0246H"]);this.c.push(["Hexagonal Life","B2/S34H"]);this.c.push(["HighHexLife","B25/S34H"]);this.c.push(["Replicator Hex","B135/S135H"]);this.kf.push("NT M");this.c.push(["Isotropic Non-Totalistic Moore",""]);this.c.push(["15Life","B34r/S23-q4et"]);this.c.push(["104life","B34ky5cy/S23-a4ity6c7"]);this.c.push(["22k","B2-k/S2-k"]);this.c.push(["38life","B35y/S2-n35k6ci"]);this.c.push(["57life","B34tyz5cy/S23-a4it5ej"]);this.c.push(["aLife","B3/S234iw"]);this.c.push(["Arcane Circuitry",
"B2ci3aikr/S1e2-a3i"]);this.c.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);this.c.push(["Artillery","B3-y7/S2-i3-c4kqt"]);this.c.push(["Atomic","B2ei3i/S1c2-n3jr4an5i6c"]);this.c.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);this.c.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);this.c.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);this.c.push(["Beaecsizae","B34ce/S12-a3"]);this.c.push(["Best Friends","B2ce3aiy/S12aei3r"]);this.c.push(["Bgunlife","B34eny5e/S23-a4iy5e6c"]);
this.c.push(["Blocks for Days","B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);this.c.push(["BoatLife","B3-knqy/S2-n3-ey4akwy5aik6kn"]);this.c.push(["boatLife","B3ainqy4aeq5ejn8/S2-in3-aek4aciq5ae6-c7c8"]);this.c.push(["Breps","B34cqy5c/S23-y4y"]);this.c.push(["Breps-2","B3aeijn4n8/S234iqz"]);this.c.push(["Bubbles","B3ai4-a/S23"]);this.c.push(["Butterfly","B2i34e6i7c/S2-i36n"]);this.c.push(["butterflyb7","B2i34e6i7/S2-i36n"]);this.c.push(["Buzz","B2i35-n/S2-ci36k8"]);this.c.push(["CapLife","B36c/S23"]);
this.c.push(["CarrierLife","B2e3aceik/S23"]);this.c.push(["Cataverters","B3-cen/S234eijkrw5cry6ik"]);this.c.push(["CB2","B2ae4i/S1e2in"]);this.c.push(["cetlife","B34cet/S234jkwyz"]);this.c.push(["CommonRepl","B3/S23-ac4eiy6"]);this.c.push(["Conquerors and Colonizers","B2ace3acei4ace5acei6ace/S"]);this.c.push(["Conway++","B3/S234c"]);this.c.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);this.c.push(["Conway+-2","B3/S2-ak34aikqtwz5inqy"]);this.c.push(["Conway--","B3/S2-ei3"]);this.c.push(["Creperie","B2ikn3aijn/S23-ckqy"]);
this.c.push(["Crylife","B2n3-cry4kn6i7c/S23-a4i6c"]);this.c.push(["Diamoeral","B2n3ai4a78/S35678"]);this.c.push(["Diamonds","B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);this.c.push(["DLife","B3-n/S23"]);this.c.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);this.c.push(["Dry15Life","B34r7/S23-q4et"]);this.c.push(["DryGoats","B2in37/S123a"]);this.c.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);this.c.push(["Eatsplosion IV","B2n3-q4aqz6n8/S2-in3-q4iz7c8"]);this.c.push(["EightGoats",
"B2in3/S123a8"]);this.c.push(["Einstein","B2ein3cijn4cnrwy5cnq6e/S1c2-ai3acny4anqy5c6ek8b2ein3cijn4cnrwy5cnq6es1c2-ai3acny4anqy5c6ek8"]);this.c.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);this.c.push(["Extension","B2cei3-ijnr4-a6i/S12-cn"]);this.c.push(["fakePiShipLife","B3-ck4e5k6i/S2-in35i6c8"]);this.c.push(["FattyLife","B3-n4nt5qr6i/S23"]);this.c.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);this.c.push(["FlashLife","B2kn3-n4e/S23"]);this.c.push(["Flowflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k7e"]);
this.c.push(["Flying Life","B3-k5r/S236n7e"]);this.c.push(["FogLife","B35eq7/S2-i34q"]);this.c.push(["Gentle relative","B2cen3ek4jkw5-aein6a7e/S12an3-eijq4enrty5e6k"]);this.c.push(["GlideLife","B34ek5ak/S2-c34z"]);this.c.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);this.c.push(["GliderRROLife","B2e3einy4ak5ijq7c/S1c2-ai3-ceky4ejny5ceqr6ak"]);this.c.push(["Glimmering Garden","B3-jknr4ity5ijk6i8/S23-a4city6c7c"]);this.c.push(["GMO snowflakes","B34c6n/S2-n3-ck4cijqtwy5y6n"]);this.c.push(["Goat Flock",
"B2in3/S123a"]);this.c.push(["Goats","B2in3/S123a"]);this.c.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);this.c.push(["Growflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k"]);this.c.push(["guntlife","B35j6a/S2-i34q"]);this.c.push(["Half as Interesting","B2ce3i/S23"]);this.c.push(["hassl8life","B34k5e7c/S23-a4iyz"]);this.c.push(["hatlife","B35y/S23"]);this.c.push(["HeptaFish","B3-e4i5i/S234e"]);this.c.push(["High15Life","B34r6/S23-q4et"]);this.c.push(["HighGoats","B2in36/S123a"]);this.c.push(["Hive",
"B3-ry4ckn/S2-in3-cjn4it5aiky6-a7e8"]);this.c.push(["hlife3","B3/S2-in34iw"]);this.c.push(["HoneyGoats","B2in38/S123a8"]);this.c.push(["HouseLife","B2i3/S23-r"]);this.c.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);this.c.push(["IceNine","B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);this.c.push(["ilife","B3/S235i"]);this.c.push(["Immortalife","B3-cqy4j/S2-n34i"]);this.c.push(["IronGoats","B2in36/S123a8"]);this.c.push(["Just Friends","B2-a/S12"]);this.c.push(["Kgdm","B3/S2-c3-en4ceitz"]);this.c.push(["klife",
"B34n/S23"]);this.c.push(["Knyght","B2e3/S23-jq"]);this.c.push(["LambdaLife","B3-k/S2-i3-k4cen"]);this.c.push(["LifeWithoutGliders","B35n/S23"]);this.c.push(["Linea","B2-a3-i/S23-a"]);this.c.push(["LoafLife","B2n3-q/S23"]);this.c.push(["Migrating Bookends","B2ein3inry/S12-n3ce"]);this.c.push(["Mooselife","B34kz5e7c/S23-a4ityz5k"]);this.c.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);this.c.push(["MoveIt","B368/S23cy45-j6n"]);this.c.push(["movetub","B34e68/S245"]);this.c.push(["movev","B35y68/S245"]);
this.c.push(["Movostill","B2i3acijk6i/S23-a4"]);this.c.push(["Movostill 2","B3acijk/S23-a4"]);this.c.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);this.c.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);this.c.push(["Omosso","B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);this.c.push(["Orthogonable","B2e3aiknr4q/S1c2-in3aijry4a"]);this.c.push(["Particles","B2ce3i/S1c2cek"]);this.c.push(["Pedestrian Goats","B2in38/S123a"]);this.c.push(["Pentadecathlife","B34e5y6cn8/S234c5e"]);this.c.push(["Photics I","B2ae4c678/S01e4aeqrtw5678"]);
this.c.push(["Photics II","B2ae4cw5y6i/S01e2i4q"]);this.c.push(["Pi-plicator","B3-ckq/S2-c34ci"]);this.c.push(["PiLife","B37e/S23"]);this.c.push(["plasma1","B012-in3-cky4ar5cjnr6ae/S05aijnr6n"]);this.c.push(["PondLife","B36i/S2-i35i"]);this.c.push(["pre-X-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);this.c.push(["Prismatika Crystallios","B2ae3r/S1e"]);this.c.push(["PlasmaLife","B34-air/S234-air"]);this.c.push(["Puffers","B3-nqr6/S235-nqr"]);this.c.push(["quadraticlife","B34j/S23"]);this.c.push(["Quasilinear Collisions",
"B2-ak3-jnqr/S15678"]);this.c.push(["Rakelife","B3aij/S2-i3ajnr4arz56-a7e"]);this.c.push(["Rainflakes","B2-ac3aei4ey5n6n8/S02-n3aceir4ceyz5e6k"]);this.c.push(["reptlife","B36-k/S2-i34q"]);this.c.push(["Rule X3VI","B2c3aei4ajnr5acn/S2-ci3-ck4in5jkq6c7c"]);this.c.push(["RustyLife","B34-ai/S24-air5-a"]);this.c.push(["Salad","B2i34c/S2-i3"]);this.c.push(["Savanna","B2e3aeiy4ce5i6c7e/S2-n3-a4artz5aeny6cn"]);this.c.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);this.c.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);
this.c.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);this.c.push(["SilverLife","B367/S2-i34q"]);this.c.push(["SLHassleLife","B3-y5cr/S234w6n"]);this.c.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);this.c.push(["SolarWorld","B2ce3ci4iyz5ce6c/S12ce3ae"]);this.c.push(["SmokingLife","B2i34cj6a7c8/S2-i3-a4ceit6in"]);this.c.push(["Smorgasbord","B2e3aijr4q/S1c23-a5"]);this.c.push(["Snowflakes","B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);this.c.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);
this.c.push(["SparkLife","B36i/S234j"]);this.c.push(["SparseMethuseLife","B35y/S1e2-ci3-a5i"]);this.c.push(["StairWorld","B2-a3i4aijk/S2a3-i4"]);this.c.push(["Stars","B2e3-ceny4einqwz5-cikr6cei/S1c2e3aijky4aceijrz5-cejk6-ak7c8"]);this.c.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);this.c.push(["Switches","B2ei3ij4ajnr6ci/S12ce3ajn4qtz5ijnqy6c"]);this.c.push(["Symmetristic","B2-ak3-jnqr4ceiqtwz5-jnqr6-ak/S2-ak3-jnqr4ceiqtwz5-jnqr6-ak"]);this.c.push(["TableLife","B3/S23-ai4anq6n"]);
this.c.push(["TauLife","B3-nr/S2-i34-aij"]);this.c.push(["tceclife","B36ce7c/S2-i34q"]);this.c.push(["tDryFlock","B37/S12-i4q"]);this.c.push(["tDryLife","B37/S2-i34q"]);this.c.push(["TearfulLife","B34e5c6n/S23-q"]);this.c.push(["tEightLife","B3/S2-i34q8"]);this.c.push(["tflock","B3/S12-i4q"]);this.c.push(["tHighFlock","B36/S12-i4q"]);this.c.push(["tHighLife","B36/S2-i34q"]);this.c.push(["ThisLife","B36i/S23-ce5q"]);this.c.push(["tlife","B3/S2-i34q"]);this.c.push(["tPedestrianFlock","B38/S12-i4q"]);
this.c.push(["tPedestrianLife","B38/S2-i34q"]);this.c.push(["Train","B34t6k8/S2-i35a7e"]);this.c.push(["Trilobites","B3aijn4w5nq/S2ae3aijr4irz5y"]);this.c.push(["Turro","B2-a3c/S12-i"]);this.c.push(["Two-dots rule 1","B2ei3ci4aerw5acky6i8/S012-an3eiknq4qrty5aeik6ik8"]);this.c.push(["Two-dots rule 2","B2-ak3aen4cenrtw5iq6e/S02ac3aenqy4ejqtwy5ak6acn7"]);this.c.push(["Twinkles","B2in34-a/S1e2ekn34ent"]);this.c.push(["Virus_v2","B3-nqr6/S235"]);this.c.push(["Wartlife","B3aijnq6n/S2-cn3-ceky4i"]);this.c.push(["Whichlife",
"B2in3aeijn/S234e"]);this.c.push(["Wild Seas","B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);this.c.push(["wlife","B34w/S23"]);this.c.push(["X-rule-pre","B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);this.c.push(["Ylife","B2e3ai4ar/S23-a4a"]);this.c.push(["ZombieLife","B3-nqy4aqz5cn6n8/S2-i3-a4inqz7c8"]);this.kf.push("NT Hex");this.c.push(["Isotropic Non-Totalistic Hex",""]);this.c.push(["Hex Life","B2o3m56/S2-p4oH"]);this.c.push(["22da","B2o/S2-mH"]);this.c.push(["Hexrule b2o","B2o/S2m34H"]);this.kf.push("OT M G");
this.c.push(["Outer-Totalistic Generations Moore",""]);this.c.push(["9:43 at Knight","237/34578/4"]);this.c.push(["Banners","2367/3457/5"]);this.c.push(["BelZhab","23/23/8"]);this.c.push(["BelZhab Sediment","145678/23/8"]);this.c.push(["Bloomerang","234/34678/24"]);this.c.push(["Bombers","345/24/25"]);this.c.push(["Brain 5","/2/5"]);this.c.push(["Brain 6","6/246/3"]);this.c.push(["Brian's Brain","/2/3"]);this.c.push(["Burst","0235678/3468/9"]);this.c.push(["BurstII","235678/3468/9"]);this.c.push(["Caterpillars",
"124567/378/4"]);this.c.push(["Chenille","05678/24567/6"]);this.c.push(["Circuit Genesis","2345/1234/8"]);this.c.push(["Constellations","/23/3"]);this.c.push(["Cooties","23/2/8"]);this.c.push(["Ebb&Flow","012478/36/18"]);this.c.push(["Ebb&Flow II","012468/37/18"]);this.c.push(["Faders","2/2/25"]);this.c.push(["Fireworks","2/13/21"]);this.c.push(["Flaming Starbows","347/23/8"]);this.c.push(["Free Star","0345/2/10"]);this.c.push(["Frogs","12/34/3"]);this.c.push(["Frozen spirals","356/23/6"]);this.c.push(["Glisserati",
"035678/245678/7"]);this.c.push(["Glissergy","035678/245678/5"]);this.c.push(["Lava","12345/45678/8"]);this.c.push(["Lines","012345/458/3"]);this.c.push(["LivingOn TheEdge","345/3/6"]);this.c.push(["Meteor Guns","01245678/3/8"]);this.c.push(["Nova","45678/2478/25"]);this.c.push(["OrthoGo","3/2/4"]);this.c.push(["Prairie on fire","345/34/6"]);this.c.push(["RainZha","2/23/8"]);this.c.push(["Rake","3467/2678/6"]);this.c.push(["SediMental","45678/25678/4"]);this.c.push(["Snake","03467/25/6"]);this.c.push(["SoftFreeze",
"13458/38/6"]);this.c.push(["Spirals","2/234/5"]);this.c.push(["Star Wars","345/2/4"]);this.c.push(["Sticks","3456/2/6"]);this.c.push(["Swirl","23/34/8"]);this.c.push(["Tadpoles","0125678/345678/64"]);this.c.push(["ThrillGrill","1234/34/48"]);this.c.push(["Transers","345/26/5"]);this.c.push(["TransersII","0345/26/6"]);this.c.push(["Transers 2","0345/26/6"]);this.c.push(["Transers 3","0345/26/7"]);this.c.push(["Wallplicators","345/25678/7"]);this.c.push(["Wanderers","345/34678/5"]);this.c.push(["Worms",
"3467/25/6"]);this.c.push(["Xtasy","1456/2356/16"]);this.kf.push("NT M G");this.c.push(["Isotropic Non-Totalistic Generations Moore",""]);this.c.push(["Jellyfish","2ak34-a5-i/2c36k7/4"]);this.c.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);this.c.push(["tGeneC1WC0","2-i34q/2c34w5c/4"]);this.kf.push("LtL M");this.c.push(["Larger than Life Moore",""]);this.c.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);this.c.push(["Bosco's Rule","R5,C2,M1,S34..58,B34..45,NM"]);this.c.push(["Bosco Analogue",
"R5,C2,M1,S34..53,B31..42,NM"]);this.c.push(["Bugs R3","R3,C2,M1,S14..23,B14..18,NM"]);this.c.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);this.c.push(["Bugs R6","R6,C2,M1,S47..81,B47..63,NM"]);this.c.push(["Bugs R6 variant","R6,C2,M1,S47..81,B47..71,NM"]);this.c.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);this.c.push(["Bugs R9","R9,C2,M1,S101..173,B101..134,NM"]);this.c.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);this.c.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);
this.c.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);this.c.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);this.c.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);this.c.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);this.c.push(["Bugs R100 variant","R100,C2,M1,S11303..19361,B11100..14996,NM"]);this.c.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);this.c.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);this.c.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);this.c.push(["Mini Bugs",
"R2,C2,M1,S7..10,B7..8,NM"]);this.c.push(["Miniature Bugs","R3,C2,M1,S15..22,B14..25,NM"]);this.c.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);this.c.push(["Quadratic Bugs","R6,C2,M1,S47..81,B47..61,NM"]);this.c.push(["Rasta Bugs","R5,C2,M1,S41..59,B32..50,NM"]);this.c.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);this.c.push(["Stones","R5,C2,M1,S29..58,B38..61,NM"]);this.c.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);this.c.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);this.c.push(["Waffle",
"R7,C2,M1,S100..200,B75..170,NM"]);this.c.push(["Waving human intestines","R20,C2,M1,S1..21,B1..5,NM"]);this.kf.push("LtL M G");this.c.push(["Generations Larger than Life Moore",""]);this.c.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);this.c.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);this.c.push(["ModernArt","R10,C255,M1,S2..3,B3..3,NM"]);this.kf.push("HROT M");this.c.push(["Higher-Range Outer-Totalistic Moore",""]);this.c.push(["Fredkin R2","R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);
this.c.push(["Fredkin R3","R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);this.c.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);this.c.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);
this.c.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);this.c.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);this.kf.push("NI NT");this.c.push(["Non-Isotropic",""]);
this.c.push(["2CellSlug","MAPBTDe/yAA9/8AAP//AAD//yAA/78AAP//AID//wAA//8AAP//AAD/2wAA//8AgP//AAD//4AA//+AAH//AAD//w"]);this.c.push(["FoxLife","MAPARYXfhZofugWaH7oaIFoxBZofuhogOiAaIFoxIAAgAAWaH7oaIFoxGiA6ICAAIAAaIFoxIAAgACAAIAAAAAAAA"]);this.c.push(["SemiFelineLife","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaICatGiA6ICAAIAAaICatIAAgACAAIAAAAAAAA"]);this.c.push(["Socrates","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaIDogGiA6ICAAIAAaIDogIAAg00IAmSocrates"]);this.kf.push("Alt OT M");
this.c.push(["Alternating Outer-Totalistic Moore",""]);this.c.push(["alternlife","B13/S012345678|B/S15"]);this.c.push(["comb625","B3/S348|B2/S356"]);this.c.push(["Fizzler","B13/S3|B/S345678"]);this.c.push(["Jelly","B3/S135|B2/S5"]);this.c.push(["Phoenix","B24/S|B35/S"]);this.kf.push("Alt NT M");this.c.push(["Alternating Non-Totalistic Moore",""]);this.c.push(["Unidim1","B134578/S02345678|B6i7/S268"]);this.c.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);this.c.push(["Unidim3","B12ci34578/S02345678|B6i7/S268"]);
this.c[0][2]=!1;for(e=1;e<this.c.length;e+=1){var p=this.c[e][1];this.c[e][2]=!1;for(n=0;n<e;n+=1)this.c[n][1]===p&&(this.c[n][2]=!0,this.c[e][2]=!0,n=e)}},qA:function(e){for(var n=null,p=0;p<this.c.length&&null===n;)""!==this.c[p][1]&&this.c[p][0]===e&&(n=this.c[p][1]),p+=1;if(!n)for(e=e.toLowerCase(),p=0;p<this.c.length&&null===n;)""!==this.c[p][1]&&this.c[p][0].toLowerCase()===e&&(n=this.c[p][1]),p+=1;return n},Nr:function(e){for(var n=null,p=0;p<this.c.length&&null===n;)""!==this.c[p][1]&&this.c[p][1]===
e&&(n=this.c[p][0]),p+=1;return n}}}(),function(){function e(d,g,m,q,r){this.o=r;this.la=d;this.wa=g;this.nb=m;this.message="";this.T=d;this.Z=g;this.eb=m;this.oj="";this.context=q;this.Qa=!1;this.fa=this.A=0;this.eg="rgb(32,255,255)";this.iC="white";this.h=0;this.animate=!1;this.Fb=this.Mb="black";this.enabled=!1;this.scale=1}function n(d,g,m,q){this.name=d;this.width=g;this.height=m;this.Pn=q}function p(d,g){this.context=g;this.T=d;this.height=this.width=0;this.la=this.fa=this.A=this.h=null;this.Z=
[];this.gt=!0;this.Kx=-1;this.wA=0;this.cf=!1;this.scale=1}function b(d,g,m,q,r,w,u,y,a,h,l,v,x,t,A,z,B,C,D,E){this.id=d;this.h=E;this.w="";this.Uk=-1;this.f=this.$r=!1;this.jb=g;this.caller=m;this.icon=D;this.x=r;this.y=w;this.pl=r;this.A=w;this.position=q;this.width=u;this.height=y;this.cq=u;this.Mx=y;this.border=t;this.type=v;x===f.Ou?this.orientation=u>=y?f.me:f.vertical:this.orientation=x;this.uq=this.orientation;this.lower=a;this.upper=h;v===f.Rc?this.current=[l,l]:this.current=l;this.cz=A;
this.Ha=z;this.xx=B;this.fixed=C;this.ps=!1;this.OA=this.NA=-1;this.textAlign=f.Pz;this.enabled=!0;this.locked=!1;this.Ih=[];if(this.type===f.list)for(d=0;d<a.length;d+=1)this.Ih[d]=!1;this.Aq=[];this.Gs=0;this.kG=!1;this.Ic=E.Ic;this.ie=E.ie;if(v===f.list)for(this.Bo=[],d=0;d<a.length;d+=1)this.Bo[d]=this.Ic;this.xf=E.xf;this.Rf=E.Rf;this.Gh=E.Gh;this.$j=E.$j;this.rl=E.rl;this.Em=E.Em;this.ng=E.ng;this.ej=E.ej;this.sh=E.sh;this.Mj=E.Mj;this.border=E.border;this.fontSize=parseInt(E.Sj.substr(0,E.Sj.indexOf("px")),
10);this.fontFamily=E.Sj.substr(E.Sj.indexOf("px")+3)}function k(d,g,m,q,r,w){this.na=d;this.context=r;this.ai=this.Pe=1;this.Sj=w;this.locked=this.f=!1;this.kj=this.Ug=-1;this.Ql=this.Oc=!1;this.fa=6;this.jb=g;this.Vd=[];this.pc=0;this.Ic="";this.ie=0;this.xf="";this.Rf=0;this.Gh="";this.$j=0;this.rl="";this.Em=0;this.ng="";this.ej=0;this.sh="";this.border=this.Mj=0;this.A=f.Ou;this.cl=this.Bk=-1;this.tv=this.nz=null;this.Nq=m;this.caller=q;this.R=null;this.ev=this.mr=this.T="auto"}function c(d,
g,m,q,r,w){var u=this,y=0;this.Oe=1;this.Yv=this.yx=!0;this.Qa=this.eb=40;this.AI=50;this.Pi=0;this.Z=this.fa=this.wa=-1;this.vm=!1;this.caller=r;this.Oi=this.Sa=this.fk=this.sc=!1;this.Zd=4;this.oA=w;this.hasFocus=this.Wu=!1;this.Ao=!0;this.Iq=!1;this.Dj=1;this.Ic="black";this.ie=.7;this.xf="white";this.Rf=1;this.Gh="rgb(0,240,32)";this.$j=.7;this.rl="blue";this.Em=.7;this.ng="grey";this.ej=1;this.sh="rgb(32,255,255)";this.border=this.Mj=1;this.Oz=function(a){return function(){a.jc(a)}}(this);this.R=
q;this.yc=d;this.nc=g;this.Oc=!1;this.ek=this.dk=-1;this.Ok=!1;this.xh=-1;this.dc=null;this.Sj=m;this.tl=this.vl=!1;this.qs=performance.now();this.um=5;this.zq=0;this.nw=[];this.rw=[];this.mw=[];for(y=0;5>y;y+=1)this.nw[y]=0,this.rw[y]=0,this.mw[y]=0;this.Cp=null;this.eh=!1;this.notification=new e(25,100,25,g,this);this.ow=performance.now();this.Ql=this.bz=!1;this.T=[];this.h=this.A=0;registerEvent(d,"mousedown",function(a){u.nb(u,a)},!1);registerEvent(d,"mousemove",function(a){u.pb(u,a)},!1);registerEvent(d,
"mouseup",function(a){u.ic(u,a)},!1);registerEvent(d,"mouseover",function(a){u.Mb(u,a)},!1);registerEvent(d,"mouseout",function(a){u.Fb(u,a)},!1);registerEvent(d,"touchstart",function(a){u.la(u,a)},!1);registerEvent(d,"touchmove",function(a){u.la(u,a)},!1);registerEvent(d,"touchend",function(a){u.la(u,a)},!1);registerEvent(d,"touchcancel",function(a){u.la(u,a)},!1)}e.prototype.Yl=function(){var d=!1;if(""!==this.message||""!==this.oj)d=!0;return d};e.prototype.clear=function(d,g){d?""!==this.oj&&
(g?this.oj="":this.fa=performance.now()-(this.T+this.Z)):""!==this.message&&(g?this.message="":this.A=performance.now()-(this.la+this.wa))};e.prototype.K=function(d,g,m){this.enabled&&(m?this.oj!==d&&(this.oj=d,this.T=240,this.Z=16*g,this.eb=240,this.fa=performance.now(),this.h=0,this.animate=!1):(this.message=d,this.la=240,this.wa=16*g,this.nb=240,this.A=performance.now()))};e.prototype.Zl=function(d,g,m){var q=this.context.measureText(d).width>>1;if(this.Qa){this.context.fillStyle=this.Fb;var r=
this.context.globalAlpha;this.context.globalAlpha=.5*r;this.context.fillRect(-q-20,-m,2*q+40,2*m);this.context.globalAlpha=r}this.context.fillStyle=this.Mb;this.context.fillText(d,-q+2,2);g?this.animate?(this.context.fillStyle=128>this.h?"rgb("+2*this.h+","+2*this.h+",255)":"rgb("+2*(256-this.h)+","+2*(256-this.h)+",255)",this.h=this.h+4&255):this.context.fillStyle=this.iC:this.context.fillStyle=this.eg;this.context.fillText(d,-q,0)};e.prototype.pb=function(d,g,m,q,r,w,u){var y=this.o.dc.ai,a=30*
y,h=32*y,l=this.o.Zd,v=60*y;y=!0;this.o.sc?(v=0,w=this.context.canvas.height/2,this.Qa=!0):this.Qa=!1;""!==d&&(y=!1,r=performance.now()-r,this.context.save(),this.o.Sa&&(u?(v=0,w=this.context.canvas.height/2):(a/=l,h=h/l|0,w=w/l|0,v=v/l|0)),this.context.font=(a*this.scale|0)+"px Arial",this.context.translate(this.context.canvas.width/2-1,v+w),r<=g?(w=r/g,w*=w,this.context.globalAlpha=w,this.context.scale(w,w)):r>g+m&&r<=g+m+q&&(w=(q-(r-(g+m)))/q,w*=w,this.context.globalAlpha=w,this.context.scale(w,
w)),r>g+m+q?y=!0:(g=d.indexOf("\\n"),-1===g?this.Zl(d,u,h):(this.Zl(d.substr(0,g),u,h),this.context.translate(0,h),this.Zl(d.substr(g+2),u,h))),this.context.restore());return y};e.prototype.update=function(){var d=this.o.dc.ai;this.pb(this.message,this.la,this.wa,this.nb,this.A,81*d,!1)&&(this.message="");this.o.Sa&&"Expand"!==this.oj&&"Launch"!==this.oj||!this.pb(this.oj,this.T,this.Z,this.eb,this.fa,45*d,!0)||(this.oj="")};p.prototype.dI=function(d){this.scale=d};p.prototype.Zl=function(d,g,m,q){var r;
if(0<this.T.width){this.cf||(this.width=this.T.width,this.height=this.T.height,this.h=document.createElement("canvas"),this.h.width=this.width,this.h.height=this.height,this.A=this.h.getContext("2d"),this.fa=new Image,this.la=new Image);if(this.gt){this.A.drawImage(this.T,0,0);var w=this.A.getImageData(0,0,this.h.width,this.h.height);var u=new Uint32Array(w.data.buffer);for(r=0;r<u.length;r+=1)4294967295===u[r]&&(u[r]=this.wA);this.A.putImageData(w,0,0);this.la.src=this.h.toDataURL("image/png");this.A.drawImage(this.T,
0,0);w=this.A.getImageData(0,0,this.h.width,this.h.height);u=new Uint32Array(w.data.buffer);for(r=0;r<u.length;r+=1)4294967295===u[r]&&(u[r]=this.Kx);this.A.putImageData(w,0,0);this.cf=this.gt=!1}this.cf||(this.fa.src=this.h.toDataURL("image/png"),this.cf=!0);1!==this.scale&&(this.context.save(),this.context.translate(g,m),this.context.scale(this.scale,this.scale),m=g=0);q?this.context.drawImage(this.la,d.Pn*d.width,0,d.width,d.height,g,m,d.width,d.height):this.context.drawImage(this.fa,d.Pn*d.width,
0,d.width,d.height,g,m,d.width,d.height);1!==this.scale&&this.context.restore()}};p.prototype.length=function(){return this.Z.length};p.prototype.icon=function(d){var g,m=this.Z,q=this.length(),r=null;for(g=0;g<q&&!r;)m[g].name===d?r=m[g]:g+=1;return r};p.prototype.add=function(d,g,m){var q=this.Z.length;d=new n(d,g,m,q);this.Z[q]=d};var f={Ou:0,me:1,vertical:2,Rc:0,button:1,toggle:2,zg:3,list:4,label:5,wl:0,Ca:1,left:0,Pz:1,right:2,da:0,$b:1,zv:2,rb:3,jo:4,Ki:5,qz:6,Wc:7,ob:8};b.prototype.La=function(d){this.fontSize=
parseInt(d.substr(0,d.indexOf("px")),10);this.fontFamily=d.substr(d.indexOf("px")+3)};b.prototype.kq=function(d,g,m,q,r,w){this.xf=d;this.Ic=g;this.Gh=m;this.rl=q;this.ng=r;this.sh=w};b.prototype.rj=function(d){this.cq=d};b.prototype.ZH=function(d){this.Mx=d};b.prototype.Fm=function(d){this.pl=d};b.prototype.setPosition=function(d,g,m){this.position=d;this.pl=g;this.A=m};b.prototype.zE=function(d,g){var m=this.h.Pe,q=this.h.ai,r=this.pl*m,w=this.A*q;m=this.cq*m;q=this.Mx*q;this.x=r;this.y=w;this.width=
m;this.height=q;switch(this.position){case f.da:this.x=(d-m>>1)+r;break;case f.$b:this.x=d+r;break;case f.zv:this.y=(g-q>>1)+w;this.x=d+r;break;case f.rb:this.x=d+r;this.y=g+w;break;case f.jo:this.x=(d-m>>1)+r;this.y=g+w;break;case f.Ki:this.y=g+w;break;case f.qz:this.y=(g-q>>1)+w;break;case f.ob:this.x=(d-m>>1)+r,this.y=(g-q>>1)+w}};b.prototype.yz=function(d,g){var m=this.Gs;this.Aq[m]=[d,g];this.Gs=m+1};b.prototype.Oq=function(d){var g=[],m;var q=d.length;for(m=0;m<q;m+=1)d[m].yz(this,!0);q=g.length;
for(m=0;m<q;m+=1)g[m].yz(this,!1)};b.prototype.IG=function(d,g){var m=!1;this.enabled&&d>=this.x&&d<this.x+this.width&&g>=this.y&&g<this.y+this.height&&(m=!0);return m};k.prototype.LH=function(d){this.ai=this.Pe=d;this.na.notification.scale=d};k.prototype.kq=function(d,g,m,q,r,w){var u;this.xf=d;this.Ic=g;this.Gh=m;this.ng=r;this.sh=w;for(u=0;u<this.Vd.length;u+=1)this.Vd[u].kq(d,g,m,q,r,w)};k.prototype.Z=function(d,g){var m=!1,q=d.Gs;d.type===f.list&&d.upper===f.Ca?m=d.current[0]:m=d.current===d.upper;
d.kG&&(m=!m);if(m&&g)for(g=0;g<q;g+=1)m=m&&this.Z(d.Aq[g][0],d.Aq[g][1]);return m};k.prototype.XC=function(d){var g,m=d.Gs;var q=!0;for(g=0;g<m;g+=1)q=q&&this.Z(d.Aq[g][0],d.Aq[g][1]);d.enabled=q};k.prototype.cf=function(){var d;for(d=0;d<this.pc;d+=1){var g=this.Vd[d];g.enabled=!0;switch(g.type){case f.toggle:g.jb&&(g.current=g.jb(g.current===g.upper,!1,this.caller)?g.upper:g.lower);break;case f.Rc:g.jb&&(g.current=g.jb(g.current,!1,this.caller));break;case f.list:g.jb&&(g.current=g.jb(g.current,
!1,this.caller))}this.XC(g)}};k.prototype.Ta=function(d,g,m,q,r,w,u,y,a){this.Vd[this.pc]=new b(this.pc,d,this.caller,g,m,q,r,w,u,a,y,f.list,this.A,this.border,!0,"","",-1,[],this);this.pc+=1;return this.Vd[this.pc-1]};k.prototype.Ti=function(d,g,m,q,r,w,u,y,a,h,l,v){this.Vd[this.pc]=new b(this.pc,d,this.caller,g,m,q,r,w,u,y,a,f.Rc,this.A,this.border,!0,h,l,v,null,this);this.pc+=1;return this.Vd[this.pc-1]};k.prototype.qa=function(d,g,m,q,r,w){this.Vd[this.pc]=new b(this.pc,null,null,d,g,m,q,r,0,
0,0,f.label,this.A,this.border,!0,w,"",-1,null,this);this.pc+=1;return this.Vd[this.pc-1]};k.prototype.Ja=function(d,g,m,q,r,w){this.Vd[this.pc]=new b(this.pc,d,this.caller,g,m,q,r,40,0,0,0,f.button,this.A,this.border,!0,w,"",-1,null,this);this.pc+=1;return this.Vd[this.pc-1]};k.prototype.fE=function(){this.Vd[this.pc]=new b(this.pc,null,null,Menu.Ki,0,-40,100,40,0,100,0,f.zg,this.A,this.border,!1,"","",0,null,this);this.pc+=1;return this.Vd[this.pc-1]};k.prototype.h=function(d,g,m){var q;d+=String();
if(""!==d){this.context.save();this.context.translate(g.x+g.width/2,g.y+g.height/2);this.context.font=(g.fontSize*this.Pe|0)+"px "+g.fontFamily;g.uq===f.vertical&&this.context.rotate(.5*Math.PI);var r=this.context.measureText(d).width;var w=g.uq===f.vertical?g.height:g.width;if(r>=w-6){if(q=d.length){do{--q;var u=d.substr(0,q)+"...";r=this.context.measureText(u).width}while(1<q&&r>=w-6)}d=u}switch(g.textAlign){case f.left:var y=g.width/2-2;break;case f.Pz:y=r/2;break;case f.right:y=r/2-(g.width-r)/
2+4}this.context.fillStyle=g.Ic;m&&this.context.fillRect(2-y,2,r,2);this.context.fillText(d,2-y+.5,2.5);this.context.fillStyle=g.locked||this.locked?g.ng:g.xf;this.context.fillText(d,-y+.5,.5);m&&this.context.fillRect(-y,0,r,2);this.context.restore()}};k.prototype.Qa=function(d){this.context.globalAlpha=this.Rf;this.h(d.Ha,d,!1)};k.prototype.la=function(d){this.context.globalAlpha=this.Rf;this.h(d.Ha,d,!1)};k.prototype.nb=function(d){var g=(d.current-d.lower)/(d.upper-d.lower);this.context.globalAlpha=
d.ie;this.context.fillStyle=d.xf;d.orientation===f.me?(g*=d.width-3,this.context.fillRect(d.x+(g+1|0),d.y,1,d.height)):(g*=d.height-3,this.context.fillRect(d.x,d.y+(g+1|0),d.width,1));g=d.Ha;d.cz&&(g=-1!==d.fixed?g+d.current.toFixed(d.fixed):g+d.current,g+=d.xx);""!==g&&(this.context.globalAlpha=d.Rf,this.h(g,d,!1))};k.prototype.pb=function(d,g){var m=(d.current[0]-d.lower)/(d.upper-d.lower);var q=this.fa;d.orientation===f.me?(m*=d.width-3,m=m+1|0,g&&(this.context.fillStyle=d.Gh,this.context.globalAlpha=
d.$j,this.context.fillRect(d.x+m-q,d.y,q,d.height),this.context.fillRect(d.x+m+1,d.y,q,d.height)),d.locked||this.locked?(this.context.fillStyle=d.ng,this.context.globalAlpha=d.ej):(this.context.fillStyle=d.xf,this.context.globalAlpha=d.Rf),this.context.fillRect(d.x+m,d.y,1,d.height)):(m*=d.height-3,m=m+1|0,g&&(this.context.fillStyle=d.Gh,this.context.globalAlpha=d.$j,this.context.fillRect(d.x,d.y+m-q,d.width,q),this.context.fillRect(d.x,d.y+m+1,d.width,q)),d.locked||this.locked?(this.context.fillStyle=
d.ng,this.context.globalAlpha=d.ej):(this.context.fillStyle=d.xf,this.context.globalAlpha=d.Rf),this.context.fillRect(d.x,d.y+m,d.width,1));g=d.Ha;d.cz&&(g=0<=d.fixed?g+d.current[1].toFixed(d.fixed):g+d.current[1]);g+=d.xx;""!==g&&(this.context.globalAlpha=this.Rf,this.h(g,d,!1))};k.prototype.Fb=function(d){this.context.globalAlpha=this.Rf;var g="-"===d.lower&&""===d.upper&&d.current===d.lower;var m=d.Ha;d.cz&&!g&&(m+=d.current);m+=d.xx;this.h(m,d,g)};k.prototype.eb=function(d,g){var m=d.x;var q=
d.y;var r=d.width;var w=d.height;var u=d.orientation;var y=d.current;var a=d.lower;var h=a.length;var l=d.orientation===f.me?r/h:w/h;this.context.globalAlpha=d.Em;this.context.fillStyle=d.rl;if(d.upper===f.wl){var v=d.current;0<=v&&v<h&&(d.orientation===f.me?this.context.fillRect(m+v*l+1,q+1,l-2,w-2):this.context.fillRect(m+1,q+1+v*l,r-2,l-2))}else if(d.orientation===f.me)for(v=0;v<h;v+=1)y[v]&&this.context.fillRect(m+v*l+1,q+1,l-2,w-2);else for(v=0;v<h;v+=1)y[v]&&this.context.fillRect(m+1,q+1+v*
l,r-2,l-2);d.$r=!1;g?(this.context.globalAlpha=d.$j,this.context.fillStyle=d.Gh,d.orientation===f.me?(v=(this.Ug-m)/r*h|0,0<=v&&v<h&&(d.Ih[v]?d.$r=!0:this.context.fillRect(m+v*l+.5,q+.5,l-1,w-1))):(v=(this.kj-q)/w*h|0,0<=v&&v<h&&(d.Ih[v]?d.$r=!0:this.context.fillRect(m+.5,q+.5+v*l,r-1,l-1))),d.Uk=v):d.Uk=-1;this.context.globalAlpha=this.Rf;if(d.orientation===f.me)for(v=0;v<h;v+=1)d.icon[v]&&this.R.Zl(d.icon[v],d.x+l*v,d.y,this.locked||d.locked||d.Ih[v]);else for(v=0;v<h;v+=1)d.icon[v]&&this.R.Zl(d.icon[v],
d.x,d.y+l*v,this.locked||d.locked||d.Ih[v]);this.context.globalAlpha=d.Rf;this.context.fillStyle=d.xf;if(u===f.me)for(v=0;v<h;v+=1)m=a[v],""!==m&&(this.context.save(),this.context.translate((.5+(v-h/2))*l,0),this.h(m,d,!1),this.context.restore());else for(v=0;v<h;v+=1)m=a[v],""!==m&&(this.context.save(),this.context.translate(0,(.5+(v-h/2))*l),this.h(m,d,!1),this.context.restore())};k.prototype.wa=function(d,g,m,q,r){var w=!0;g&&!this.Oc&&r&&(w=!1);w&&(m===q||-1===q&&g)&&(d.type===f.button||d.type===
f.toggle)?(this.context.fillStyle=d.Gh,this.context.globalAlpha=d.$j):(this.context.fillStyle=d.Ic,this.context.globalAlpha=d.ie);switch(d.type){case f.zg:r=(d.current-d.lower)/(d.upper-d.lower);this.context.fillStyle=d.rl;this.context.globalAlpha=d.Em;d.orientation===f.me?(r*=d.width-3,r=r+1|0,this.context.fillRect(d.x,d.y,r,d.height),this.context.fillStyle=d.Ic,this.context.globalAlpha=d.ie,this.context.fillRect(d.x+r,d.y,d.width-r,d.height)):(r*=d.height-3,r=r+1|0,this.context.fillRect(d.x,d.y,
d.width,r),this.context.fillStyle=d.Ic,this.context.fillRect(d.x,d.y+r,d.width,d.height-r));break;case f.Rc:r=(d.current[0]-d.lower)/(d.upper-d.lower);if(m===q||-1===q&&g){var u=this.fa;if(d.orientation===f.me){r*=d.width-3;r=r+1|0;var y=r-u;0<y&&this.context.fillRect(d.x,d.y,y,d.height);y=1+r+u;y<d.width&&this.context.fillRect(d.x+y,d.y,d.width-y,d.height)}else r*=d.height-3,r=r+1|0,y=r-u,0<y&&this.context.fillRect(d.x,d.y,d.width,y),y=1+r+u,y<d.height&&this.context.fillRect(d.x,d.y+y,d.width,d.height-
y)}else this.context.fillRect(d.x,d.y,d.width,d.height);break;case f.list:u=d.lower.length;if(d.orientation===f.me)for(y=d.width/u,r=0;r<u;r+=1)this.context.fillStyle=d.Bo[r],this.context.fillRect(d.x+r*y+1,d.y+1,y-2,d.height-2);else for(y=d.height/u,r=0;r<u;r+=1)this.context.fillStyle=d.Bo[r],this.context.fillRect(d.x+1,d.y+1+r*y,d.width-2,y-2);break;default:this.context.fillRect(d.x,d.y,d.width,d.height)}d.type!==f.list&&d.icon&&(this.context.globalAlpha=d.Rf,this.R.Zl(d.icon,d.x,d.y,this.locked||
d.locked));if(0<d.border)switch(d.locked||this.locked?(this.context.strokeStyle=d.ng,this.context.globalAlpha=d.ej):(this.context.strokeStyle=d.sh,this.context.globalAlpha=d.Mj),this.context.lineWidth=d.border,d.type){case f.label:break;case f.list:u=d.lower.length;if(d.orientation===f.me)for(y=d.width/u,r=0;r<u;r+=1)this.locked||d.locked||d.Ih[r]?(this.context.strokeStyle=d.ng,this.context.globalAlpha=d.ej):(this.context.strokeStyle=d.sh,this.context.globalAlpha=d.Mj),this.context.strokeRect(d.x+
.5+r*y,d.y+.5,y-1,d.height-1);else for(y=d.height/u,r=0;r<u;r+=1)this.locked||d.locked||d.Ih[r]?(this.context.strokeStyle=d.ng,this.context.globalAlpha=d.ej):(this.context.strokeStyle=d.sh,this.context.globalAlpha=d.Mj),this.context.strokeRect(d.x+.5,d.y+.5+r*y,d.width-1,y-1);break;default:this.context.strokeRect(d.x+.5,d.y+.5,d.width-1,d.height-1)}switch(d.type){case f.button:this.la(d);break;case f.label:this.Qa(d);break;case f.Rc:this.pb(d,w&&(m===q||-1===q&&g));break;case f.toggle:this.Fb(d);
break;case f.zg:this.nb(d);break;case f.list:this.eb(d,w&&(m===q||-1===q&&g))}if(m===q)switch(d.type){case f.Rc:w=this.kj,d.orientation===f.vertical?(w<d.y?w=d.y:w>=d.y+d.height&&(w=d.y+d.height-1),d.current[0]=(w-d.y)/(d.height-1)*(d.upper-d.lower)+d.lower):(w=this.Ug,w<d.x?w=d.x:w>=d.x+d.width&&(w=d.x+d.width-1),d.current[0]=(w-d.x)/(d.width-1)*(d.upper-d.lower)+d.lower),d.jb&&(d.current=d.jb(d.current,!0,d.caller))}if(g&&!this.Oc&&d.ps)switch(d.type){case f.button:d.jb&&d.jb(d.caller);break;case f.toggle:d.current=
d.current===d.upper?d.lower:d.upper;d.jb&&d.jb(d.current===d.upper,!0,d.caller);break;case f.list:u=d.lower.length,y=d.orientation===f.me?(this.Ug-d.x)/d.width*u|0:(this.kj-d.y)/d.height*u|0,d.upper===f.wl?d.Ih[y]||(d.jb?d.current=d.jb(y,!0,d.caller):d.current=y):d.Ih[y]||(d.current[y]=!d.current[y],d.jb&&d.jb(d.current,!0,d.caller))}g&&m===q?(d.ps=this.Oc,d.NA=this.Ug,d.OA=this.kj):(d.ps=!1,d.NA=-1,d.OA=-1)};k.prototype.$x=function(d){this.T=d};k.prototype.yv=function(){var d,g=!1,m=this.context.canvas.width,
q=this.context.canvas.height,r=-1;var w=!1;this.cl=-1;if(this.f)this.Oc?this.Bk=-2:(-2===this.Bk&&this.nz&&this.nz(this.Ug,this.kj,this.Oc,this.caller),this.Oc||(this.Bk=-1));else{var u=this.Bk;this.context.textAlign="left";for(d=0;d<this.pc;d+=1){var y=this.Vd[d];if(!y.f){y.zE(m,q);var a=!1;y.IG(this.Ug,this.kj)&&(r=d,y.locked||this.locked?g=!0:a=!0);a&&!this.Oc&&(this.cl=d);(this.Oc&&-1===u&&a||a&&this.Ql)&&y.type!==f.label&&(u=d,this.Ql&&(y.ps=!0));d===u&&(y.locked||this.locked)&&(u=-1,a=!1);y.enabled&&
this.wa(y,a,d,u,this.na.Ok)}}0<=u&&!this.Oc&&(w=!0);this.Oc&&-1===u&&!g&&(u=-2);-2===u&&this.tv&&!this.locked&&this.tv(this.Ug,this.kj,this.Oc,this.caller);this.Oc||(u=-1);this.Bk=u;this.context.globalAlpha=1}0<=r?this.mr=this.Vd[r].type===f.Rc?this.Vd[r].orientation===f.Ou||this.Vd[r].orientation===f.me?"ew-resize":"ns-resize":"auto":this.mr=this.T;return w};c.prototype.sC=function(){this.T=[];this.h=this.A=0};c.prototype.iE=function(){var d=0;0<this.h&&(d=this.A/this.h);this.T[this.T.length]=d;
this.h=this.A=0};c.prototype.TF=function(d){var g=-1;0<=d&&d<this.T.length&&(g=this.T[d]);return g};c.prototype.kq=function(d,g,m,q,r,w){this.xf=d;this.Ic=g;this.Gh=m;this.ng=r;this.sh=w;this.dc&&this.dc.kq(d,g,m,q,r,w)};c.prototype.TE=function(d,g,m){d=new k(this,d,g,m,this.nc,this.Sj);d.xf=this.xf;d.Rf=this.Rf;d.Ic=this.Ic;d.ie=this.ie;d.Gh=this.Gh;d.$j=this.$j;d.rl=this.rl;d.Em=this.Em;d.ng=this.ng;d.ej=this.ej;d.sh=this.sh;d.Mj=this.Mj;d.border=this.border;return d};c.prototype.xF=function(){var d=
this.dc,g=d.Pe,m=this.nc,q="";var r=1;if(-1!==d.Bk||-1===d.Bk&&-1===d.cl)this.Z=d.Bk;if(-1===d.cl||-1!==this.Z&&this.Z===d.cl){if(-1!==d.cl){var w=d.Vd[d.cl];w.id===this.wa&&w.Uk!==this.fa&&(this.Z=-1)}50>this.Pi&&(this.Pi+=1)}else{w=d.Vd[d.cl];w.id!==this.wa||w.id===this.wa&&w.Uk!==this.fa?(this.wa=w.id,this.fa=w.Uk,50>this.Pi&&(this.Pi+=1)):0<=this.Pi&&--this.Pi;d=-1!==this.fa?w.w[this.fa]:w.w;var u=d.indexOf("\n");if(""!==d&&-1===this.Pi&&!w.$r){this.Z=-1;var y=w.x;var a=w.y;var h=w.width;var l=
w.height;-1!==w.Uk&&(w.orientation===f.me?(y+=h/w.lower.length*w.Uk,h/=w.lower.length):(a+=l/w.lower.length*w.Uk,l/=w.lower.length));var v=18*g;m.font=(v|0)+"px Arial";var x=4*g;var t=m.measureText(d).width;g=Math.round(y+h/2);a=Math.round(a+l/2);g-=t/2;g<x+1?g=x+1:g+t+x>m.canvas.width&&(g=m.canvas.width-t-x-1);l>h?(-1!==this.Qa&&h<this.Qa&&(h=this.Qa),g>m.canvas.width/2?g=y-t-h/2:g=y+w.width+h/2):(-1!==this.eb&&l<this.eb&&(l=this.eb),a>m.canvas.height/2?a-=l:a+=l);if(t>m.canvas.width){q=(t>>1)+v+
x;q>m.canvas.width&&(q=m.canvas.width);for(r=1;m.measureText(d.substr(0,r)).width<q;)r+=1;for(t=r-1;t>r-5;)q=d[t]," "===q||","===q||"/"===q||"|"===q?(r=t+2,t=r-5):--t;q=d.substr(r-1);d=d.substr(0,r-1);t=m.measureText(d).width;r=m.measureText(q).width;r>t&&(t=r);r=2}else-1!==u&&(q=d.substr(u+1),r=m.measureText(q).width,d=d.substr(0,u),t=m.measureText(d).width,r>t&&(t=r),r=2);u=v*r+2*x;2===r&&a>m.canvas.height/2&&(a-=v+x,u+=x);m.globalAlpha=this.ie;m.fillStyle=this.Ic;m.fillRect((g-x|0)-.5,(a-v/2-x|
0)-.5,t+2+2*x,u);m.globalAlpha=this.Mj;m.strokeStyle=this.sh;m.strokeRect((g-x|0)-.5,(a-v/2-x|0)-.5,t+2+2*x,u);m.globalAlpha=this.ie;m.strokeStyle=this.Ic;m.beginPath();m.moveTo((g-x|0)+.5,(a-v/2-x|0)+.5+u);m.lineTo((g-x|0)+.5+t+2+2*x,(a-v/2-x|0)+.5+u);m.lineTo((g-x|0)+.5+t+2+2*x,(a-v/2-x|0)+.5);m.stroke();m.globalAlpha=1;m.fillStyle=this.Ic;m.fillText(d,g+2,a+2);""!==q&&m.fillText(q,g+2,a+v+x+2);m.fillStyle=this.xf;m.fillText(d,g,a);""!==q&&m.fillText(q,g,a+v+x)}}};c.prototype.jc=function(d){var g,
m,q,r=d.nc,w=90,u=1,y=1;d.Sa&&(w=0);d.Iq=!1;d.bz=!0;d.Cp&&(d.dc=d.Cp,d.Cp=null,r.font=d.Sj,d.dc.cf(),d.dc.Nq&&d.dc.Nq(d.dc.caller));d.dc&&(u=d.dc.Pe,y=d.dc.ai);var a=r.canvas.width-86*u;w*=y;var h=performance.now();d.Yv&&(d.qs=h-1E3/60);d.Ao||d.notification.Yl()||d.Dj||d.AI!==d.Pi&&-1!==d.Pi?(d.iq(d),d.Dj&&--d.Dj,d.Yv=!1):d.Yv=!0;var l=h-d.qs;d.qs=h;d.dc.jb&&d.dc.jb(l,d.dc.caller);h=performance.now()-h;var v=performance.now();d.yv();d.Ql=!1;d.xF();d.notification.update();v=performance.now()-v;d.nw[d.zq]=
v;for(q=g=0;q<d.um;q+=1)g+=d.nw[q];g/=d.um;d.rw[d.zq]=h;for(q=m=0;q<d.um;q+=1)m+=d.rw[q];m/=d.um;d.mw[d.zq]=l;for(q=l=0;q<d.um;q+=1)l+=d.mw[q];l/=d.um;d.zq=(d.zq+1)%d.um;q=1E3/l;60<q&&(q=60);this.A+=1E3/(h+v);this.h+=1;d.vl&&(r.font=(12*u|0)+"px Arial",r.globalAlpha=.7,r.fillStyle="black",d.tl?r.fillRect(a,w,88*u|0,83*y|0):r.fillRect(a,w,88*u|0,20*y|0),v=(m+g)/16.666666,1<v&&(v=1),r.fillStyle=.5>v?"rgb("+(510*v|0)+",255,0)":"rgb(255,"+(255*(1-2*(v-.5))|0)+",0)",r.fillRect(a,w,88*v*u|0,20*y|0),g=g.toFixed(1),
m=m.toFixed(1),4>q.toFixed(1).length?q=q.toFixed(1):q|=0,r.globalAlpha=1,r.fillStyle="black",h=q+"fps",l=r.measureText(h).width,r.fillText(h,a+36*u-l,w+12*y),h=(100*v|0)+"%",l=r.measureText(h).width,r.fillText(h,a+84*u-l,w+12*y),d.tl&&(r.fillText("menu",a+6*u,w+28*y),r.fillText("work",a+6*u,w+44*y),r.fillText("update",a+6*u,w+60*y),r.fillText("focus",a+6*u,w+76*y),h=g+"ms",l=r.measureText(h).width,r.fillText(h,a+84*u-l,w+28*y),h=m+"ms",l=r.measureText(h).width,r.fillText(h,a+84*u-l,w+44*y),h=d.Ao?
"on":"off",l=r.measureText(h).width,r.fillText(h,a+84*u-l,w+60*y),h=d.hasFocus?"on":"off",l=r.measureText(h).width,r.fillText(h,a+84*u-l,w+76*y)),r.fillStyle="white",h=q+"fps",l=r.measureText(h).width,r.fillText(h,a+34*u-l,w+10*y),h=(100*v|0)+"%",l=r.measureText(h).width,r.fillText(h,a+82*u-l,w+10*y),d.tl&&(r.fillText("menu",a+4*u,w+26*y),r.fillText("work",a+4*u,w+42*y),r.fillText("update",a+4*u,w+58*y),r.fillText("focus",a+4*u,w+74*y),h=g+"ms",l=r.measureText(h).width,r.fillText(h,a+82*u-l,w+26*
y),h=m+"ms",l=r.measureText(h).width,r.fillText(h,a+82*u-l,w+42*y),h=d.Ao?"on":"off",l=r.measureText(h).width,r.fillText(h,a+82*u-l,w+58*y),h=d.hasFocus?"on":"off",l=r.measureText(h).width,r.fillText(h,a+82*u-l,w+74*y)),r.globalAlpha=1);d.dc.mr!==d.dc.ev&&(d.dc.ev=d.dc.mr,d.yc.style.cursor=d.dc.ev);d.yx=!0};c.prototype.$D=function(d){d.R=this.R;this.dc?this.Cp=d:(this.Cp=null,this.dc=d,this.nc.font=this.Sj,this.dc.cf(),this.dc.Nq&&this.dc.Nq(this.dc.caller),this.iq(this))};c.prototype.yv=function(){var d;
if(this.dc){var g=this.dc;this.nc.font=this.Sj;g.Ug=this.dk;g.kj=this.ek;g.Oc=this.Oc;g.Ql=this.Ql;if(g.yv()||this.eh){for(d=0;d<g.pc;d+=1){var m=g.Vd[d];g.XC(m)}this.eh=!1}}};c.prototype.iq=function(d){d.Iq||(requestAnimationFrame?requestAnimationFrame(d.Oz):setTimeout(d.Oz,16),d.Iq=!0)};c.prototype.rn=function(d,g){for(var m=null,q=0;null===m&&q<d.length;)d[q].identifier===g?m=d[q]:q+=1;return m};c.prototype.la=function(d,g){var m=g.changedTouches;switch(g.type){case "touchstart":-1===d.xh&&(m=
m[0],d.xh=m.identifier,d.Tp(d,m.pageX,m.pageY));break;case "touchend":m=d.rn(m,d.xh);null!==m&&(d.Vp(d,m.pageX,m.pageY),d.xh=-1,2>d.Dj&&(d.Dj=2));break;case "touchmove":m=d.rn(m,d.xh);null!==m&&d.Up(d,m.pageX,m.pageY);break;case "touchcancel":m=d.rn(m,d.xh),null!==m&&d.$B(d)}d.Ok=!0;g.stopPropagation&&g.stopPropagation();g.cancelable&&g.preventDefault()};c.prototype.Tp=function(d,g,m){d.so(d,g,m);d.Oc=!0;d.bz=!1};c.prototype.Vp=function(d,g,m){d.ow=performance.now();d.so(d,g,m);d.Oc=!1;d.bz||(d.Ql=
!0);d.hasFocus||(d.Ok||d.yc.focus(),d.hasFocus=!0,d.notification.clear(!0,!1),d.oA&&d.oA(d.caller))};c.prototype.Up=function(d,g,m){d.Rz(d);d.so(d,g,m)};c.prototype.YG=function(d){d.Rz(d)};c.prototype.$B=function(d){1<performance.now()-d.ow&&(d.hasFocus||d.notification.clear(!0,!1),d.yc.blur(),d.hasFocus=!1,d.Oc=!1,d.dk=-1,d.ek=-1,d.Wu=!1,d.Iq||(d.iq(d),2>d.Dj&&(d.Dj=2)))};c.prototype.nb=function(d,g){if(!d.vm){if(g.pageX||g.pageY){var m=g.pageX;var q=g.pageY}else m=g.clientX+document.body.scrollLeft+
document.documentElement.scrollLeft,q=g.clientY+document.body.scrollTop+document.documentElement.scrollTop;d.Tp(d,m,q);g.stopPropagation&&g.stopPropagation();g.preventDefault();d.Ok=!1}};c.prototype.ic=function(d,g){d.ow=performance.now();if(!d.vm){if(g.pageX||g.pageY){var m=g.pageX;var q=g.pageY}else m=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,q=g.clientY+document.body.scrollTop+document.documentElement.scrollTop;d.Vp(d,m,q);g.stopPropagation&&g.stopPropagation();g.preventDefault();
d.Ok=!1}};c.prototype.Rz=function(d){d.hasFocus||d.Wu&&""!==d.notification.oj||(d.sc?d.fk||d.notification.K("Copy",3600,!0):d.Sa?d.Oi?d.notification.K("Launch",3600,!0):d.notification.K("Expand",3600,!0):d.notification.K("Click to control",3600,!0),d.notification.animate=!0,d.Wu=!0)};c.prototype.pb=function(d,g){if(!d.vm){if(g.pageX||g.pageY){var m=g.pageX;var q=g.pageY}else m=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,q=g.clientY+document.body.scrollTop+document.documentElement.scrollTop;
d.Up(d,m,q);g.stopPropagation&&g.stopPropagation();g.preventDefault();d.Ok=!1}};c.prototype.Mb=function(d,g){d.vm||(d.YG(d),g.stopPropagation&&g.stopPropagation(),g.preventDefault(),d.Ok=!1)};c.prototype.Fb=function(d,g){d.vm||(d.$B(d),g.stopPropagation&&g.stopPropagation(),g.preventDefault(),d.Ok=!1)};c.prototype.so=function(d,g,m){var q=this.yc.getBoundingClientRect();window.scrollX?(g-=q.left+window.scrollX,m-=q.top+window.scrollY):(g-=q.left+window.pageXOffset,m-=q.top+window.pageYOffset);g/=
d.Oe;m/=d.Oe;d.dk=g-1|0;d.ek=m-1|0;d.Iq||(d.iq(d),2>d.Dj&&(d.Dj=2))};c.prototype.Th=function(d){!d&&!this.notification.Yl()||this.Ao||this.iq(this);this.Ao=d};window.IconManager=p;window.Menu=f;window.MenuManager=c}(),function(){function e(b,k,c,f,d,g){this.lo=b;this.mo=k;this.width=c;this.height=f;this.rI=d;this.CF=g}function n(){this.yk=null;this.CC=this.BC="";this.pd=["li","p","ol","pre"];this.he="none";this.VG="2pca4";this.RA=86;this.nb=22;this.pb=6;this.wa=8;this.B="";this.rd="0123456789xyz";
this.qd="0123";this.Ad="0123456789";this.Kj=1038;this.Lj=7157;this.qf="0123456omp-";this.rf="01234";this.Ue=["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"];this.ii=[[[6,36,160,192,72,10],[132,96,136,66,12,34],[68,40,130]],[[38,164,224,200,74,14],[44,162,196,104,138,70,100,168,194,76,42,134],[140,98]],[[166,228,232,202,78,46],[172,226,204,106,142,102],[108,170,198]]];this.Hc=" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" ");this.Gc="  omp omp omp  ".split(" ");this.fi=[0,2,6,10,13,
10,6,2,0];this.gi=[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,6,4,5,7,8,10,11,9,12],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,4,5],[0,1],[0]];this.ji=[[1,2],[5,10,3,40,33,68],[69,42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,105,78,108]];this.Im=new Uint32Array(256);this.Ux=new Uint8Array(8192);this.Qx=new Uint8Array(8192);this.Ii=new Uint8Array(512);this.Px=new Uint8Array(512);this.Jj=new Uint16Array(512);this.pn=this.va=!1;this.Gq="l";this.Fq="le";this.Hq="lv";this.Zr="h";this.Kt=
"v";this.Zf=!1;this.Iv=0;this.Vj=!1;this.Us=this.Ts=0;this.Gi=!1;this.Z=this.index=0;this.dd=1;this.ce=2;this.Af=this.Fb=this.Mb=0;this.$f=1;this.Eo=2;this.tj=this.uj=-1;this.Gl=0;this.Tm=1;this.Um=2;this.kc=!1;this.ic="@RULE";this.Tx="num_states";this.Rx="num_neighbors";this.Sx="num_nodes"}function p(b,k){this.na=k;k=b.lastIndexOf(".");-1!==k&&(b=b.substr(0,k));this.name=b;this.Dl=this.Wi=0;this.Sf=this.le=this.Tb=-1;this.vn=this.Yo=0;this.Ur=this.Mv=!1;this.Yq=this.Jf=this.ga="";this.ba=this.V=
this.tp=this.gc=this.ub=this.M=this.Aa=!1;this.yd=this.na.Gl;this.Hd=-1;this.ne=this.Ie=!1;this.wc=-1;this.ij=1;this.vg=this.Bz=this.Cz=this.Dz=this.Ez=this.pf=this.Id=this.ve=this.Bd=-1;this.xa=!1;this.xd=-1;this.yo=this.xo=this.lf=this.Ae=null;this.g=this.ug=-1;this.height=this.width=0;this.Uf=this.Ud=null;this.Ci=this.cg=this.cc=this.title="";this.Bf=2;this.Jp=0;this.km=this.Zf=!1;this.DC=this.zB="";this.PH=this.Sx=this.Rx=this.Tx=-1;this.EC=this.FC=null}p.prototype.h=function(b){this.ga=b.ga;
this.Aa=b.Aa;this.M=b.M;this.ub=b.ub;this.Jf=b.Jf;this.V=b.V;this.ba=b.ba;this.Wi=b.Wi;this.Dl=b.Dl;this.yd=b.yd;this.Hd=b.Hd;this.Ie=b.Ie;this.ne=b.ne;this.wc=b.wc;this.vg=b.vg;this.ij=b.ij;this.Bd=b.Bd;this.ve=b.ve;this.Id=b.Id;this.pf=b.pf;this.xa=b.xa;this.xd=b.xd;this.ug=b.ug;this.g=b.g;this.Bf=b.Bf;b.lf&&(this.lf=new Uint8Array(b.lf.length),this.lf.set(b.lf));b.Ae&&(this.Ae=new Uint8Array(b.Ae.length),this.Ae.set(b.Ae))};p.prototype.IE=function(b,k){b.lf&&(this.yo=k.F(Uint8,b.lf.length,"HROT.altSurvivals"),
this.yo.set(b.lf));b.Ae&&(this.xo=k.F(Uint8,b.Ae.length,"HROT.altBirths"),this.xo.set(b.Ae));this.Ez=b.Bd;this.Dz=b.ve;this.Cz=b.Id;this.Bz=b.pf};p.prototype.KH=function(){this.Jf=this.ga="";this.ba=this.V=this.ub=this.M=this.Aa=!1;this.Dl=this.Wi=0;this.yd=this.na.Gl;this.Hd=-1;this.ne=this.Ie=!1;this.vg=this.wc=-1;this.xa=!1;this.g=this.ug=this.xd=-1;this.Bf=2};p.prototype.nG=function(b){return this.ne!==b.ne||this.xa!==b.xa?"Alternate is different rule family":(-1===this.g?this.Bf:this.g)!==(-1===
b.g?b.Bf:b.g)?"Alternate has different number of states":this.M!==b.M||this.Aa!==b.Aa||this.V!==b.V||this.ba!==b.ba||this.yd!==b.yd||this.Ie!==b.Ie||-1==this.Hd&&-1!==b.Hd||-1!==this.Hd&&-1===b.Hd||this.vg!==b.vg||this.ug!==b.ug?"Alternate has different neighborhood":this.wc!==b.wc||this.xd!==b.xd?"Alternate has different range":this.ub||b.ub?"Alternate can not use none":""};n.prototype.og=function(b,k,c){var f,d,g=0,m=0,q=0,r=!1;var w=k.length;for(f=d=0;f<w;){var u=k[f];f+=1;switch(d){case 0:switch(u){case "!":d=
1;b.cc+="#C ";var y=!0;break;case "O":case "o":case "*":case ".":d=2;m=g=q=0;var a=--f}break;case 1:"\r"!==u&&"\n"!==u&&(" "===u?y||(b.title+=u,b.cc+=u):(y=!1,b.title+=u,b.cc+=u));"\n"===u&&(d=0,b.cc+=u,b.title+=" ");break;case 2:switch(u){case "O":case "o":case "*":case ".":m+=1;break;case "\n":q+=1;m>g&&(g=m);m=0;break;case " ":case "\t":break;default:f=w,r=!0}}}if(!r){2===d&&"\n"!==u&&(q+=1,m>g&&(g=m));b.height=q;b.width=g;b.Ci="Cells";b.Ud=Array.Y(Uint16,b.height,(b.width-1>>4)+1,0,c,"Pattern.lifeMap");
f=a;for(d=g=0;f<w;)switch(u=k[f],f+=1,u){case "\n":g+=1;d=0;break;case "O":case "o":case "*":b.Ud[g][d>>4]|=1<<(~d&15);d+=1;break;case ".":d+=1}this.va=!0;this.la(b,"",c)}};n.prototype.lg=function(b,k,c){var f,d;var g=k.length;var m=[];var q=0;var r=!1;var w=d=0;var u=!1;for(f=10;f<g;){var y=k[f];f+=1;switch(y){case "\n":u&&(u=!1,2===a&&r&&(w=-w,r=!1),m[q]=[d,w],q+=1);var a=w=d=0;break;case "-":r=!0;0===a?a=1:1===a&&(a=2);break;case " ":1===a&&(r&&(d=-d,r=!1),a=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===
a&&(a=1),1===a?d=10*d+parseInt(y,10):(w=10*w+parseInt(y,10),u=!0)}}u&&(2===a&&r&&(w=-w),m[q]=[d,w],q+=1);if(q){g=k=m[0][0];a=y=m[0][1];for(f=1;f<q;f+=1)d=m[f][0],w=m[f][1],d<k&&(k=d),d>g&&(g=d),w<y&&(y=w),w>a&&(a=w);b.height=a-y+1;b.width=g-k+1;b.Ud=Array.Y(Uint16,b.height,(b.width-1>>4)+1,0,c,"Pattern.lifeMap");b.Ci="Life 1.06";this.la(b,"",c);for(f=0;f<q;f+=1)d=m[f][0]-k,w=m[f][1]-y,b.Ud[w][d>>4]|=1<<(~d&15)}};n.prototype.de=function(b,k,c,f){var d,g,m=[],q=0,r=k.length;var w="";var u=!1;var y=
0,a=0,h=!1,l=!1,v=0,x=0;c=c?10:0;for(this.va=!0;c<r&&!l;){var t=k[c];c+=1;switch(y){case 0:switch(t){case "#":y=2;break;case "*":case ".":y=3;var A=g=d=0;var z=--c}break;case 2:switch(t){case "C":case "D":y=1;b.cc+="#C ";var B=!0;break;case "N":y=0;break;case "R":y=4;break;case "P":y=5;a=0;h=!1;x=v=0;break;case "\n":y=0;break;default:y=1,B=!0}break;case 1:"\r"!==t&&"\n"!==t&&(" "===t?B||(b.title+=t,b.cc+=t):(B=!1,b.title+=t,b.cc+=t));"\n"===t&&(y=0,b.title+=" ",b.cc+=t);break;case 4:"\n"===t?y=0:
(w+=t,u=!0);break;case 5:switch(t){case "\n":y=0;2===a&&h&&(x=-x,h=!1);break;case "-":h=!0;0===a?a=1:1===a&&(a=2);break;case " ":1===a&&(h&&(v=-v,h=!1),a=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===a&&(a=1),1===a?v=10*v+parseInt(t,10):x=10*x+parseInt(t,10)}break;case 3:switch(t){case "\n":d>g&&(g=d);d=0;A+=1;break;case "#":m[q]=new e(v,x,g,A,z,c-1);q+=1;y=2;break;case "*":case ".":d+=1;break;case " ":case "\t":break;default:l=!0}}}"\n"!==
t&&(A+=1);3===y&&(m[q]=new e(v,x,g,A,z,c-1),q+=1);if(q&&!l){v=m[0].lo;x=m[0].mo;t=v+m[0].width-1;d=x+m[0].height-1;for(c=1;c<q;c+=1)m[c].lo<v&&(v=m[c].lo),m[c].mo<x&&(x=m[c].mo),m[c].lo+m[c].width-1>t&&(t=m[c].lo+m[c].width-1),m[c].mo+m[c].height-1>d&&(d=m[c].mo+m[c].height-1);b.height=d-x+1;b.width=t-v+1;b.Ud=Array.Y(Uint16,b.height,(b.width-1>>4)+1,0,f,"Pattern.lifeMap");b.Ci="Life 1.05";b.Uf=Array.Y(Uint8,b.height,b.width,0,f,"Pattern.multiStateMap");u?(this.ge(b,w,!1,f),this.va?0<=b.g||b.gc||
(b.Uf=null):(b.g=-1,b.gc=!1)):this.la(b,"",f);for(c=0;c<q;c+=1)for(f=m[c].rI,w=m[c].CF,d=m[c].lo-v,t=m[c].mo-x,u=d,g=t;f<=w;)switch(t=k[f],f+=1,t){case "\n":g+=1;u=d;break;case "*":b.Ud[g][u>>4]|=1<<(~u&15);b.Uf&&(b.Uf[g][u]=1);u+=1;break;default:u+=1}}};n.prototype.T=function(b,k,c,f){var d=0,g,m,q;c&&(d=4);for(m=0;8192>m;m+=8)for(q=0;4>q;q+=1){c=0;for(g=m+q&f;0<g;)c+=g&1,g>>=1;k===c&&(b[m+q+d]=1)}};n.prototype.Qa=function(b,k,c,f){var d=0,g,m,q;c&&(d=16);for(m=0;512>m;m+=32)for(q=0;16>q;q+=1){c=
0;for(g=m+q&f;0<g;)c+=g&1,g>>=1;k===c&&(b[m+q+d]=1)}};n.prototype.ci=function(b){return(b&7)<<6|(b&448)>>6|b&56};n.prototype.Te=function(b){return(b&4)<<6|(b&32)<<2|(b&256)>>2|(b&2)<<4|b&16|(b&128)>>4|(b&1)<<2|(b&8)>>2|(b&64)>>6};n.prototype.Hj=function(b,k,c){var f;for(f=0;4>f;f+=1)b[k]=c,k=this.Te(k);k=this.ci(k);for(f=0;4>f;f+=1)b[k]=c,k=this.Te(k)};n.prototype.ki=function(b,k,c,f,d){var g=c?16:0;if(2>k||4<k)this.Qa(b,k,c,254);else if(c="omp".indexOf(f),-1!==c)for(k=this.ii[k-2][c],c=0;c<k.length;c+=
1)f=k[c]+g,b[f]=d,b[f+256]=d,b[f+1]=d,b[f+257]=d};n.prototype.Gj=function(b,k,c,f,d){var g=0,m=k-1;0===k||8===k?this.Qa(b,k,c,511):(3<m&&(m=6-m,g=495),k=this.Ue[m].indexOf(f),-1!==k&&(g^=this.ji[m][k],c&&(g|=16),this.Hj(b,g,d)))};n.prototype.We=function(b,k,c,f){var d=k.length,g=0,m="",q;for(q=0;q<d;q+=1){var r=k.charCodeAt(q)-48;g|=1<<r;this.Qa(b,r,c,f)}for(q=0;9>q;q+=1)0!==(g&1<<q)&&(m+=String(q));return m};n.prototype.be=function(b){for(var k=0;b;)k+=1,b&=b-1;return k};n.prototype.Nf=function(b,
k){var c="",f=0;if(k[b]){k=k[b];0!==(k&8192)&&(f=1,k&=-8193);var d=this.be(k);var g=2>b||4<b?0:3;2<=d&&(k=~k&(1<<g)-1)&&(f=1-f);if(!f||k)for(c+=String(b),f&&(c+="-"),b=0;b<g;b+=1)0!==(k&1<<b)&&(c+="omp"[b])}else c+=String(b);return c};n.prototype.Pf=function(b,k){var c="",f=0;if(k[b]){k=k[b];0!==(k&8192)&&(f=1,k&=-8193);var d=this.be(k);var g=this.fi[b];(f||7!==d||13!==g)&&d+f>g>>1&&(k=~k&(1<<g)-1)&&(f=1-f);if(!f||k)for(c+=String(b),f&&(c+="-"),d=0;d<g;d+=1)f=this.gi[b][d],0!==(k&1<<f)&&(c+=this.Ue[3][f])}else c+=
String(b);return c};n.prototype.Ve=function(b,k,c){var f=k.length,d=0,g=[],m="",q;k+=" ";for(q=0;7>q;q+=1)g[q]=0;for(q=0;q<f;q+=1){var r=k.charCodeAt(q)-48;if(0<=r&&8>=r){var w=0!==(d&1<<r);d|=1<<r;var u=k[q+1];var y=this.Gc[r].indexOf(u);-1!==y||w||this.Qa(b,r,c,254);var a=1;"-"===u&&(a=0,q+=1,u=k[q+1],y=this.Gc[r].indexOf(u));-1!==y||"0"<=u&&"9">=u||" "===u||(this.B=(c?"S":"B")+r+u+" not valid",q=f);w&&(w=0,0===(g[r]&8192)&&(w=1),w!==a&&(this.B=(c?"S":"B")+r+" can not have minus and non-minus",
y=-1,q=f));for(;-1!==y;)0!==(g[r]&1<<y)?(this.B="Duplicate "+r+this.Gc[r][y],y=-1,q=f):(this.ki(b,r,c,u,a),g[r]|=1<<y,a||(g[r]|=8192),q+=1,u=k[q+1],y=this.Gc[r].indexOf(u))}else this.B="Missing digit prefix"}for(q=0;7>q;q+=1)0!==(d&1<<q)&&(m+=this.Nf(q,g));return m};n.prototype.Se=function(b,k,c){var f=k.length,d=0,g=[],m="",q;k+=" ";for(q=0;9>q;q+=1)g[q]=0;for(q=0;q<f;q+=1){var r=k.charCodeAt(q)-48;if(0<=r&&8>=r){var w=0!==(d&1<<r);d|=1<<r;var u=k[q+1];var y=this.Hc[r].indexOf(u);-1!==y||w||this.Qa(b,
r,c,511);var a=1;"-"===u&&(a=0,q+=1,u=k[q+1],y=this.Hc[r].indexOf(u));-1!==y||"0"<=u&&"9">=u||" "===u||(this.B=(c?"S":"B")+r+u+" not valid",q=f);w&&(w=0,0===(g[r]&8192)&&(w=1),w!==a&&(this.B=(c?"S":"B")+r+" can not have minus and non-minus",y=-1,q=f));for(;-1!==y;)0!==(g[r]&1<<y)?(this.B="Duplicate "+r+this.Hc[r][y],y=-1,q=f):(this.Gj(b,r,c,u,a),g[r]|=1<<y,a||(g[r]|=8192),q+=1,u=k[q+1],y=this.Hc[r].indexOf(u))}else this.B="Missing digit prefix"}for(q=0;9>q;q+=1)0!==(d&1<<q)&&(m+=this.Pf(q,g));return m};
n.prototype.kg=function(b,k){var c;for(c=0;512>c;c+=1)b[c]=0!==(k&1<<(c&7))?1:0!==(c&16)?1:0};n.prototype.nd=function(b,k,c){var f=12,d=8191,g=b.Wi,m=b.Dl;b.yd===this.Tm?(f=3,d=this.Kj):b.yd===this.Um&&(f=9,d=this.Lj);if(arrayFill)k.fill(0);else for(b=0;b<k.length;b+=1)k[b]=0;if(c)if(arrayFill)c.fill(0);else for(b=0;b<c.length;b+=1)c[b]=0;if(0!==(g&1))if(0!==(m&1<<f)){g=~g;m=~m;for(b=0;b<=f;b+=1)m&1<<f-b&&this.T(k,b,!1,d);for(b=0;b<=f;b+=1)g&1<<f-b&&this.T(k,b,!0,d);c.set(k)}else{for(b=0;b<=f;b+=
1)~g&1<<b&&this.T(c,b,!1,d);for(b=0;b<=f;b+=1)~m&1<<b&&this.T(c,b,!0,d);for(b=0;b<=f;b+=1)m&1<<f-b&&this.T(k,b,!1,d);for(b=0;b<=f;b+=1)g&1<<f-b&&this.T(k,b,!0,d)}else{for(b=0;b<=f;b+=1)0!==(g&1<<b)&&this.T(k,b,!1,d);for(b=0;b<=f;b+=1)0!==(m&1<<b)&&this.T(k,b,!0,d);c&&c.set(k)}};n.prototype.jg=function(b,k,c,f,d){var g=this.rd,m="",q="";d===this.Tm?g=this.qd:d===this.Um&&(g=this.Ad);for(d=b.Wi=0;d<k.length;d+=1){var r=g.indexOf(k[d]);b.Wi|=1<<r}for(d=b.Dl=0;d<c.length;d+=1)r=g.indexOf(c[d]),b.Dl|=
1<<r;for(d=0;d<g.length;d+=1)0!==(b.Wi&1<<d)&&(m+=g[d]);for(d=0;d<g.length;d+=1)0!==(b.Dl&1<<d)&&(q+=g[d]);return-1!==f?q+"/"+m+"/"+f:"B"+m+"/S"+q};n.prototype.ig=function(b,k,c,f,d){var g=0,m=this.Jj;var q=(1<<this.wa+1)/6|0;var r=new Uint8Array(512);var w=b.Aa;var u=b.M,y=b.V,a=b.ba,h=b.yd,l=b.Ie,v=b.g;if(b.ub)c=this.he;else if(w||u)for(c=w?"M":"2PCA4,",w=0;16>w;w+=1)c+=d[w],15>w&&(c+=",");else if(a)c=this.jg(b,k,c,v,h);else{b=511;y?b=254:l&&(b=186);if(arrayFill)r.fill(0),d.fill(0);else for(w=0;w<
r.length;w+=1)r[w]=0,d[w]=0;for(w=0;w<r.length;w+=1)m[w]=y?w:(w&448)>>6|w&56|(w&7)<<6;if(""!==f){c="MAP";for(w=0;w<q;w+=1)c+=f[w],k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(f[w]),r[g]=k>>5,g+=1,r[g]=k>>4&1,g+=1,r[g]=k>>3&1,g+=1,r[g]=k>>2&1,g+=1,r[g]=k>>1&1,g+=1,r[g]=k&1,g+=1;k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(f[w]);r[g]=k>>5;r[g+1]=k>>4&1;c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[k&48];for(w=0;512>
w;w+=1){f=0;q=this.wa;for(g=8;0<=g;--g)0!==(b&1<<g)&&(0!==(w&1<<g)&&(f|=1<<q),--q);d[m[w]]=r[f]}-1!==v&&(c+="/"+v)}else l?(g=this.We(d,k,!1,b),d=this.We(d,c,!0,b)):y?(g=this.Ve(d,k,!1),d=this.Ve(d,c,!0)):(g=this.Se(d,k,!1),d=this.Se(d,c,!0)),c=-1!==v?d+"/"+g+"/"+v:"B"+g+"/S"+d}return c};n.prototype.ye=function(b){var k=b,c=0;if(-1!==b.indexOf(" "))for(k="";c<b.length;)" "!==b[c]&&(k+=b[c]),c+=1;return k};n.prototype.bi=function(b,k,c){for(var f=!0,d=0,g,m=1;m<k.length&&f;)g="0123456789".indexOf(k[m]),
-1!==g?d=10*d+g:(this.B="Illegal character in Wolfram rule",f=!1),m+=1;f&&(0>d||254<d?(this.B="Wolfram rule number must be 0-254",f=!1):0!==(d&1)?(this.B="Wolfram rule number must be even",f=!1):(this.kg(c,d),b.Hd=d,b.ga="W"+d));return f};n.prototype.Qf=function(b,k){if(""===k)if(b.V)b.ga+="H";else if(b.Ie)b.ga+="V";else if(b.ba)switch(b.yd){case this.Gl:b.ga+=this.Gq.toUpperCase();break;case this.Tm:b.ga+=this.Fq.toUpperCase();break;case this.Um:b.ga+=this.Hq.toUpperCase()}k=AliasManager.Nr(b.ga);
null===k&&b.ne&&0===b.ij&&(k="R"+b.wc+",C"+b.g+",M1,S"+b.Bd+".."+b.ve+",B"+b.Id+".."+b.pf+",N",k=b.vg===this.Z?k+"M":b.vg===this.dd?k+"N":k+"C",k=AliasManager.Nr(k));b.gc&&(b.ga+="History");-1!==b.Tb&&(b.ga+=":"+"ptkcs"[b.Tb].toUpperCase(),b.ga+=b.le,b.Yo&&(b.ga+="+"+b.Yo),b.Mv&&(b.ga+="*"),b.Sf!==b.le||b.vn||b.Ur)&&(b.ga+=","+b.Sf,b.vn&&(b.ga+="+"+b.vn),b.Ur&&(b.ga+="*"));null!==k&&(""===k&&(k=b.gc?"Life":"Conway's Life"),b.gc&&(k+="History"),b.Jf=k)};n.prototype.Ak=function(b,k){var c=86,f=b.length;
f>=c?this.wa=8:(c=this.nb,f>=c?(this.wa=6,k.V=!0):(c=this.pb,f>=c?(this.wa=4,k.Ie=!0):c=-1));if(0<=c)for(k=0;k<c;k+=1)-1==="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(b[k])&&(c=-1);return c};n.prototype.h=function(b,k,c,f,d){var g=0,m=k.length,q=b.substr(this.index,m),r;if(q!==k)","===k[0]&&(","===q[0]&&(q=q.substr(1)),k=k.substr(1)),this.B="LtL expected '"+k.toUpperCase()+"' got '"+q.toUpperCase()+"'",this.index=-1;else if(","===k[0]&&(k=k.substr(1)),this.index+=m,
m=b[this.index],this.index<b.length?r=m.charCodeAt(0):r=-1,"n"===k)"m"===m||"n"===m||"c"===m?(this.index+=1,g=this.Z,"n"===m?g=this.dd:"c"===m&&(g=this.ce)):(this.B="LtL expected 'NM', 'NN' or 'NC' got 'N"+m.toUpperCase()+"'",this.index=-1);else if(48>r||57<r)this.B="LtL '"+d+k.toUpperCase()+"' needs a number",this.index=-1;else{for(;48<=r&&57>=r;)g=10*g+(r-48),this.index+=1,this.index<b.length?r=b[this.index].charCodeAt(0):r=-1;-1!==c&&g<c&&(this.B="LtL '"+d+k.toUpperCase()+g+"' < "+c,this.index=
-1);-1!==f&&g>f&&(this.B="LtL '"+d+k.toUpperCase()+g+"' > "+f,this.index=-1)}return g};n.prototype.Xg=function(b,k){var c=!1,f=0;this.index=0;var d=this.h(k,"r",1,500,"");-1!==this.index&&(b.wc=d,d=this.h(k,",c",0,256,""),-1!==this.index&&(2>d&&(d=2),b.g=d,d=this.h(k,",m",0,1,""),-1!==this.index&&(b.ij=d,d=this.h(k,",s",0,-1,""),-1!==this.index&&(b.Bd=d,d=this.h(k,"..",b.Bd,-1,"S"),-1!==this.index&&(b.ve=d,d=this.h(k,",b",0,-1,""),-1!==this.index&&(b.Id=d,d=this.h(k,"..",b.Id,-1,"B"),-1!==this.index&&
(b.pf=d,d=this.h(k,",n",-1,-1,""),-1!==this.index&&(b.vg=d,c=!0))))))));if(c)if(this.index!==k.length)c=!1,this.B="LtL invalid characters after rule";else{switch(b.vg){case this.Z:f=(2*b.wc+1)*(2*b.wc+1);break;case this.dd:f=2*b.wc*(b.wc+1)+1;break;case this.ce:d=0;var g=b.wc*b.wc+b.wc;for(k=-b.wc;k<=b.wc;k+=1){for(f=0;(f+1)*(f+1)+k*k<=g;)f+=1;d+=2*f+1}f=d}f-=1-b.ij;b.Id>f&&(c=!1,this.B="LtL 'B"+b.Id+"..' > "+f);b.pf>f&&(c=!1,this.B="LtL 'B.."+b.pf+"' > "+f);b.Bd>f&&(c=!1,this.B="LtL 'S"+b.Bd+"..' > "+
f);b.ve>f&&(c=!1,this.B="LtL 'S.."+b.ve+"' > "+f)}return c};n.prototype.dh=function(b,k){var c=!1;this.index=0;b.g=2;b.ij=1;b.vg=this.Z;var f=this.h(k,"",1,500,"");-1!==this.index&&(b.wc=f,f=this.h(k,",",0,-1,""),-1!==this.index&&(b.Id=f,f=this.h(k,",",b.Id,-1,"B"),-1!==this.index&&(b.pf=f,f=this.h(k,",",0,-1,""),-1!==this.index&&(b.Bd=f,f=this.h(k,",",b.Bd,-1,"S"),-1!==this.index&&(b.ve=f,c=!0)))));c&&(this.index!==k.length?(c=!1,this.B="LtL invalid characters after rule"):(k=(2*b.wc+1)*(2*b.wc+
1),b.Id>k&&(c=!1,this.B="LtL 'B"+b.Id+"..' > "+k),b.pf>k&&(c=!1,this.B="LtL 'B.."+b.pf+"' > "+k),b.Bd>k&&(c=!1,this.B="LtL 'S"+b.Bd+"..' > "+k),b.ve>k&&(c=!1,this.B="LtL 'S.."+b.ve+"' > "+k)));return c};n.prototype.Zg=function(b,k){var c=!1;this.index=0;-1===b.g&&(b.g=2);b.ij=1;b.vg=this.Z;var f=this.h(k,"r",1,500,"");-1!==this.index&&(b.wc=f,f=this.h(k,"b",0,-1,""),-1!==this.index&&(b.Id=f,f=this.h(k,"t",b.Id,-1,"B"),-1!==this.index&&(b.pf=f,f=this.h(k,"s",0,-1,""),-1!==this.index&&(b.Bd=f,f=this.h(k,
"t",b.Bd,-1,"S"),-1!==this.index&&(b.ve=f,c=!0)))));c&&(this.index!==k.length?(c=!1,this.B="LtL invalid characters after rule"):(k=(2*b.wc+1)*(2*b.wc+1),b.Id>k&&(c=!1,this.B="LtL 'B"+b.Id+"' > "+k),b.pf>k&&(c=!1,this.B="LtL 'B..T"+b.pf+"' > "+k),b.Bd>k&&(c=!1,this.B="LtL 'S"+b.Bd+"..' > "+k),b.ve>k&&(c=!1,this.B="LtL 'S..T"+b.ve+"' > "+k)));return c};n.prototype.we=function(b,k,c,f,d){var g=!1,m,q="HROT.",r,w=0;if(this.index+c>b.length)this.B="HROT '"+k+"' needs "+c+" hex digits";else{for(m=r=0;r<
c&&-1!==m;)m="0123456789abcdef".indexOf(b[this.index]),-1!==m&&(this.index+=1,r+=1);if(-1===m)this.B="HROT '"+k+"' expected hex got '"+b[this.index]+"'";else{"B"===k?q+="births":(q+="survivals",w=1);d=d.F(Uint8,(c<<2)+1+w,q);g=0;d[g]=0;g+=1;--r;"S"===k&&(d[g]=0,g+=1);for(;0<=r;)m="0123456789abcdef".indexOf(b[this.index-c+r]),--r,d[g]=m&1,g+=1,d[g]=m>>1&1,g+=1,d[g]=m>>2&1,g+=1,d[g]=m>>3&1,g+=1;"B"===k?f.Ae=d:f.lf=d;g=!0}}return g};n.prototype.fa=function(b,k){var c=-1;this.index+=1;if(this.index<b.length){var f=
b[this.index].charCodeAt(0);if(48>f||57<f)this.B="HROT '"+k+"' needs a number";else for(c=f-48,this.index+=1,f=-1,this.index<b.length&&(f=b[this.index].charCodeAt(0));48<=f&&57>=f;)c=10*c+(f-48),this.index+=1,this.index<b.length?f=b[this.index].charCodeAt(0):f=-1}else this.B="HROT '"+k+"' needs a number";return c};n.prototype.ee=function(b,k,c,f){var d=!0,g;for(g=this.fa(b,c);d&&-1!==g;){var m=-1;this.index<b.length&&"-"===b[this.index]&&(m=this.fa(b,c),-1===m&&(this.B="HROT '"+c+g+"-' needs a number",
d=!1));if(d&&(-1===m&&(m=g),g>m&&(this.B="HROT '"+c+g+"-"+m+"' wrong order",d=!1),d)){"S"===c?(this.Mb=m,g+=1,m+=1):this.Fb=m;g>f&&(g=f);for(m>f&&(m=f);g<=m;g+=1)k[g]=1;g=-1;this.index<b.length&&","===b[this.index]&&(g=this.fa(b,c),-1===g&&(--this.index,this.B=""))}}return d};n.prototype.Ij=function(b,k){var c=b.wc,f=(2*c+1)*(2*c+1);b.xd=c;b.ug=b.vg;b.lf=k.F(Uint8,f+1,"HROT.survivals");b.Ae=k.F(Uint8,f,"HROT.births");for(c=b.Bd;c<=b.ve;c+=1)b.lf[c]=1;for(c=b.Id;c<=b.pf;c+=1)b.Ae[c]=1;if(this.kc){b.yo=
k.F(Uint8,f+1,"HROT.altSurvivals");b.xo=k.F(Uint8,f,"HROT.altBirths");for(c=b.Ez;c<=b.Dz;c+=1)b.yo[c]=1;for(c=b.Cz;c<=b.Bz;c+=1)b.xo[c]=1}b.xa=!0};n.prototype.xg=function(b,k,c){var f=!1,d,g;this.Mb=this.Fb=this.index=d=0;if("r"!==k[this.index])this.B="HROT expected 'R' got '"+k[this.index].BI()+"'";else{var m=this.fa(k,"R");-1!==m&&(1>m?this.B="HROT 'R' < 1":500<m?this.B="HROT 'R' > 500":(b.xd=m,f=!0,d=(2*m+1)*(2*m+1)))}f&&(f=!1,this.index<k.length?","!==k[this.index]?this.B="HROT expected ',' got "+
k[this.index].toUpperCase():(this.index+=1,this.index<k.length?"c"!==k[this.index]?this.B="HROT expected 'C' got "+k[this.index].toUpperCase():(m=this.fa(k,"C"),-1!==m&&(0>m?this.B="HROT 'C"+m+"' < 0":256<m?this.B="HROT 'C"+m+"' > 256":(2>m&&(m=2),b.g=m,f=!0))):this.B="HROT expected 'C'"):this.B="HROT expected ','");f&&(f=!1,this.index<k.length?","!==k[this.index]?this.B="HROT expected ',' got "+k[this.index].toUpperCase():(this.index+=1,this.index<k.length?"s"!==k[this.index]?this.B="HROT expected 'S' got "+
k[this.index].toUpperCase():(b.lf=c.F(Uint8,d+2,"HROT.survivals"),f=this.ee(k,b.lf,"S",d)):this.B="HROT expected 'S'"):this.B="HROT expected ','");f&&(f=!1,this.index<k.length?","!==k[this.index]?this.B="HROT expected ',' got "+k[this.index].toUpperCase():(this.index+=1,this.index<k.length?"b"!==k[this.index]?this.B="HROT expected 'B' got "+k[this.index].toUpperCase():(b.Ae=c.F(Uint8,d+1,"HROT.births"),f=this.ee(k,b.Ae,"B",d)):this.B="HROT expected 'B'"):this.B="HROT expected ','");b.ug=this.Af;f&&
this.index<k.length&&","===k[this.index]&&(f=!1,this.index+=1,this.index<k.length?"n"===k[this.index]?(this.index+=1,this.index<k.length?"m"===k[this.index]||"n"===k[this.index]||"c"===k[this.index]?("n"===k[this.index]?b.ug=this.$f:"c"===k[this.index]&&(b.ug=this.Eo),this.index+=1,f=!0):this.B="HROT expected 'NM', 'NN' or 'NC' got 'N"+k[this.index].toUpperCase()+"'":this.B="HROT 'N' needs a neighborhood"):this.B="HROT expected 'N' got '"+k[this.index].toUpperCase()+"'":this.B="HROT expected 'N'");
if(f){switch(b.ug){case this.Af:d=(2*b.xd+1)*(2*b.xd+1);break;case this.$f:d=2*b.xd*(b.xd+1)+1;break;case this.Eo:c=0;d=b.xd*b.xd+b.xd;for(g=-b.xd;g<=b.xd;g+=1){for(m=0;(m+1)*(m+1)+g*g<=d;)m+=1;c+=2*m+1}d=c}--d;this.Mb>d&&(f=!1,this.B="HROT 'S"+this.Mb+"' > "+d);f&&this.Fb>d&&(f=!1,this.B="HROT 'B"+this.Fb+"' > "+d);f&&(this.index!==k.length?(f=!1,this.B="HROT invalid characters after rule"):b.xa=!0)}return f};n.prototype.wg=function(b,k,c){var f=!1,d=0;this.index=0;-1===b.g&&(b.g=2);if("r"!==k[this.index])this.B=
"HROT expected 'R' got '"+k[this.index].BI()+"'";else{var g=-1;this.index+=1;this.index<k.length&&(g=k[this.index].charCodeAt(0));if(48>g||57<g)this.B="HROT 'R' needs a number";else{var m=g-48;this.index+=1;g=-1;for(this.index<k.length&&(g=k[this.index].charCodeAt(0));48<=g&&57>=g;)m=10*m+(g-48),this.index+=1,this.index<k.length?g=k[this.index].charCodeAt(0):g=-1;1>m?this.B="HROT 'R' < 1":500<m?this.B="HROT 'R' > 500":(b.xd=m,f=!0,d=m*(m+1))}}f&&(f=!1,this.index<k.length?"b"!==k[this.index]?this.B=
"HROT expected 'B' got "+k[this.index].toUpperCase()+"'":(this.index+=1,f=this.we(k,"B",d,b,c)):this.B="HROT expected 'B'");f&&(f=!1,this.index<k.length?"s"!==k[this.index]?this.B="HROT expected 'S' got "+k[this.index].toUpperCase()+"'":(this.index+=1,f=this.we(k,"S",d,b,c)):this.B="HROT expected 'S'");f&&this.index<k.length&&"z"===k[this.index]&&(b.lf[1]=1,this.index+=1);f&&(this.index!==k.length?(f=!1,this.B="HROT invalid characters after rule"):(b.ug=this.Af,b.xa=!0));return f};n.prototype.Jd=
function(b,k){for(var c=b.length,f=-1,d="",g=0;g<c;)1===b[g]?-1===f&&(f=g):-1!==f&&(""!==d&&(d+=","),d+=f+k,g-1!==f&&(d+="-"+(g-1+k)),f=-1),g+=1;-1!==f&&(""!==d&&(d+=","),d+=f+k,g-1!==f&&(d+="-"+(g-1+k)));return d};n.prototype.la=function(b,k,c){var f="",d=!1;var g=AliasManager.qA(k);null!==g&&(f=AliasManager.Nr(g),k=g);g=k.indexOf("|");if(-1===g)(d=this.od(b,k,c,this.Ii))&&b.ba&&this.nd(b,this.Ux,this.Qx);else if(-1===k.substr(g+1).indexOf("|")){if(d=this.od(b,k.substr(0,g),c,this.Px)){var m=new p(b.name,
this);m.h(b);b.KH();if(d=this.od(b,k.substr(g+1),c,this.Ii))if(this.B=b.nG(m),""===this.B)if(!b.ba&&(this.Ii[0]||this.Px[0])||b.ba&&0!==(b.Wi&1)||0!==(m.Wi&1))this.B="Alternate not supported with B0",d=!1;else{b.ba&&(this.nd(m,this.Qx,null),this.nd(b,this.Ux,null));if(""!==f)b.Jf=f;else if(""!==b.Jf||""!==m.Jf)""===b.Jf&&(b.Jf=b.ga),""===m.Jf&&(m.Jf=m.ga),b.Jf=m.Jf+"|"+b.Jf;b.ga=m.ga+"|"+b.ga;(b.xa||b.ne)&&b.IE(m,c);this.kc=!0}else d=!1}}else this.B="Only one alternate allowed";return d};n.prototype.gh=
function(b,k){var c=!0,f=b.length,d=0;if("2pca4"!==b.substr(0,5))this.B="PCA rule must start with 2PCA4",c=!1;else{var g=5;var m=-1;if(","!==b[g])c=!0;else for(g+=1;c&&16>d&&g<f;)if(g<f){var q=b[g];g+=1;"0"<=q&&"9">=q?(-1===m&&(m=0),m=10*m+q.charCodeAt(0)-48):","===q?15<m?(this.B="Value must be from 0 to 15",c=!1):(k[d]=m,d+=1,m=-1):(this.B="Illegal character found in rule",c=!1)}c&&(-1===m?(this.B=16===d?"Extra characters found after rule":"Need 16 values",c=!1):15<m?(this.B="Value must be from 0 to 15",
c=!1):(k[d]=m,16!==d+1&&(this.B="Need 16 values",c=!1)))}return c};n.prototype.fh=function(b,k){var c=!0,f=0,d=b.length,g,m=0;if("m"!==b[f])this.B="Margolus rule must start with M",c=!1;else{f+=1;"s,d"===b.substr(f,f+2)&&(f+=3);for(g=-1;c&&16>m&&f<d;)if(f<d){var q=b[f];f+=1;"0"<=q&&"9">=q?(-1===g&&(g=0),g=10*g+q.charCodeAt(0)-48):","===q||";"===q?15<g?(this.B="Value must be from 0 to 15",c=!1):(k[m]=g,m+=1,g=-1):(this.B="Illegal character found in rule",c=!1)}c&&(-1===g?(this.B=16===m?"Extra characters found after rule":
"Need 16 values",c=!1):15<g?(this.B="Value must be from 0 to 15",c=!1):(k[m]=g,16!==m+1&&(this.B="Need 16 values",c=!1)))}return c};n.prototype.od=function(b,k,c,f){var d=!1,g=null,m=null,q=null,r="012345678ceaiknjqrytwz-";var w=this.Zr.length;var u=this.Gq.length;var y=this.Fq.length,a=this.Hq.length,h=this.Kt.length,l="";f[0]=0;var v=AliasManager.qA(k);null!==v&&(""===k&&(b.ga="Conway's Life"),k=v);if("map"===k.substr(0,3).toLowerCase()){l=k.substr(3);var x=l.indexOf("/");-1===x?"=="===l.substr(-2)&&
(l=l.substr(0,l.length-2)):"=="===l.substr(x-2,2)&&(l=l.substr(0,x-2)+l.substr(x));k=this.Ak(l,b);if(0<=k)if(d=!0,q=l.substr(k),l=l.substr(0,k),"/"===q[0]){v=1;b.g=0;v<q.length&&("g"===q[v].toLowerCase()||"c"===q[v].toLowerCase())&&(v+=1);for(x=0;v<q.length&&-1!==x;)x="0123456789".indexOf(q[v]),-1!==x?b.g=10*b.g+x:(this.B="Illegal character in generations number",b.g=-1,d=!1),v+=1;-1!==b.g&&(2>b.g||256<b.g)&&(this.B="Generations number must be 2-256",b.g=-1,d=!1)}else""!==q&&(v=q.length,this.B="MAP length must be "+
this.pb+", "+this.nb+" or 86 not "+(v+k),d=!1);else this.B=86===l.length||l.length===this.nb||l.length===this.pb?"MAP contains illegal base64 character":"MAP length must be "+this.pb+", "+this.nb+" or 86 not "+l.length}else if(k=k.toLowerCase(),k=this.ye(k),"2pca4"===k.substr(0,5)){if(d=this.gh(k,f))b.M=!0,b.g=16}else if("m"===k[0]){if(d=this.fh(k,f))b.Aa=!0}else{d=!0;if("g"===k[0]){v=1;for(x=b.g=0;v<k.length&&-1!==x;)x="0123456789".indexOf(k[v]),-1!==x&&(b.g=10*b.g+x,v+=1);1<v&&(2>b.g||256<b.g?(this.B=
"Generations number must be 2-256",b.g=-1,d=!1):(v<k.length&&"/"===k[v]&&(v+=1),k=k.substr(v),d=!0))}if(d&&(x=k.lastIndexOf("g"),-1!==x&&x!==k.length-1&&!(0<x&&"/"===k[x-1]))){v=x+1;for(x=b.g=0;v<k.length&&-1!==x;)x="0123456789".indexOf(k[v]),-1!==x&&(b.g=10*b.g+x,v+=1);v===k.length?2>b.g||256<b.g?(this.B="Generations number must be 2-256",b.g=-1,d=!1):(k=k.substr(0,k.lastIndexOf("g")),d=!0):b.g=-1}if(d)if(d=!1,"r"===k[0]||"1"<=k[0]&&"9">=k[0]&&-1!==k.indexOf(",")){if(d="r"===k[0]?-1!==k.indexOf(".")?
this.Xg(b,k):-1!==k.indexOf("t")?this.Zg(b,k):-1!==k.indexOf(",")?this.xg(b,k,c):this.wg(b,k,c):this.dh(b,k))b.xa?(b.ga="R"+b.xd+",",b.ga+="C"+b.g+",",b.ga+="S"+this.Jd(b.lf,-1)+",",b.ga+="B"+this.Jd(b.Ae,0),b.ug!==this.Af&&(b.ga+=",N",b.ga=b.ug===this.$f?b.ga+"N":b.ga+"C")):(b.ne=!0,b.ga="R"+b.wc+",C"+b.g+",M"+b.ij+",S"+b.Bd+".."+b.ve+",B"+b.Id+".."+b.pf+",N",b.ga=b.vg===this.Z?b.ga+"M":b.vg===this.dd?b.ga+"N":b.ga+"C",0===b.ij&&(b.Bd+=1,b.ve+=1))}else if("w"===k[0])d=this.bi(b,k,f);else if(v=k.lastIndexOf(this.Gq),
-1!==v&&v===k.length-u&&(b.ba=!0,b.yd=this.Gl,k=k.substr(0,k.length-u),r=this.rd),v=k.lastIndexOf(this.Fq),-1!==v&&v===k.length-y&&(b.ba=!0,b.yd=this.Tm,k=k.substr(0,k.length-y),r=this.qd),v=k.lastIndexOf(this.Hq),-1!==v&&v===k.length-a&&(b.ba=!0,b.yd=this.Um,k=k.substr(0,k.length-a),r=this.Ad),v=k.lastIndexOf(this.Zr),-1!==v&&v===k.length-w&&(b.V=!0,k=k.substr(0,k.length-w),r=this.qf),v=k.lastIndexOf(this.Kt),-1!==v&&v===k.length-h&&(b.Ie=!0,k=k.substr(0,k.length-h),r=this.rf),c=k.indexOf("/"),-1===
c&&(c=k.indexOf("_")),-1!==c&&(v=k.lastIndexOf("/"),-1===v&&(v=k.lastIndexOf("_")),v!==c&&(q=k.substring(v+1),k=k.substr(0,v),v=k.lastIndexOf(this.Gq),-1!==v&&v===k.length-u&&(b.ba=!0,b.yd=this.Gl,k=k.substr(0,k.length-u),r=this.rd),v=k.lastIndexOf(this.Fq),-1!==v&&v===k.length-y&&(b.ba=!0,b.yd=this.Tm,k=k.substr(0,k.length-y),r=this.qd),v=k.lastIndexOf(this.Hq),-1!==v&&v===k.length-a&&(b.ba=!0,b.yd=this.Um,k=k.substr(0,k.length-a),r=this.Ad),v=k.lastIndexOf(this.Zr),-1!==v&&v===k.length-w&&(b.V=
!0,k=k.substr(0,k.length-w),r=this.qf),v=k.lastIndexOf(this.Kt),-1!==v&&v===k.length-h&&(b.Ie=!0,k=k.substr(0,k.length-h),r=this.rf))),k===this.he)b.ub=!0,b.g=256,d=!0;else{w=k.indexOf("b");u=k.indexOf("s");-1===c?0===w||0===u?-1===u?(g=k,m=""):-1===w?(m=k,g=""):w<u&&-1!==u?(g=k.substring(w+1,u),m=k.substring(u+1)):(m=k.substring(u+1,w),g=k.substring(w+1)):this.B="Unsupported rule name":(-1===w&&-1!==u?w=c:-1!==w&&-1===u&&(u=c),w<u?(g=k.substring(0,c),m=k.substring(c+1)):(g=k.substring(c+1),m=k.substring(0,
c)));-1!==w&&g&&"b"===g[0]&&(g=g.substring(1));-1!==u&&m&&"s"===m[0]&&(m=m.substring(1));if(null!==q)if(v=0,-1!==b.g)this.B="Generations defined twice",g=null;else{b.g=0;v<q.length&&("g"===q[v].toLowerCase()||"c"===q[v].toLowerCase())&&(v+=1);for(x=0;v<q.length&&-1!==x;)x="0123456789".indexOf(q[v]),-1!==x?b.g=10*b.g+x:(this.B="Illegal character in generations number",b.g=-1,g=null),v+=1;-1!==b.g&&(2>b.g||256<b.g)&&(this.B="Generations number must be 2-256",b.g=-1,g=null)}if(null!==g&&null!==m){d=
!0;for(v=0;v<g.length;)x=r.indexOf(g[v]),-1===x?(this.B="Illegal character in birth specification",d=!1,v=g.length):v+=1;if(d)for(v=0;v<m.length;)x=r.indexOf(m[v]),-1===x?(this.B="Illegal character in survival specification",d=!1,v=m.length):v+=1}}}d&&-1===b.Hd&&!1===b.ne&&!1===b.xa&&(b.ga=this.ig(b,g,m,l,f),""!==this.B&&(d=!1),2===b.g&&(b.g=-1));d?this.Qf(b,l):(b.hJ=!1,b.xa=!1,b.g=-1,b.ub=!0);return d};n.prototype.kn=function(b,k,c,f){var d=0,g=k.length-1,m=!1,q=!0,r,w=0,u=0,y=0,a=0,h=this.Im;for(r=
k[d];!m;){var l=r;r=k[d+1];var v=-1;switch(l){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":a=10*a+parseInt(l,10);break;case "b":v=0;break;case "o":v=1;break;case ".":v=0;break;case "z":v=7;b.gc=!0;b.tp=!0;break;case "$":0===a&&(a=1);y+=a;a=0;u>w&&(w=u);u=0;break;case "!":0===a&&(a=1);y+=a;a=0;u>w&&(w=u);m=!0;break;default:q=!1,"A"<=l&&"X">=l?(q=!0,v=l.charCodeAt(0)-64):"p"<=l&&"y">l?"A"<=r&&"X">=r?(q=!0,v=24*(l.charCodeAt(0)-111)+(r.charCodeAt(0)-64),d+=
1,r=k[d+1]):"x"===l&&(q=!0,b.gc=!0,b.tp=!0,v=3):"y"===l&&("A"<=r&&"O">=r?(q=!0,v=24*(l.charCodeAt(0)-111)+(r.charCodeAt(0)-64),d+=1,r=k[d+1]):(q=!0,b.gc=!0,b.tp=!0,v=5))}if(0<=v)if(0===a&&(a=1),c||(0===h[v]&&(b.Jp+=1),h[v]+=a,v>=b.Bf&&(b.Bf=v+1)),0<v&&c)for(;0<a;){b.Uf[y][u]=-1===b.g?v:2===b.g?1===v?LifeConstants.gb:0:v<b.g?v:1;if(!b.gc&&-1===b.g&&1===v||b.gc&&v&1||-1!==b.g&&1===v)b.Ud[y][u>>4]|=1<<(~u&15);u+=1;--a}else u+=a,a=0;q||(" "===l||"\t"===l||"\n"===l?q=!0:(this.B="Illegal character in pattern: "+
l,m=b.km=!0));d+=1;d===g&&(m||(0===a&&(a=1),y+=a,a=0,u>w&&(w=u)),m=!0)}c||(0===w&&(y=w=1),b.width=w,b.height=y,16384<w||16384<y?b.Zf=!0:(b.Ud=Array.Y(Uint16,y,(w-1>>4)+1,0,f,"Pattern.lifeMap"),b.Uf=Array.Y(Uint8,y,w,0,f,"Pattern.multiStateMap")),b.Ci="RLE");b.km&&(d=-1);return d};n.prototype.Si=function(b,k){var c=k.indexOf("\n");-1===c&&(c=k.length);b.zB=k.substring(0,c).trim()};n.prototype.jc=function(b,k,c){for(var f=!1;k<c&&!f;)" "===b[k]?k+=1:f=!0;return k};n.prototype.hi=function(b){var k=b.indexOf("\n"),
c=0,f=!1,d=!1,g=0;-1===k&&(k=b.length);for(;g<k&&!f;)"="===b[g]?f=!0:" "!==b[g]?f=!0:g+=1;if(f&&"="===b[g]){g=this.jc(b,g+1,k);g<k&&"-"===b[g]&&(d=!0,g+=1);for(f=!1;g<k&&!f;){var m="0123456789".indexOf(b[g]);-1!==m?(c=10*c+m,g+=1):f=!0}this.Vj=!0;d&&(c=-c);this.Iv=c}};n.prototype.xe=function(b,k){var c=b.indexOf("\n"),f=0,d=0,g=!1,m=!1,q=!1,r=0;-1===c&&(c=b.length);if(k){for(;r<c&&!q;)"="===b[r]?q=!0:" "!==b[r]?q=!0:r+=1;q&&"="===b[r]&&(r+=1)}else q=!0;if(q&&(r=this.jc(b,r,c),r<c)){"-"===b[r]&&(g=
!0,r+=1);for(q=!1;r<c&&!q;)k="0123456789".indexOf(b[r]),-1!==k?(f=10*f+k,r+=1):q=!0;this.Gi=!0;this.Ts=g?-f:f;r=this.jc(b,r,c);if(r<c&&","===b[r]&&(r=this.jc(b,r+1,c),r<c)){"-"===b[r]&&(m=!0,r+=1);for(q=!1;r<c&&!q;)k="0123456789".indexOf(b[r]),-1!==k?(d=10*d+k,r+=1):q=!0;this.Us=m?-d:d}}};n.prototype.hg=function(b){var k=b.indexOf("XRLE");0===k&&(k=b.indexOf("Pos"),-1!==k&&this.xe(b.substr(k+3),!0),k=b.indexOf("Gen"),-1!==k&&this.hi(b.substr(k+3)))};n.prototype.Ri=function(b,k){var c=k.indexOf("\n");
-1===c&&(c=k.length);b.name=k.substring(0,c).trim()};n.prototype.md=function(b,k,c,f){var d=c.indexOf("\n");-1===d&&(d=c.length);" "===c[0]&&(k+=" ");c=""+c.substring(0,d).trim();b.title+=c+" ";f?b.cg+=k+c+"\n":b.cc+=k+c+"\n";return d+1};n.prototype.A=function(b){var k=-1;b+=" ";var c="0123456789".indexOf(b[this.index]);if(-1!==c)for(k=0;-1!==c;)k=10*k+c,this.index+=1,c="0123456789".indexOf(b[this.index]);return k};n.prototype.oh=function(b,k){k=this.A(k);b.le=k;b.Sf=k};n.prototype.Ig=function(b,
k){var c=this.A(k),f=-1,d=0,g=0;if(-1!==c){var m=k[this.index];if("-"===m||"+"===m)this.index+=1,d=this.A(k),-1===d?c=-1:"-"===m&&(d=-d);if(","===k[this.index])if(this.index+=1,f=this.A(k),-1===f)c=-1;else{if(m=k[this.index],"-"===m||"+"===m)this.index+=1,g=this.A(k),-1===g?c=-1:"-"===m&&(g=-g)}else f=c}0!==d&&0!==g&&(c=-1);0===c&&0===f&&(c=-1);0===d&&0===g||0!==c&&0!==f||(c=-1);b.le=c;b.Sf=f;b.Yo=d;b.vn=g};n.prototype.Wg=function(b,k){var c=this.A(k),f=-1,d=0,g=0,m=!1,q=!1;if(-1!==c){var r=k[this.index];
"*"===r&&(m=!0,this.index+=1,r=k[this.index]);if("-"===r||"+"===r)d=this.A(k),-1===d?c=-1:"-"===r&&(d=-d),this.index+=1,r=k[this.index];if(","===r)if(this.index+=1,f=this.A(k),-1===f)c=-1;else{if(r=k[this.index],"*"===r&&(q=!0,this.index+=1,r=k[this.index]),"-"===r||"+"===r)this.index+=1,g=this.A(k),-1===g?c=-1:"-"===r&&(g=-g)}else f=c}m&&q&&(c=-1);0!==d&&0!==g&&(c=-1);if(m&&0!==g||q&&0!==d)c=-1;if(0===c||0===f)c=-1;m||q||(q=!0);b.le=c;b.Sf=f;b.Yo=d;b.vn=g;b.Mv=m;b.Ur=q};n.prototype.tg=function(b,
k){var c=this.A(k),f=-1;-1!==c&&(","===k[this.index]?(this.index+=1,f=this.A(k),-1===f&&(c=-1)):f=c);b.le=c;b.Sf=f};n.prototype.ih=function(b,k){var c=this.A(k),f=-1;-1!==c&&(","===k[this.index]?(this.index+=1,f=this.A(k),-1===f&&(c=-1)):f=c);0===c&&0===f&&(c=-1);b.le=c;b.Sf=f};n.prototype.mg=function(b,k){var c=!1;k=this.ye(k).toLowerCase();if(""!==k){b.Tb="ptkcs".indexOf(k[0]);if(-1!==b.Tb)if(this.index=1,2!==b.Tb&&-1!==k.indexOf("*"))b.le=-1;else switch(b.Tb){case 0:this.ih(b,k);break;case 1:this.Ig(b,
k);break;case 2:this.Wg(b,k);break;case 3:this.tg(b,k);break;case 4:this.oh(b,k);break;default:b.le=-1}this.index!==k.length&&(b.le=-1);-1!==b.le?c=!0:(b.Tb=-1,this.B="Invalid bounded grid definition '"+k.toUpperCase()+"'")}return c};n.prototype.eb=function(b,k,c,f){var d,g,m=null;if(c[k]===b){for(k+=1;k<f&&" "===c[k];)k+=1;for(k<f&&"="===c[k]&&(k+=1);k<f&&" "===c[k];)k+=1;b=0;var q=d=!1;"-"===c[k]&&(k+=1,q=!0);for(g=c[k].charCodeAt(0);k<f&&48<=g&&57>=g;)b=10*b+(g-48),k+=1,d=!0,k<f&&(g=c[k].charCodeAt(0));
for(d&&(m=q?-b:b);k<f&&" "===c[k];)k+=1;for(k<f&&","===c[k]&&(k+=1);k<f&&" "===c[k];)k+=1}return[m,k]};n.prototype.mh=function(b,k){this.tj=this.uj=-1;var c=this.eb("x",0,b,k);var f=c[1];c[0]&&(this.uj=c[0]);c=this.eb("y",f,b,k);f=c[1];c[0]&&(this.tj=c[0]);c=this.eb("h",f,b,k);f=c[1];c[0]&&(this.Ts=c[0],this.Gi=!0);c=this.eb("v",f,b,k);c[0]&&(this.Us=c[0])};n.prototype.ge=function(b,k,c,f){var d=k.indexOf("\n"),g=k.indexOf("rule"),m="";-1===d&&(d=k.length);this.mh(k,d);-1===g?c?m="":m=k.substring(1,
d).trim():(m=k.substring(g+4,d).trim(),"="===m[0]&&(m=m.substring(1).trim()));b.ga=m;k=m.lastIndexOf(":");-1!==k&&(this.mg(b,m.substring(k+1))?m=m.substr(0,k).trim():k=-2);c=m.toLowerCase().lastIndexOf("history");-1!==c&&c===m.length-7&&(b.gc=!0,m=m.substr(0,m.length-7).trim());c=m.indexOf("|");-1!==c&&"history"===m.toLowerCase().substr(0,c).trim().substr(-7)&&(b.gc=!0,g=m.substr(0,c).trim(),m=g.substr(0,g.length-7)+m.substr(c));-2!==k&&this.la(b,m,f)?this.va=!0:this.pn=!0;return d+1};n.prototype.Mz=
function(b){switch(b){case 0:b="Plane";break;case 1:b="Torus";break;case 2:b="Klein bottle";break;case 3:b="Cross-surface";break;case 4:b="Sphere";break;default:b="(unknown)"}return b};n.prototype.fe=function(b,k,c){var f=0,d=k.length,g=!1,m=!1;var q=this.Im;var r=4,w;b.Aa=!1;b.ub=!1;b.Tb=-1;b.width=0;b.height=0;b.Zf=!1;b.Ud=null;b.Uf=null;b.km=!1;b.gc=!1;b.tp=!1;b.V=!1;b.Hd=-1;b.Ie=!1;b.g=-1;b.ne=!1;b.wc=-1;b.ij=1;b.Bd=-1;b.ve=-1;b.Id=-1;b.pf=-1;b.xa=!1;b.Ae=null;b.lf=null;b.xd=-1;b.title="";b.cc=
"";b.cg="";b.Bf=2;b.Jp=0;if(arrayFill)q.fill(0);else for(w=0;w<q.length;w+=1)q[w]=0;for(k+=" ";f<d&&!b.km;)switch(q=k[f],q){case "#":f+=1;q=k[f];f+=1;switch(q){case "N":this.Ri(b,k.substring(f));break;case "O":this.Si(b,k.substring(f));break;case "C":this.hg(k.substring(f));break;case "P":case "R":this.xe(k.substring(f),!1);break;case "\n":--f}f="\n"===q?f+this.md(b,"#",k.substring(f),g):f+this.md(b,"#"+q,k.substring(f),g);break;case "x":f+=this.ge(b,k.substring(f),!0,c);m=!0;break;case "\n":f+=1;
break;default:g?f+=this.md(b,"",k.substring(f),!0):(g=!0,q=this.kn(b,k.substring(f),!1,c),-1!==q&&(f=b.Zf?f+q:f+this.kn(b,k.substring(f),!0,c)))}m||(this.la(b,"",c)?this.va=!0:this.pn=!0);-1!==b.Tb&&(b.xa&&(r=6*b.xd),b.ne&&(r=6*b.wc),b.le>=16384-r||b.Sf>=16384-r)&&(this.B="Bounded grid is too big",this.va=!1,b.Tb=-1);!b.ne||(1<b.Tb&&(this.B="LtL only supports Plane or Torus",this.va=!1,b.Tb=-1),b.V&&(this.B="LtL does not support Hex grid",this.va=!1,b.V=!1),0===b.Id&&-1===b.Tb&&(this.B="LtL does not support B0 unbounded",
this.va=!1),0!==b.Tb&&1!==b.Tb)||0!==b.le&&0!==b.Sf||(this.B="LtL bounded grid must be finite",this.va=!1,b.Tb=-1);b.ba&&-1!==b.Tb&&(0!==(b.le&1)?(this.B="Bounded grid width must be even",this.va=!1,b.Tb=-1):0!==(b.Sf&1)&&(this.B="Bounded grid height must be even",this.va=!1,b.Tb=-1));b.M&&0!==this.Ii[0]&&(this.B="PCA first value must be 0",this.Ii[0]=0,this.va=!1);b.Aa&&(15===this.Ii[0]&&0!==this.Ii[15]?(this.B="Margolus last value must be 0 when first is 15",this.va=!1):0!==this.Ii[0]&&15!==this.Ii[0]&&
(this.B="Margolus first value must be 0 or 15",this.va=!1));!b.xa||(1<b.Tb&&(this.B="HROT only supports Plane or Torus",this.va=!1,b.Tb=-1),b.V&&(this.B="HROT does not support Hex grid",this.va=!1,b.V=!1),b.Ae&&1===b.Ae[0]&&-1===b.Tb&&(this.B="HROT does not support B0 unbounded",this.va=!1),0!==b.Tb&&1!==b.Tb)||0!==b.le&&0!==b.Sf||(this.B="HROT bounded grid must be finite",this.va=!1,b.Tb=-1);b.ub&&b.gc&&(this.B="[R]History not valid with none rule",this.va=b.gc=!1);-1===b.g||!b.gc||b.ne||b.xa||(this.B=
"[R]History not valid with Generations",this.va=b.gc=!1);-1===b.g||!this.Ii[0]||b.ne||b.xa||(this.B="Generations does not support B0",this.va=!1);b.ne&&b.gc&&(this.B="[R]History not valid with LtL",this.va=b.gc=!1);b.xa&&b.gc&&(this.B="[R]History not valid with HROT",this.va=b.gc=!1);b.Aa&&b.gc&&(this.B="[R]History not valid with Margolus",this.va=b.gc=!1);b.Aa&&-1!==b.Tb&&(-1!==b.Sf&&0!==(b.Sf&1)&&(this.B="Bounded grid height must be even",b.Tb=-1,this.va=!1),-1!==b.le&&0!==(b.le&1)&&(this.B="Bounded grid width must be even",
b.Tb=-1,this.va=!1));this.va&&(b.tp?8<b.Bf&&(this.B="Illegal state in pattern for Niemiec",this.va=!1):b.gc?7<b.Bf&&(this.B="Illegal state in pattern for [R]History",this.va=!1):-1!==b.g&&b.Bf>b.g&&(this.B=b.ne?"Illegal state in pattern for LtL":b.xa?"Illegal state in pattern for HROT":b.M?"Illegal state in pattern for PCA":"Illegal state in pattern for Generations",this.va=!1));b.ne&&this.Ij(b,c)};n.prototype.Jg=function(b,k){var c=-1,f=-1,d=-1,g=!1,m=[],q=[],r=[],w=[],u=1E3;var y=k.Or();y===this.Tx&&
"="===k.U()&&k.G()&&(c=k.J(),2<=c&&256>=c&&(g=!0));g&&(y=k.Or(),y===this.Rx&&"="===k.U()&&k.G()&&(f=k.J(),4===f||8===f))&&(g=!0);g&&(y=k.Or(),y===this.Sx&&"="===k.U()&&k.G()&&(d=k.J(),d>=f&&1E8>=d&&(g=!0)));for(y=k.Or();g&&""!==y;){for(;k.IA(y);)y=k.U();if(k.En(y)){u=k.Mu(y);var a=0;r[r.length]=1===u?q.length:m.length;w[w.length]=u;for(y=k.U();g&&!k.IA(y);)k.En(y)?(y=k.Mu(y),1===u?0>y||y>=c?g=!1:q[q.length]=y:0>y||y>r.length?g=!1:w[y]!==u-1?g=!1:m[m.length]=r[y],a+=1,y=k.U()):g=!1;a!==c&&(g=!1)}else""!==
y&&"@COLORS"!==y&&"@ICONS"!==y?g=!1:y=""}m.length+q.length!==d*c&&(g=!1);u!==f+1&&(g=!1);if(g)if(b.ga===b.DC){b.Rx=f;b.Tx=c;b.Sx=d;b.PH=r[r.length-1];b.EC=new Uint32Array(m.length);b.FC=new Uint32Array(q.length);for(k=0;k<m.length;k+=1)b.EC[k]=m[k];for(k=0;k<q.length;k+=1)b.FC[k]=q[k];this.B="";this.va=!0}else g=!1;return g};n.prototype.kh=function(b){var k=!1,c=new Script(b.cg,!0);if(-1!==c.dm(this.ic,-1)&&!c.LG()){b.DC=c.U();var f=c.dm("@TABLE",-1);-1!==f?k=!1:(f=c.dm("@TREE",-1),-1!==f&&(k=this.Jg(b,
c)));k&&(b=c.dm("@COLORS",0),-1!==b&&(k=!0),k&&c.dm("@ICONS",0))}};n.prototype.create=function(b,k,c,f){b=new p(b,this);this.va=this.pn=this.Zf=!1;this.B="";this.index=0;this.Vj=!1;this.Iv=0;this.Gi=!1;this.Us=this.Ts=0;this.tj=this.uj=-1;this.kc=!1;if("!"===k.substr(0,1)||"O"===k.substr(0,1)||"."===k.substr(0,1)||"*"===k.substr(0,1)||"o"===k.substr(0,1))this.og(b,k,c),this.va=!0;null===b.Ud&&(this.va=!1,"#Life 1.05"===k.substr(0,10)?this.de(b,k,!0,c):"#Life 1.06"===k.substr(0,10)?(this.lg(b,k,c),
this.va=!0):"#"===k[0]||"x"===k[0]?(this.fe(b,k,c),null!==b.Ud||b.Zf||b.km||(this.de(b,k,!1,c),this.pn=!1,b.Uf=null,b.gc=!1,b.Bf=2,b.Jp=0)):this.fe(b,k,c));b.Zf&&(this.B="Pattern too big (maximum 16384x16384)",this.Zf=!0,b.km=!1,b.width=1,b.height=1,b.Ud=Array.Y(Uint16,b.height,(b.width-1>>4)+1,0,c,"Pattern.lifeMap"));-1!==b.Tb?(k=b.ga.lastIndexOf(":"),b.Yq=b.ga.substr(k),b.ga=b.ga.substr(0,k)):b.Yq="";null===b.Ud&&""===this.B&&(this.B="Invalid pattern",b=null,this.va=!1);b&&b.km&&!b.Zf&&(b=null,
this.va=!1);b&&(""!==b.cc&&"\n"!==b.cc[b.cc.length-1]&&(b.cc+="\n"),""!==b.cg&&("\n"!==b.cg[b.cg.length-1]&&(b.cg+="\n"),this.kh(b)),""!==this.B&&(b.V||b.ba)&&null===b.ga.match(/[0-9]/)&&(b.V=!1,b.ba=!1),""!==this.B&&!this.Zf&&f&&this.ei(b.ga));return b};n.prototype.PF=function(b){var k=b.indexOf(this.ic),c=b.length,f,d,g=[],m=[];if(-1===k)var q="Rule not found in response!";else{for(f=q=0;f<this.pd.length;f+=1)g[q]="<"+this.pd[f]+">",m[q]=g[q].length,q+=1,g[q]="</"+this.pd[f]+">",m[q]=g[q].length,
q+=1;q=this.ic;for(k+=this.ic.length;k<c;){f=0;for(d=!1;f<g.length&&!d;)b.substr(k,m[f])===g[f]?(d=!0,k+=m[f],0===f&&(q+="# ")):f+=1;d||("\x3c!--"===b.substr(k,4)?k=c:(q+=b[k],k+=1))}}return q};n.prototype.di=function(b){4===b.yk.readyState&&(200===b.yk.status?alert(b.PF(b.yk.responseText)):b.jA(b))};n.prototype.jA=function(b){alert("RuleTable fetch failed\n\nRule: "+b.BC+"\nURI: "+b.CC+"\nStatus: "+b.yk.statusText)};n.prototype.ei=function(b){var k=this,c="/wiki/Rule:"+b;this.yk=new XMLHttpRequest;
this.BC=b;this.CC=c;registerEvent(this.yk,"load",function(){k.di(k)},!1);registerEvent(this.yk,"error",function(){k.jA(k)},!1);this.yk.open("GET",c,!0);this.yk.send(null)};window.PatternManager=n;window.Pattern=p}(),function(){function e(){this.Zu=[]}e.prototype.add=function(n,p,b){this.Zu[this.Zu.length]=n<<16|p<<8|b};window.ColourManager={$i:[],fq:[],EA:!1,kv:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,
21,21,126,125,125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,
182,255,41,83,153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,
13,165,142,255,255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,
104,147,88,149,240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,
0,172,210,180,78,231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,
108,23,90,182,215,36],Ar:[],De:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",
127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",
255,140,0],darkorchid:["DarkOrchid",153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",
255,250,240],forestgreen:["ForestGreen",34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",
230,230,250],lavenderblush:["LavenderBlush",255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",
135,206,250],lightslategray:["LightSlateGray",119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",
123,104,238],mediumspringgreen:["MediumSpringGreen",0,250,154],mediumturquoise:["MediumTurquoise",72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",
255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",238,232,170],palegreen:["PaleGreen",152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",
188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",139,69,19],salmon:["Salmon",250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],
teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",255,99,71],turquoise:["Turquoise",64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",154,205,50]},eJ:function(){return this.Ar},Vz:function(n){for(var p=0,b=!1,k=[];p<this.fq.length&&!b;)n===this.fq[p][0]?b=!0:p+=1;b&&(k=this.$i[this.fq[p][1]].Zu);return k},Gb:function(n){this.fq[this.fq.length]=
n},cf:function(){var n,p=0,b;if(!this.EA){this.EA=!0;for(n=b=0;256>n;n+=1)this.Ar[n]=this.kv[b]<<16|this.kv[b+1]<<8|this.kv[b+2],b+=3;n=new e;n.add(0,0,0);n.add(0,255,0);n.add(0,0,128);n.add(216,255,216);n.add(255,0,0);n.add(255,255,0);n.add(96,96,96);n.add(255,128,128);this.$i[p]=n;this.Gb(["LifeHistory",p]);p+=1;n=new e;n.add(48,48,48);n.add(0,128,255);n.add(255,255,255);n.add(255,128,0);this.$i[p]=n;this.Gb(["WireWorld",p]);p+=1;n=new e;n.add(0,0,0);n.add(255,255,255);n.add(144,128,112);n.add(144,
90,45);n.add(192,192,192);n.add(255,0,0);n.add(255,128,0);n.add(255,255,0);n.add(0,255,0);n.add(0,255,208);n.add(0,192,255);n.add(0,0,255);n.add(192,0,255);n.add(255,64,160);n.add(112,128,144);n.add(0,128,0);n.add(0,96,128);n.add(160,0,80);n.add(40,40,40);n.add(220,220,220);n.add(140,60,0);n.add(0,160,0);n.add(160,160,250);this.$i[p]=n;this.Gb(["WWE",p]);this.Gb(["WWE2",p]);this.Gb(["WWEJ",p]);this.Gb(["WWEJ2",p]);this.Gb(["WWEJ3",p]);p+=1;n=new e;n.add(30,30,30);n.add(0,128,128);n.add(0,255,0);n.add(255,
0,0);n.add(255,128,0);n.add(255,255,0);n.add(128,0,128);n.add(128,128,128);n.add(255,255,255);n.add(128,128,255);this.$i[p]=n;this.Gb(["Novoloop",p]);p+=1;n=new e;n.add(0,0,0);n.add(255,128,0);n.add(255,0,0);n.add(0,255,0);n.add(0,0,255);n.add(0,190,0);n.add(0,140,0);n.add(255,255,255);n.add(80,80,80);n.add(95,95,95);n.add(128,128,128);n.add(0,64,0);n.add(255,255,0);n.add(64,0,164);n.add(64,32,64);n.add(80,80,100);n.add(95,95,125);n.add(128,255,128);n.add(64,100,100);this.$i[p]=n;this.Gb(["shapeloop",
p]);this.Gb(["shapeloop-b",p]);this.Gb(["shapeloop2",p]);this.Gb(["shapeloop-ltd",p]);this.Gb(["2armshapeloop-a",p]);this.Gb(["2armshapeloop2-a",p]);this.Gb(["shapeloop2a-bounded",p]);this.Gb(["foodshapeloop",p]);this.Gb(["foodshapeloop2",p]);p+=1;n=new e;n.add(0,0,0);n.add(255,255,255);n.add(255,0,0);n.add(0,128,255);n.add(170,0,0);n.add(85,0,0);this.$i[p]=n;this.Gb(["b3s23mmg",p]);p+=1;n=new e;n.add(0,0,0);n.add(255,0,0);n.add(0,255,0);n.add(0,0,255);n.add(255,255,0);n.add(0,255,255);n.add(255,
0,255);n.add(92,36,110);n.add(0,99,140);n.add(176,196,222);n.add(115,61,26);this.$i[p]=n;this.Gb(["_235_4_O3",p]);this.Gb(["0_245_5_O4",p]);this.Gb(["0_245_5_O3",p]);this.Gb(["58_27_4_O3",p]);this.Gb(["0_24_4H_O3",p]);this.Gb(["2_235_4H_O3",p]);this.Gb(["24_235_4H_O3",p]);this.Gb(["3_25_4_O2",p]);this.Gb(["Snake_O5",p]);this.Gb(["Mites",p]);this.Gb(["Mites2",p]);this.Gb(["Mites3",p]);p+=1;n=new e;n.add(48,48,48);n.add(255,128,0);n.add(0,0,255);n.add(32,32,255);n.add(64,64,255);n.add(96,96,255);this.$i[p]=
n;this.Gb(["Alpha-1",p]);p+=1;n=new e;n.add(48,48,48);n.add(255,0,0);n.add(255,125,0);n.add(255,150,25);n.add(255,175,50);n.add(255,200,75);n.add(255,225,100);n.add(255,250,125);n.add(251,255,0);n.add(89,89,255);n.add(106,106,255);n.add(122,122,255);n.add(139,139,255);n.add(27,176,27);n.add(36,200,36);n.add(73,255,73);n.add(106,255,106);n.add(235,36,36);n.add(255,56,56);n.add(255,73,73);n.add(255,89,89);n.add(185,56,255);n.add(191,73,255);n.add(197,89,255);n.add(203,106,255);n.add(0,255,128);n.add(255,
128,64);n.add(255,255,128);n.add(33,215,215);n.add(27,176,176);n.add(24,156,156);n.add(21,137,137);this.Gb(["JvN29",p]);this.Gb(["Hutton32",p]);this.Gb(["Nobili32",p]);this.$i[p]=n}}}}(),function(){function e(n,p,b,k){this.j=n;this.m=p;this.s=b;this.u=k}e.prototype.set=function(n){this.j=n.j;this.m=n.m;this.s=n.s;this.u=n.u};window.BoundingBox=e}(),function(){function e(p,b){this.index=b;this.oa=p.Nm[b];this.ab=p.Sl[b];this.A=p.Rr[b];this.h=p.ar[b];this.H=new BoundingBox(0,0,0,0);this.za=new BoundingBox(0,
0,0,0);this.ea=this.Bi=this.uf=this.v=this.ed=this.lc=this.sa=0;this.na=p}function n(p,b){this.l=p;this.se=[];this.th=[];this.Nm=[];this.Sl=[];this.Rr=[];this.ar=[];this.A=[];this.T=0;this.index=-1;this.AG=51;this.h=[];this.Jz=b}e.prototype.NH=function(p,b,k){var c=b.length,f=b[0].length,d,g,m=0,q,r=k.wq;k=k.xq;var w,u=0,y=this.A,a=0,h=y[a],l=h.length;Array.pi(this.oa,b);for(d=0;d<c;d+=1){var v=this.oa[d];for(b=w=0;b<f;b+=1)if(q=v[b])for(g=15;0<=g;--g){if(0!==(q&1<<g)){var x=u;var t=w;var A=h[m];
m+=1;p[x][t]=A&255;p[x][t+1]=A>>8&255;p[x+1][t]=A>>16&255;p[x+1][t+1]=A>>24;x+=2;A=h[m];m+=1;p[x][t]=A&255;p[x][t+1]=A>>8&255;p[x+1][t]=A>>16&255;p[x+1][t+1]=A>>24;x+=2;A=h[m];m+=1;p[x][t]=A&255;p[x][t+1]=A>>8&255;p[x+1][t]=A>>16&255;p[x+1][t+1]=A>>24;x+=2;A=h[m];m+=1;p[x][t]=A&255;p[x][t+1]=A>>8&255;p[x+1][t]=A>>16&255;p[x+1][t+1]=A>>24;x+=2;A=h[m];m+=1;p[x][t]=A&255;p[x][t+1]=A>>8&255;p[x+1][t]=A>>16&255;p[x+1][t+1]=A>>24;x+=2;A=h[m];m+=1;p[x][t]=A&255;p[x][t+1]=A>>8&255;p[x+1][t]=A>>16&255;p[x+
1][t+1]=A>>24;x+=2;A=h[m];m+=1;p[x][t]=A&255;p[x][t+1]=A>>8&255;p[x+1][t]=A>>16&255;p[x+1][t+1]=A>>24;x+=2;A=h[m];m+=1;p[x][t]=A&255;p[x][t+1]=A>>8&255;p[x+1][t]=A>>16&255;p[x+1][t+1]=A>>24;m>=l&&(a+=1,h=y[a],m=0)}w+=r}else w+=r<<4;u+=k}};e.prototype.VH=function(p,b,k){var c=b.length,f=b[0].length,d,g=0,m;var q=0;var r=k.wq,w=k.xq,u,y=0,a=this.A,h=0,l=a[h],v=l.length,x=a.length;var t=this.na.Jz;Array.pi(b,this.oa);for(d=0;d<c;d+=1){var A=b[d];for(k=0;k<f;k+=1)(m=A[k])&&(q+=t[m])}if(q)for(d=0;d<c;d+=
1){A=b[d];for(k=u=0;k<f;k+=1)if(m=A[k])for(q=15;0<=q;--q){if(0!==(m&1<<q)){var z=y;t=u;l[g]=p[z][t]|p[z][t+1]<<8|p[z+1][t]<<16|p[z+1][t+1]<<24;g+=1;z+=2;l[g]=p[z][t]|p[z][t+1]<<8|p[z+1][t]<<16|p[z+1][t+1]<<24;g+=1;z+=2;l[g]=p[z][t]|p[z][t+1]<<8|p[z+1][t]<<16|p[z+1][t+1]<<24;g+=1;z+=2;l[g]=p[z][t]|p[z][t+1]<<8|p[z+1][t]<<16|p[z+1][t+1]<<24;g+=1;z+=2;l[g]=p[z][t]|p[z][t+1]<<8|p[z+1][t]<<16|p[z+1][t+1]<<24;g+=1;z+=2;l[g]=p[z][t]|p[z][t+1]<<8|p[z+1][t]<<16|p[z+1][t+1]<<24;g+=1;z+=2;l[g]=p[z][t]|p[z][t+
1]<<8|p[z+1][t]<<16|p[z+1][t+1]<<24;g+=1;z+=2;l[g]=p[z][t]|p[z][t+1]<<8|p[z+1][t]<<16|p[z+1][t+1]<<24;g+=1;g>=v&&(h+=1,g=0,h>=x&&(Array.vo(a,"Snapshot.gridBufferRow"),x+=1));l=a[h]}u+=r}else u+=r<<4;y+=w}};e.prototype.MH=function(p,b,k){var c=b.length,f=b[0].length,d,g,m,q=0,r,w=k.wq<<3,u=k.xq,y,a=0,h=this.h,l=0,v=h[l],x=v.length;Array.pi(this.ab,b);for(d=0;d<c;d+=1){var t=b[d];for(k=y=0;k<f;k+=1)if(r=t[k])for(g=15;0<=g;--g){if(0!==(r&1<<g))for(m=y;m<y+w;m+=4){var A=a;var z=v[q];q+=1;p[A][m]=z&255;
p[A][m+1]=z>>8&255;p[A][m+2]=z>>16&255;p[A][m+3]=z>>24;A+=1;z=v[q];q+=1;p[A][m]=z&255;p[A][m+1]=z>>8&255;p[A][m+2]=z>>16&255;p[A][m+3]=z>>24;A+=1;z=v[q];q+=1;p[A][m]=z&255;p[A][m+1]=z>>8&255;p[A][m+2]=z>>16&255;p[A][m+3]=z>>24;A+=1;z=v[q];q+=1;p[A][m]=z&255;p[A][m+1]=z>>8&255;p[A][m+2]=z>>16&255;p[A][m+3]=z>>24;A+=1;z=v[q];q+=1;p[A][m]=z&255;p[A][m+1]=z>>8&255;p[A][m+2]=z>>16&255;p[A][m+3]=z>>24;A+=1;z=v[q];q+=1;p[A][m]=z&255;p[A][m+1]=z>>8&255;p[A][m+2]=z>>16&255;p[A][m+3]=z>>24;A+=1;z=v[q];q+=1;
p[A][m]=z&255;p[A][m+1]=z>>8&255;p[A][m+2]=z>>16&255;p[A][m+3]=z>>24;A+=1;z=v[q];q+=1;p[A][m]=z&255;p[A][m+1]=z>>8&255;p[A][m+2]=z>>16&255;p[A][m+3]=z>>24;A+=1;z=v[q];q+=1;p[A][m]=z&255;p[A][m+1]=z>>8&255;p[A][m+2]=z>>16&255;p[A][m+3]=z>>24;A+=1;z=v[q];q+=1;p[A][m]=z&255;p[A][m+1]=z>>8&255;p[A][m+2]=z>>16&255;p[A][m+3]=z>>24;A+=1;z=v[q];q+=1;p[A][m]=z&255;p[A][m+1]=z>>8&255;p[A][m+2]=z>>16&255;p[A][m+3]=z>>24;A+=1;z=v[q];q+=1;p[A][m]=z&255;p[A][m+1]=z>>8&255;p[A][m+2]=z>>16&255;p[A][m+3]=z>>24;A+=
1;z=v[q];q+=1;p[A][m]=z&255;p[A][m+1]=z>>8&255;p[A][m+2]=z>>16&255;p[A][m+3]=z>>24;A+=1;z=v[q];q+=1;p[A][m]=z&255;p[A][m+1]=z>>8&255;p[A][m+2]=z>>16&255;p[A][m+3]=z>>24;A+=1;z=v[q];q+=1;p[A][m]=z&255;p[A][m+1]=z>>8&255;p[A][m+2]=z>>16&255;p[A][m+3]=z>>24;A+=1;z=v[q];q+=1;p[A][m]=z&255;p[A][m+1]=z>>8&255;p[A][m+2]=z>>16&255;p[A][m+3]=z>>24;q>=x&&(l+=1,v=h[l],q=0)}y+=w}else y+=w<<4;a+=u}};e.prototype.SH=function(p,b,k){var c=b.length,f=b[0].length,d,g=0,m;var q=0;var r=k.wq<<3,w=k.xq,u,y=0,a=this.h,
h=0,l=a[h],v=l.length,x=a.length;var t=this.na.Jz;Array.pi(b,this.ab);for(d=0;d<c;d+=1){var A=b[d];for(k=0;k<f;k+=1)(m=A[k])&&(q+=t[m])}if(q)for(d=0;d<c;d+=1){A=b[d];for(k=u=0;k<f;k+=1)if(m=A[k])for(q=15;0<=q;--q){if(0!==(m&1<<q))for(t=u;t<u+r;t+=4){var z=y;l[g]=p[z][t]|p[z][t+1]<<8|p[z][t+2]<<16|p[z][t+3]<<24;g+=1;z+=1;l[g]=p[z][t]|p[z][t+1]<<8|p[z][t+2]<<16|p[z][t+3]<<24;g+=1;z+=1;l[g]=p[z][t]|p[z][t+1]<<8|p[z][t+2]<<16|p[z][t+3]<<24;g+=1;z+=1;l[g]=p[z][t]|p[z][t+1]<<8|p[z][t+2]<<16|p[z][t+3]<<
24;g+=1;z+=1;l[g]=p[z][t]|p[z][t+1]<<8|p[z][t+2]<<16|p[z][t+3]<<24;g+=1;z+=1;l[g]=p[z][t]|p[z][t+1]<<8|p[z][t+2]<<16|p[z][t+3]<<24;g+=1;z+=1;l[g]=p[z][t]|p[z][t+1]<<8|p[z][t+2]<<16|p[z][t+3]<<24;g+=1;z+=1;l[g]=p[z][t]|p[z][t+1]<<8|p[z][t+2]<<16|p[z][t+3]<<24;g+=1;z+=1;l[g]=p[z][t]|p[z][t+1]<<8|p[z][t+2]<<16|p[z][t+3]<<24;g+=1;z+=1;l[g]=p[z][t]|p[z][t+1]<<8|p[z][t+2]<<16|p[z][t+3]<<24;g+=1;z+=1;l[g]=p[z][t]|p[z][t+1]<<8|p[z][t+2]<<16|p[z][t+3]<<24;g+=1;z+=1;l[g]=p[z][t]|p[z][t+1]<<8|p[z][t+2]<<16|
p[z][t+3]<<24;g+=1;z+=1;l[g]=p[z][t]|p[z][t+1]<<8|p[z][t+2]<<16|p[z][t+3]<<24;g+=1;z+=1;l[g]=p[z][t]|p[z][t+1]<<8|p[z][t+2]<<16|p[z][t+3]<<24;g+=1;z+=1;l[g]=p[z][t]|p[z][t+1]<<8|p[z][t+2]<<16|p[z][t+3]<<24;g+=1;z+=1;l[g]=p[z][t]|p[z][t+1]<<8|p[z][t+2]<<16|p[z][t+3]<<24;g+=1;g>=v&&(h+=1,g=0,h>=x&&(Array.vo(a,"Snapshot.colourGridBufferRow"),x+=1),l=a[h])}u+=r}else u+=r<<4;y+=w}};n.prototype.bufferSize=function(){for(var p=0,b=0;b<this.th.length;)p+=this.Nm[b].length*this.Nm[b][0].length*2,p+=this.Sl[b].length*
this.Sl[b][0].length*2,p+=this.Rr[b].length*this.Rr[b][0].length*4,p+=this.ar[b].length*this.ar[b][0].length*4,this.A[b]&&(p+=this.A[b].length*this.A[b][0].length*4),b+=1;return p};n.prototype.RI=function(){for(var p=0,b=0;b<this.th.length;)this.th[b]&&(p+=1),b+=1;return p};n.prototype.reset=function(){var p=0,b;this.se=[];for(this.index=-1;p<this.th.length;){var k=!1;for(b=0;b<this.h.length&&!k;)p===this.h[b].index?k=!0:b+=1;k||(this.th[p]=!1);p+=1}};n.prototype.pI=function(p){var b=null;if(0<this.se.length)for(b=
this.se[this.index];b&&b.v>p;)b=null,0<this.index&&(this.Z(this.se[this.index].index),this.se.pop(),--this.index,0<=this.index&&(b=this.se[this.index]));return b};n.prototype.hq=function(p,b,k,c,f,d,g,m,q,r,w,u,y,a,h,l,v,x){var t=null,A=0,z=this.h.length,B=!1;f=null!==f;if(v){for(;A<z&&!B;)this.h[A].v===w?B=!0:A+=1;B?t=this.h[A]:alert("reset snapshot at generation "+w+" not found!")}else if(51>this.se.length)t=this.dv(a,h,!1,w,f),this.index+=1;else{this.index+=1;if(51<=this.index){this.index=50;this.Z(this.se[0].index);
for(A=0;50>A;A+=1)this.se[A]=this.se[A+1];this.se.pop();this.dv(a,h,!1,w,f)}t=this.se[this.index]}t.ea=x;t.VH(p,b,l);t.SH(k,c,l);t.H.j=d.j;t.H.s=d.s;t.H.m=d.m;t.H.u=d.u;t.za.j=g.j;t.za.s=g.s;t.za.m=g.m;t.za.u=g.u;t.sa=m;t.lc=q;t.ed=r;t.v=w;t.uf=u;t.Bi=y};n.prototype.Z=function(p){this.th[p]=!1};n.prototype.la=function(p,b,k){for(var c=0,f=!1;c<this.T&&!f;)this.th[c]?c+=1:f=!0;f?(p=c,this.th[c]=!0):(this.Nm[c]=Array.Y(Uint16,b,p,0,this.l,"Snapshot.tileGrid"+c),this.Sl[c]=Array.Y(Uint16,b,p,0,this.l,
"Snapshot.colourTileGrid"+c),this.Rr[c]=Array.Y(Uint32,1,1024,0,this.l,"Snapshot.gridBuffer"+c),this.ar[c]=Array.Y(Uint32,1,8192,0,this.l,"Snapshot.colourGridBuffer"+c),k&&(this.A[c]=Array.Y(Uint32,1,8192,0,this.l,"Snapshot.overlayGridBuffer"+c)),this.th[c]=!0,this.T+=1,p=c);return p};n.prototype.dv=function(p,b,k,c,f){var d=0,g=this.h.length,m=!1;p=this.la(p,b,f);if(k){for(;d<g&&!m;)this.h[d].v===c?m=!0:d+=1;m?k=this.h[d]:(k=new e(this,p,f),this.h[this.h.length]=k)}else k=new e(this,p,f),this.se[this.se.length]=
k;return k};n.prototype.fa=function(p,b,k,c){var f=p.oa,d=p.ab,g=p.oa.length,m=g>>1,q=p.oa[0].length>>1,r=0,w=p.index;this.Nm[w]=Array.Y(Uint16,k,b,0,this.l,"Snapshot.tileGrid"+w);this.Sl[w]=Array.Y(Uint16,k,b,0,this.l,"Snapshot.colourTileGrid"+w);p.oa=this.Nm[w];p.ab=this.Sl[w];if(0<c){for(;r<g;)p.oa[r+m].set(f[r],q),p.ab[r+m].set(d[r],q),r+=1;p.H.j+=c;p.H.s+=c;p.H.m+=c;p.H.u+=c;p.za.j+=c;p.za.s+=c;p.za.m+=c;p.za.u+=c}};n.prototype.uC=function(p,b,k){for(var c=0,f=this.h.length;c<f;)this.fa(this.h[c],
p,b,k),c+=1;c=0;for(f=this.se.length;c<f;)this.fa(this.se[c],p,b,k),c+=1;for(c=0;c<this.th.length;)this.th[c]||(this.Nm[c]=Array.Y(Uint16,b,p,0,this.l,"Snapshot.tileGrid"+c),this.Sl[c]=Array.Y(Uint16,b,p,0,this.l,"Snapshot.colourTileGrid"+c)),c+=1};window.SnapshotManager=n;window.Snapshot=e}(),function(){function e(n,p){this.l=n;this.a=p;this.Rc=1;this.Dm=2;this.lc=n.F(Uint8,0,"HROT.births");this.vt=n.F(Uint8,0,"HROT.survivals");this.Qq=n.F(Uint8,0,"HROT.altBirths");this.Rq=n.F(Uint8,0,"HROT.altSurvivals");
this.type=PatternManager.Af;this.Z=Array.Y(Uint32,1,1,0,n,"HROT.counts");this.la=n.F(Uint32,0,"HROT.widths");this.eb=n.F(Uint8,0,"HROT.colUsed");this.wa=this.A=this.T=this.fa=0;this.kc=!1}e.prototype.resize=function(n,p){this.Z=Array.Y(Uint32,p,n,0,this.l,"HROT.counts");this.eb=this.l.F(Uint8,n,"HROT.colUsed")};e.prototype.kI=function(n,p){var b=2*p+1,k=p*p+p;this.type=n;this.Rc=p;this.la=this.l.F(Uint32,b,"HROT.widths");switch(n){case PatternManager.Af:for(n=0;n<b;n+=1)this.la[n]=p;break;case PatternManager.$f:for(n=
0;n<p;n+=1)this.la[n]=n,this.la[b-n-1]=n;this.la[n]=p;break;case PatternManager.Eo:for(n=-p;n<=p;n+=1){for(b=0;(b+1)*(b+1)+n*n<=k;)b+=1;this.la[n+p]=b}}};e.prototype.h=function(n,p){return 0>n||0>n+p||p-n>=this.T?0:0>p&&n+p<this.A?this.Z[n+p][0]:p>=this.T&&p-n>=this.T-this.A?this.Z[n+this.T-1-p][this.T-1]:n<this.A?this.Z[n][p]:n-this.A+1+p<=this.wa?this.Z[this.A-1][n-this.A+1+p]:p-(n-this.A+1)>=this.wa?this.Z[this.A-1][p-(n-this.A+1)]:this.Z[this.A-1][this.wa+(n+p+this.A+this.wa+1)%2]};e.prototype.pb=
function(n,p,b,k){var c=this.a.ca,f=null,d=this.Rc,g;for(g=0;g<d;g+=1){f=c[p+g];var m=c[k+g+1];m.set(f.slice(n,b+1),n)}for(g=0;g<d;g+=1)f=c[k-g],m=c[p-g-1],m.set(f.slice(n,b+1),n);if(copyWithin)for(g=p;g<=k;g+=1)f=c[g],f.copyWithin(b+1,n,n+d+1),f.copyWithin(n-d-1,b-d,b+1);else for(g=p;g<=k;g+=1)for(m=0;m<d;m+=1)f[b+m+1]=f[n+m],f[n-m-1]=f[b-m];for(g=0;g<d;g+=1)f=c[p+g],m=c[k+g+1],m.set(f.slice(n,n+d+1),b+1),m.set(f.slice(b-d,b+1),n-d-1);for(g=0;g<d;g+=1)f=c[k-g],m=c[p-g-1],m.set(f.slice(n,n+d+1),b+
1),m.set(f.slice(b-d,b+1),n-d-1)};e.prototype.Qa=function(n,p,b,k){var c=this.a.ca,f=this.Rc,d,g;if(arrayFill)for(g=0;g<f;g+=1)c[k+g+1].fill(0,n,b+1);else for(g=0;g<f;g+=1){var m=c[k+g+1];for(d=n;d<=b;d+=1)m[d]=0}if(arrayFill)for(g=0;g<f;g+=1)c[p-g-1].fill(0,n,b+1);else for(g=0;g<f;g+=1)for(m=c[p-g-1],d=n;d<=b;d+=1)m[d]=0;if(arrayFill)for(g=p;g<=k;g+=1)m=c[g],m.fill(0,b+1,b+f+2),m.fill(0,n-f-1,n);else for(g=p;g<=k;g+=1)for(m=c[g],d=0;d<f;d+=1)m[b+d+1]=0,m[n-d-1]=0;if(arrayFill)for(g=0;g<f;g+=1)m=
c[k+g+1],m.fill(0,b+1,b+f+2),m.fill(0,n-f-1,n);else for(g=0;g<f;g+=1)for(m=c[k+g+1],d=0;d<f;d+=1)m[d+b+1]=0,m[n-d-1]=0;if(arrayFill)for(g=0;g<f;g+=1)m=c[p-g-1],m.fill(0,b+1,b+f+2),m.fill(0,n-f-1,n);else for(g=0;g<f;g+=1)for(m=c[p-g-1],d=0;d<f;d+=1)m[d+b+1]=0,m[n-d-1]=0};e.prototype.nb=function(n,p,b,k,c){var f,d,g=this.a.ca,m=this.a.Ga,q=this.a.width,r=0,w=this.a.height,u=0,y=q,a=r,h=w,l=u,v=this.a.H,x=this.a.za,t=this.Rc,A=c?this.Qq:this.lc,z=c?this.Rq:this.vt,B=this.Z;var C=this.Dm-1;var D=LifeConstants.gb,
E=LifeConstants.Rj,H=this.a.br;var G=this.a.g+this.a.I-1;var K=this.a.I,O=0<this.a.I?1:0;var J=f=c=0;if(1===C)for(C=p-t;C<=k+t;C+=1){var F=g[C];var I=B[C];var M=m[C>>4];var N=d=!1;for(p=n-t;p<=b+t;p+=1){var R=F[p];var da=I[p];G=0;R<D?1===A[da]&&(f+=1,G=128):0===z[da]?J+=1:G=128;R=H[R+G];F[p]=R;R>E&&(d=!0,M[p>>8]|=1<<(~(p>>4)&15),p<q&&(q=p),p>r&&(r=p),R>=D&&(c+=1,p<y&&(y=p),p>a&&(a=p),N=!0))}d&&(C<w&&(w=C),C>u&&(u=C));N&&(C<h&&(h=C),C>l&&(l=C))}else for(C=p-t;C<=k+t;C+=1){F=g[C];I=B[C];M=m[C>>4];N=
d=!1;for(p=n-t;p<=b+t;p+=1)R=F[p],da=I[p],R<=K?1===A[da]?(R=G,f+=1):R>O&&--R:R===G?0===z[da]&&(--R,J+=1):R>O&&--R,F[p]=R,0<R&&(d=!0,M[p>>8]|=1<<(~(p>>4)&15),p<q&&(q=p),p>r&&(r=p),R===G&&(c+=1,p<y&&(y=p),p>a&&(a=p),N=!0));d&&(C<w&&(w=C),C>u&&(u=C));N&&(C<h&&(h=C),C>l&&(l=C))}this.a.sa=c;this.a.lc=f;this.a.ed=J;0<c?(v.j=q,v.s=r,v.m=w,v.u=u,x.j=y,x.s=a,x.m=h,x.u=l):this.a.ea=0};e.prototype.Fb=function(n){var p,b,k=this.a.H.j,c=this.a.H.s,f=this.a.H.m,d=this.a.H.u,g=this.Rc,m=n?this.Qq:this.lc,q=n?this.Rq:
this.vt,r=g+g;var w=g+1;var u=this.Z,y=this.type,a=this.Dm-1,h=this.a.width,l=0,v=this.a.height,x=0,t=h,A=l,z=v,B=x,C=this.a.ca,D=this.a.Ga;var E=this.la;var H=this.a.ha;var G=this.a.ma,K=0,O=0,J=0,F=0,I=0,M=0,N=0,R=LifeConstants.gb,da=LifeConstants.Rj,W=this.a.br;var aa=this.eb;-1!==this.a.ua&&(K=Math.round((this.a.width-H)/2),J=Math.round((this.a.height-G)/2),O=K+H-1,F=J+G-1,1===m[0]&&(k=K+g,c=O-g,d=F-g,f=J+g),1===this.a.ua&&(k-K<g&&(c=O),O-c<g&&(k=K),F-d<g&&(f=J),f-J<g&&(d=F),this.pb(K,J,O,F)),
0===this.a.ua&&1===a&&this.a.vv(C,0),k-K<g&&(k=K+g),O-c<g&&(c=O-g),F-d<g&&(d=F-g),f-J<g&&(f=J+g),y===PatternManager.Af?(k-=r,f-=r,c+=r,d+=r):y===PatternManager.$f&&6<g&&(k-=g,f-=g,c+=g,d+=g));if(y===PatternManager.Af){k-=r;f-=r;c+=r;d+=r;if(arrayFill)for(b=f;b<f+r;b+=1)u[b].fill(0,k,c+1);else for(b=f;b<f+r;b+=1){var S=u[b];for(p=k;p+8<=c;)S[p]=0,p+=1,S[p]=0,p+=1,S[p]=0,p+=1,S[p]=0,p+=1,S[p]=0,p+=1,S[p]=0,p+=1,S[p]=0,p+=1,S[p]=0,p+=1;for(;p<=c;)S[p]=0,p+=1}if(arrayFill)for(b=f+r;b<=d;b+=1)u[b].fill(0,
k,k+r+1);else for(b=f+r;b<=d;b+=1){S=u[b];for(p=k;p+8<=k+r;)S[p]=0,p+=1,S[p]=0,p+=1,S[p]=0,p+=1,S[p]=0,p+=1,S[p]=0,p+=1,S[p]=0,p+=1,S[p]=0,p+=1,S[p]=0,p+=1,S[p]=0,p+=1;for(;p<=k+r;)S[p]=0,p+=1}var Z=u[f+r-1];for(b=f+r;b<=d;b+=1){S=u[b];a=C[b];H=0;for(p=k+r;p+8<=c;)a[p]>=R&&(H+=1),S[p]=Z[p]+H,p+=1,a[p]>=R&&(H+=1),S[p]=Z[p]+H,p+=1,a[p]>=R&&(H+=1),S[p]=Z[p]+H,p+=1,a[p]>=R&&(H+=1),S[p]=Z[p]+H,p+=1,a[p]>=R&&(H+=1),S[p]=Z[p]+H,p+=1,a[p]>=R&&(H+=1),S[p]=Z[p]+H,p+=1,a[p]>=R&&(H+=1),S[p]=Z[p]+H,p+=1,a[p]>=
R&&(H+=1),S[p]=Z[p]+H,p+=1;for(;p<=c;)a[p]>=R&&(H+=1),S[p]=Z[p]+H,p+=1;Z=S}k+=g;f+=g;c-=g;d-=g;-1!==this.a.ua&&(k+=r,f+=r,c-=r,d-=r);r=C[f][k];H=u[f+g][k+g];var ca=0;r<R?1===m[H]&&(M+=1,ca=128):0===q[H]?N+=1:ca=128;r=W[r+ca];C[f][k]=r;r>da&&(aa[k]|=1,x=v=f,D[f>>4][k>>8]|=1<<(~(k>>4)&15),r>=R&&(I+=1,aa[k]|=2,B=z=f));var U=G=!1;S=u[f+g];Z=u[f+g];a=C[f];E=D[f>>4];for(p=k+1;p<=c;p+=1)r=a[p],H=S[p+g]-Z[p-w],ca=0,r<R?1===m[H]&&(M+=1,ca=128):0===q[H]?N+=1:ca=128,r=W[r+ca],a[p]=r,r>da&&(aa[p]|=1,G=!0,E[p>>
8]|=1<<(~(p>>4)&15),r>=R&&(I+=1,aa[p]|=2,U=!0));G&&(x=v=f);U&&(B=z=f);E=a=!1;S=k+g;for(b=f+1;b<=d;b+=1)r=C[b][k],H=u[b+g][S]-u[b-w][S],ca=0,r<R?1===m[H]&&(M+=1,ca=128):0===q[H]?N+=1:ca=128,r=W[r+ca],C[b][k]=r,r>da&&(b<v&&(v=b),b>x&&(x=b),a=!0,D[b>>4][k>>8]|=1<<(~(k>>4)&15),r>=R&&(I+=1,b<z&&(z=b),b>B&&(B=b),E=!0));a&&(aa[k]|=1);E&&(aa[k]|=2);for(b=f+1;b<=d;b+=1){a=C[b];E=D[b>>4];Z=u[b+g];var L=u[b-w];S=k+1+g;var P=k+1-w;U=G=!1;for(p=k+1;p<=c;p+=1)r=a[p],H=Z[S]+L[P]-Z[P]-L[S],ca=0,r<R?1===m[H]&&(ca=
128,M+=1):0===q[H]?N+=1:ca=128,r=W[r+ca],a[p]=r,r>da&&(G=!0,E[p>>8]|=1<<(~(p>>4)&15),aa[p]|=1,r>=R&&(I+=1,U=!0,aa[p]|=2)),S+=1,P+=1;G&&(b<v&&(v=b),b>x&&(x=b));U&&(b<z&&(z=b),b>B&&(B=b))}for(p=k;p<=c;p+=1)aa[p]&&(p<h&&(h=p),p>l&&(l=p),0!==(aa[p]&2)&&(p<t&&(t=p),p>A&&(A=p)),aa[p]=0);this.a.sa=I;this.a.lc=M;this.a.ed=N;0<I?(this.a.H.j=h,this.a.H.s=l,this.a.H.m=v,this.a.H.u=x,this.a.za.j=t,this.a.za.s=A,this.a.za.m=z,this.a.za.u=B):this.a.ea=0}else if(y===PatternManager.$f&&6<g){k-=g;c+=g;f-=g;d+=g;-1===
this.a.ua&&(k-=g,c+=g,f-=g,d+=g);this.fa=d-f+1;this.T=c-k+1;this.A=this.fa+(this.T-1)/2|0;this.wa=this.T/2|0;for(w=0;w<this.A;w+=1)for(S=u[w],a=C[w+f],b=w-1,H=b-1,aa=0;aa<=this.T;aa+=1)S[aa]=this.h(b,aa-1)+this.h(b,aa+1)-this.h(H,aa),w<this.fa&&a[aa+k]>=R&&(S[aa]+=1);for(w=g;w<=this.fa-g;w+=1){b=w-1;L=w+g;u=L-1;p=w-g-1;S=p-1;Z=w+f;a=C[Z];E=D[Z>>4];U=G=!1;for(aa=g;aa<=this.T-g;aa+=1)H=aa+g,r=aa-g,H=this.h(L,aa)-this.h(b,H+1)-this.h(b,r-1)+this.h(S,aa)+this.h(u,aa)-this.h(b,H)-this.h(b,r)+this.h(p,
aa),P=aa+k,r=a[P],ca=0,r<R?1===m[H]&&(ca=128,M+=1):0===q[H]?N+=1:ca=128,r=W[r+ca],a[P]=r,r>da&&(P<h&&(h=P),P>l&&(l=P),G=!0,E[P>>8]|=1<<(~(P>>4)&15),r>=R&&(I+=1,U=!0,P<t&&(t=P),P>A&&(A=P)));G&&(Z<v&&(v=Z),Z>x&&(x=Z));U&&(Z<z&&(z=Z),Z>B&&(B=Z))}this.a.sa=I;this.a.lc=M;this.a.ed=N;0<I?(this.a.H.j=h,this.a.H.s=l,this.a.H.m=v,this.a.H.u=x,this.a.za.j=t,this.a.za.s=A,this.a.za.m=z,this.a.za.u=B):this.a.ea=0}else for(b=f-g;b<=d+g;b+=1){S=u[b];p=k-g;H=0;for(aa=-g;aa<=g;aa+=1)for(m=E[aa+g],a=C[b+aa],w=-m;w<=
m;w+=1)a[p+w]>=R&&(H+=1);S[p]=H;for(p+=1;p<=c+g;){for(aa=-g;aa<=g;aa+=1)m=E[aa+g],a=C[b+aa],a[p-m-1]>=R&&--H,a[p+m]>=R&&(H+=1);S[p]=H;p+=1}}-1!==this.a.ua&&(k<K+g&&(k=K+g),c>O-g&&(c=O-g),f<J+g&&(f=J+g),d>F-g&&(d=F-g));y===PatternManager.Af||y===PatternManager.$f&&6<g||this.nb(k,f,c,d,n);1===this.a.ua&&this.Qa(K,J,O,F)};e.prototype.Mb=function(n){var p,b,k=this.a.H.j,c=this.a.H.s,f=this.a.H.m,d=this.a.H.u,g=this.Rc,m=n?this.Qq:this.lc,q=n?this.Rq:this.vt,r=g+g;var w=g+1;var u=this.Z,y=this.type,a=
this.a.width,h=0,l=this.a.height,v=0,x=a,t=h,A=l,z=v,B=this.a.ca,C=this.a.Ga;var D=this.la;var E=this.a.ha;var H=this.a.ma;var G=0,K=0,O=0,J=0,F=0,I=0,M=0,N,R=this.a.g+this.a.I-1,da=this.a.I,W=0<this.a.I?1:0;-1!==this.a.ua&&(G=Math.round((this.a.width-E)/2),O=Math.round((this.a.height-H)/2),K=G+E-1,J=O+H-1,1===m[0]&&(k=G+g,c=K-g,d=J-g,f=O+g),1===this.a.ua&&(k-G<g&&(c=K),K-c<g&&(k=G),J-d<g&&(f=O),f-O<g&&(d=J),this.pb(G,O,K,J)),k-G<g&&(k=G+g),K-c<g&&(c=K-g),J-d<g&&(d=J-g),f-O<g&&(f=O+g),y===PatternManager.Af?
(k-=r,f-=r,c+=r,d+=r):y===PatternManager.$f&&6<g&&(k-=g,f-=g,c+=g,d+=g));if(y===PatternManager.Af){k-=r;f-=r;c+=r;d+=r;if(arrayFill)for(b=f;b<f+r;b+=1)u[b].fill(0,k,c+1);else for(b=f;b<f+r;b+=1){var aa=u[b];for(p=k;p<=c;p+=1)aa[p]=0}if(arrayFill)for(b=f+r;b<=d;b+=1)u[b].fill(0,k,k+r);else for(b=f+r;b<=d;b+=1)for(aa=u[b],p=k;p<k+r;p+=1)aa[p]=0;for(b=f+r;b<=d;b+=1){var S=u[b-1];aa=u[b];E=B[b];H=0;for(p=k+r;p<=c;p+=1)E[p]===R&&(H+=1),aa[p]=S[p]+H}k+=g;f+=g;c-=g;d-=g;-1!==this.a.ua&&(k+=r,f+=r,c-=r,d-=
r);r=B[f][k];H=u[f+g][k+g];r<=da?1===m[H]?(r=R,I+=1):r>W&&--r:r===R?0===q[H]&&(--r,M+=1):r>W&&--r;B[f][k]=r;0<r&&(h=a=k,v=l=f,C[f>>4][k>>8]|=1<<(~(k>>4)&15),r===R&&(F+=1,t=x=k,z=A=f));var Z=N=!1;aa=u[f+g];S=u[f+g];E=B[f];D=C[f>>4];for(p=k+1;p<=c;p+=1)r=E[p],H=aa[p+g]-S[p-w],r<=da?1===m[H]?(r=R,I+=1):r>W&&--r:r===R?0===q[H]&&(--r,M+=1):r>W&&--r,E[p]=r,0<r&&(p<a&&(a=p),p>h&&(h=p),N=!0,D[p>>8]|=1<<(~(p>>4)&15),r===R&&(F+=1,p<x&&(x=p),p>t&&(t=p),Z=!0));N&&(v=l=f);Z&&(z=A=f);D=E=!1;S=k+g;for(b=f+1;b<=
d;b+=1)r=B[b][k],H=u[b+g][S]-u[b-w][S],r<=da?1===m[H]?(r=R,I+=1):r>W&&--r:r===R?0===q[H]&&(--r,M+=1):r>W&&--r,B[b][k]=r,0<r&&(b<l&&(l=b),b>v&&(v=b),E=!0,C[b>>4][k>>8]|=1<<(~(k>>4)&15),r===R&&(F+=1,b<A&&(A=b),b>z&&(z=b),D=!0));E&&(k<a&&(a=k),k>h&&(h=k));D&&(k<x&&(x=k),k>t&&(t=k));for(b=f+1;b<=d;b+=1){E=B[b];D=C[b>>4];aa=u[b+g];var ca=u[b-w];Z=N=!1;S=k+1+g;var U=k+1-w;for(p=k+1;p<=c;p+=1)r=E[p],H=aa[S]+ca[U]-aa[U]-ca[S],r<=da?1===m[H]?(r=R,I+=1):r>W&&--r:r===R?0===q[H]&&(--r,M+=1):r>W&&--r,E[p]=r,0<
r&&(D[p>>8]|=1<<(~(p>>4)&15),p<a&&(a=p),p>h&&(h=p),N=!0,r===R&&(F+=1,Z=!0,p<x&&(x=p),p>t&&(t=p))),S+=1,U+=1;N&&(b<l&&(l=b),b>v&&(v=b));Z&&(b<A&&(A=b),b>z&&(z=b))}this.a.sa=F;this.a.lc=I;this.a.ed=M;0<F?(this.a.H.j=a,this.a.H.s=h,this.a.H.m=l,this.a.H.u=v,this.a.za.j=x,this.a.za.s=t,this.a.za.m=A,this.a.za.u=z):this.a.ea=0}else if(y===PatternManager.$f&&6<g){k-=g;c+=g;f-=g;d+=g;-1===this.a.ua&&(k-=g,c+=g,f-=g,d+=g);this.fa=d-f+1;this.T=c-k+1;this.A=this.fa+(this.T-1)/2|0;this.wa=this.T/2|0;for(w=0;w<
this.A;w+=1)for(aa=u[w],E=B[w+f],b=w-1,H=b-1,S=0;S<=this.T;S+=1)aa[S]=this.h(b,S-1)+this.h(b,S+1)-this.h(H,S),w<this.fa&&E[S+k]===R&&(aa[S]+=1);for(w=g;w<=this.fa-g;w+=1){b=w-1;U=w+g;u=U-1;p=w-g-1;aa=p-1;ca=w+f;E=B[ca];D=C[ca>>4];Z=N=!1;for(S=g;S<=this.T-g;S+=1){H=S+g;r=S-g;H=this.h(U,S)-this.h(b,H+1)-this.h(b,r-1)+this.h(aa,S)+this.h(u,S)-this.h(b,H)-this.h(b,r)+this.h(p,S);var L=S+k;r=E[L];r<=da?1===m[H]?(r=R,I+=1):r>W&&--r:r===R?0===q[H]&&(--r,M+=1):r>W&&--r;E[L]=r;0<r&&(D[L>>8]|=1<<(~(L>>4)&15),
L<a&&(a=L),L>h&&(h=L),N=!0,r===R&&(F+=1,Z=!0,L<x&&(x=L),L>t&&(t=L)))}N&&(ca<l&&(l=ca),ca>v&&(v=ca));Z&&(ca<A&&(A=ca),ca>z&&(z=ca))}this.a.sa=F;this.a.lc=I;this.a.ed=M;0<F?(this.a.H.j=a,this.a.H.s=h,this.a.H.m=l,this.a.H.u=v,this.a.za.j=x,this.a.za.s=t,this.a.za.m=A,this.a.za.u=z):this.a.ea=0}else for(b=f-g;b<=d+g;b+=1){aa=u[b];p=k-g;H=0;for(S=-g;S<=g;S+=1)for(m=D[S+g],E=B[b+S],w=-m;w<=m;w+=1)E[p+w]===R&&(H+=1);aa[p]=H;for(p+=1;p<=c+g;){for(S=-g;S<=g;S+=1)m=D[S+g],E=B[b+S],E[p-m-1]===R&&--H,E[p+m]===
R&&(H+=1);aa[p]=H;p+=1}}-1!==this.a.ua&&(k<G+g&&(k=G+g),c>K-g&&(c=K-g),f<O+g&&(f=O+g),d>J-g&&(d=J-g));y===PatternManager.Af||y===PatternManager.$f&&6<g||this.nb(k,f,c,d,n);1===this.a.ua&&this.Qa(G,O,K,J)};e.prototype.JG=function(n){var p=!1;this.kc&&1===(n&1)&&(p=!0);2===this.Dm?this.Fb(p):this.Mb(p)};window.HROT=e}(),function(){function e(c,f,d,g,m,q,r,w){this.name=c;this.Xj=!1;this.gm=10;this.Sg=this.Rg=0;this.Na=g;this.Ua=d;this.Oa=f;this.Kf=m;this.Bb=q;this.mc=r;this.Zh=w;this.Mk=!1;-1===this.Bb.P.red&&
(this.Mk=!0);128<=(this.Na.red+this.Na.green+this.Na.blue)/3?(this.Rg=ViewConstants.yA,this.Sg=ViewConstants.xA):(this.Rg=ViewConstants.Tr,this.Sg=ViewConstants.Sr)}function n(c,f,d){this.red=c;this.green=f;this.blue=d}function p(c,f){this.O=c;this.P=f}function b(c,f,d,g,m,q){this.na=q;this.l=new Allocator;this.We=this.Fb=this.hi=this.ci=this.mh=this.ui=this.lg=this.we=null;this.wa=0;this.Pj=null;this.fh=new BoundingBox(0,0,0,0);this.ih=0;this.ji=-1;this.oi=this.bh=this.kc=this.$c=this.Cc=this.Jl=
!1;this.Gp=0;this.Hj=[];this.Gj=[];this.Jj=[];this.Ij=[];this.Wg=[];this.cg=this.cc="";this.Hc=255;this.Hb=null;this.Lg=this.l.F(Uint8,65536,"Life.bitCounts16");this.du();this.kg=this.ig=this.eb=null;this.wb=this.Db=this.pb=this.wg=0;this.tc=1;this.ea=0;this.ma=this.ha=this.ua=-1;this.Pl=this.Ol=0;this.Qu=this.Zq=!1;this.eq=ViewConstants.fA;this.ce=[];this.de=[];this.ce[0]=this.l.F(Int32,k.ht,"Life.boundaryX0");this.de[0]=this.l.F(Int32,k.ht,"Life.boundaryY0");this.di=0;this.fn=4294967295;this.M=
this.Aa=this.ub=!1;this.Hd=-1;this.ba=!1;this.yd=this.na.Gl;this.V=!1;this.$d=!0;this.Ie=this.Ks=!1;this.g=-1;this.vf=this.ib=!1;this.I=0;this.Pg=this.xa=!1;this.Yf=new SnapshotManager(this.l,this.Lg);this.rm=k.oq;this.Pd=this.Xb=this.qk=!1;this.wn=this.Ed=this.df=this.za=this.H=null;this.title="LifeViewer";this.width=g;this.height=m;this.wq=2;this.xq=16;this.ta=this.width>>4;this.ya=this.height>>4;this.Bw=this.Yf.dv((this.ta-1>>4)+1,this.ya,!0,0,!1);this.D=f;this.C=d;this.ed=this.lc=this.sa=0;this.gb=
k.gb;this.Kd=k.Kd;this.Cd=k.Cd;this.Rj=k.Rj;this.qs=this.Na=0;this.L=1;this.sf=-1;this.Rl=1;this.Hk=30;this.angle=this.v=this.Bi=this.uf=0;this.zoom=6;this.ka=this.pa=0;this.Sd=.1;this.Ra=0;this.Ba=1;this.Od=this.Nd=0;this.h=.1;this.Lh=littleEndian;this.$a=[];this.Qf=this.ee=this.nd=this.qf=this.Jd=this.Gc=this.Qa=this.xg=this.ye=this.fe=this.hg=this.he=this.be=this.nb=null;this.pe=-1;this.Ve=this.Fe=this.Si=null;this.context=c;this.hb=this.fb=0;this.oa=Array.Y(Uint16,this.ya,(this.ta-1>>4)+1,0,this.l,
"Life.tileGrid");this.Ka=Array.Y(Uint16,this.ya,(this.ta-1>>4)+1,0,this.l,"Life.nextTileGrid");this.Lc=Array.Y(Uint8,this.height,(this.width-1>>3)+1,0,this.l,"Life.grid");this.Vf=Array.Y(Uint8,this.height,(this.width-1>>3)+1,0,this.l,"Life.nextGrid");this.cb=Array.oc(Uint16,this.Lc,"Life.grid16");this.Lb=Array.oc(Uint16,this.Vf,"Life.nextGrid16");this.bi=this.l.F(Uint32,this.D,"Life.blankPixelRow");this.Ld=this.l.F(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Fk=this.l.F(Uint16,(this.width-1>>
4)+1,"Life.blankRow16");this.Ye=this.l.F(Uint16,this.ta>>4,"Life.blankTileRow");this.Ek=this.l.F(Uint8,this.width,"Life.blankColourRow");this.ca=Array.Y(Uint8,this.height,this.width,this.Na,this.l,"Life.colourGrid");this.Zb=null;this.A=Array.Y(Uint8,this.height,this.width,this.Na,this.l,"Life.smallColourGrid");this.Oj=Array.oc(Uint16,this.ca,"Life.colourGrid16");this.Xg=Array.oc(Uint32,this.ca,"Life.colourGrid32");this.Pf=this.kh=this.la=this.Ob=null;this.ab=Array.Y(Uint16,this.ya,(this.ta-1>>4)+
1,0,this.l,"Life.colourTileGrid");this.Ga=Array.Y(Uint16,this.ya,(this.ta-1>>4)+1,0,this.l,"Life.colourTileHistoryGrid");this.Ff=this.Ad=this.jc=this.Z=null;this.Ya=this.l.F(Uint8,256,"Life.redChannel");this.Wa=this.l.F(Uint8,256,"Life.greenChannel");this.Va=this.l.F(Uint8,256,"Life.blueChannel");this.Rh=this.l.F(Uint32,256,"Life.pixelColours");this.qd=this.Vc=this.Se=this.pd=this.gh=this.og=this.rf=this.mg=null;this.br=this.l.F(Uint16,2*(this.Kd+1)<<8,"Life.colourLookup");this.Ak=this.l.F(Uint8,
2048,"Life.colourReset");this.Dd=ViewConstants.Tr;this.dh=-1;this.Tf=ViewConstants.Sr;this.Zg=-1;this.bf=10;this.Yj=!0;this.gF=10;this.ic=this.l.F(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.Jg=this.l.F(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.$=8192;this.aG=[0,0,48];this.$F=[255,255,255];this.ZF=[255,255,255];this.bG=[0,255,0];this.cG=[255,0,0];this.xi=[0,0,48];this.wi=[255,255,255];this.vi=[255,255,255];this.yi=[0,255,0];this.zi=[255,0,0];this.Ib=new HROT(this.l,this);
this.coords=this.l.F(Float32,1,"Life.coords");this.T=this.l.F(Uint32,1,"Life.cellColours");this.fa=0}var k={dg:0,$e:1,uh:2,Ze:3,FG:0,xw:0,sB:1,ww:2,qB:3,rB:4,yw:5,zw:6,GG:6,HG:"RotCW FlipXY RotCCW FlipX FlipY RotCWFlipX RotCWFlipY".split(" "),Es:4096,hj:1048576,Nz:"Buffer Full",$u:[[0,0,0],[255,0,0],[0,255,0],[128,128,0],[16,16,255],[128,0,128],[0,128,128],[96,96,96],[255,255,0],[255,128,0],[128,255,0],[170,170,0],[144,144,144],[170,85,85],[85,128,43],[128,128,64]],WF:[[1,1,1],[1,0,0],[0,1,0]],VF:[[1,
1,1],[0,0,1],[0,1,0]],YF:[[0,1,0],[1,0,0],[1,1,1]],XF:[[0,1,0],[0,0,1],[1,1,1]],Wb:4096,wh:16,ht:4096,fG:512,Wr:262144,Qk:65536,hm:65536,AA:8192,zA:131072,oq:64,cB:262144,jl:12,gb:64,Kd:127,Cd:63,Rj:1,Td:1,Dc:2,cd:4,Md:8,Me:16,bd:32,Be:64,Ce:128};e.prototype.set=function(c){this.Xj=c.Xj;this.gm=c.gm;this.Rg=c.Rg;this.Sg=c.Sg;this.Na=c.Na;this.Ua=c.Ua;this.Oa=c.Oa;this.Kf=c.Kf;this.Bb=c.fJ;this.mc=c.mc;this.Zh=c.Zh;this.Bb=c.Bb;this.Mk=c.Mk};e.prototype.fo=function(c,f,d){this.Xj=!0;this.gm=c;this.Rg=
f.red<<16|f.green<<8|f.blue;this.Sg=d.red<<16|d.green<<8|d.blue};e.prototype.YH=function(c,f){this.Rg=-1!==c?c:128<=(this.Na.red+this.Na.green+this.Na.blue)/3?ViewConstants.yA:ViewConstants.Tr;this.Sg=-1!==f?f:128<=(this.Na.red+this.Na.green+this.Na.blue)/3?ViewConstants.xA:ViewConstants.Sr};e.prototype.eG=function(c){var f=!0;c||this.Ua.O.aw(this.Ua.P)&&this.Oa.O.aw(this.Oa.P)&&this.Oa.O.aw(this.Na)&&(f=!1);return f};n.prototype.set=function(c){this.red=c.red;this.green=c.green;this.blue=c.blue};
n.prototype.aw=function(c){var f=!1;this.red===c.red&&this.green===c.green&&this.blue===c.blue&&(f=!0);return f};p.prototype.set=function(c){this.O.set(c.O);this.P.set(c.P)};b.prototype.js=function(c){this.wa=0;if(c)if(null===this.lg&&(this.we=this.l.F(Int32,k.Es,"Life.bucketList"),this.lg=this.l.F(Int32,k.hj,"Life.hashList"),this.ui=this.l.F(Uint32,k.hj,"Life.genList"),this.mh=this.l.F(Uint32,k.hj,"Life.popList"),this.ci=this.l.F(Uint32,k.hj,"Life.bornList"),this.hi=this.l.F(Uint32,k.hj,"Life.diedList"),
this.Fb=this.l.F(Uint32,2*k.hj,"Life.boxList"),this.We=this.l.F(Int32,k.hj,"Life.nextList"),this.Pj=Array.Y(Uint8,this.height,this.width,k.dg,this.l,"Life.countList"),this.fh.j=this.width,this.fh.m=this.height,this.fh.s=0,this.ih=this.fh.u=0,this.ji=-1),arrayFill)this.we.fill(-1),this.We.fill(-1);else{for(c=0;c<k.Es;c+=1)this.we[c]=-1;for(c=0;c<k.hj;c+=1)this.We[c]=-1}else this.Pj=this.We=this.Fb=this.hi=this.ci=this.mh=this.ui=this.lg=this.we=null,this.ih=0,this.ji=-1};b.prototype.zx=function(c,
f,d){f="Spaceship speed ("+(f+","+d)+")c";1<c&&(f+="/"+c);return f};b.prototype.bu=function(c,f){var d=31415962,g=c.j,m=c.m,q=c.s-g+1;c=c.u-m+1;var r=q-1,w=c-1,u=c,y=2>=this.g,a,h,l=0,v=0,x=0,t=0,A=this.ca,z=k.gb;this.M&&0!==(this.v&1)&&(A=this.Zb);if(f===k.xw||f===k.ww||f===k.yw||f===k.zw){var B=q;q=u;u=B}for(h=0;h<u;h+=1)for(a=0;a<q;a+=1){switch(f){case k.xw:l=x;v=w-t;break;case k.sB:l=r-a;v=w-h;break;case k.ww:l=r-x;v=t;break;case k.qB:l=r-a;v=h;break;case k.rB:l=a;v=w-h;break;case k.yw:l=x;v=
t;break;case k.zw:l=r-x,v=w-t}if(y)A[v+m][l+g]>=z&&(d=1000003*d^h,d=1000003*d^a);else if(B=A[v+m][l+g],B>this.I){B-=this.I;if(this.M)switch(f){case k.xw:B=B<<1&15|(B&8)>>3;break;case k.sB:B=B&12|B&3;break;case k.ww:B=B>>1&15|(B&1)<<3;break;case k.qB:B=B&5|(B&2)<<2|(B&8)>>2;break;case k.rB:B=B&10|(B&1)<<2|(B&4)>>2;break;case k.yw:B=(B&8)>>3|(B&4)>>1|(B&2)<<1|(B&1)<<3;break;case k.zw:B=(B&4)<<1|(B&8)>>1|(B&1)<<1|(B&2)>>1}d=1000003*d^h;d=1000003*d^a;d=1000003*d^B}t+=1;t===c&&(t=0,x+=1)}return d};b.prototype.ep=
function(c){for(var f,d=k.FG,g=-1,m;d<=k.GG&&-1===g;){m=this.bu(c,d);f=m&k.Es-1;for(f=this.we[f];-1!==f&&-1===g;)m===this.lg[f]?this.ui[f]!==this.v?(g=f,this.ji=d):f=this.We[f]:f=this.We[f];d+=1}return g};b.prototype.Zt=function(c,f){var d=31415962,g=c.j,m=c.m,q=c.s,r=c.u,w,u=2>=this.g,y=this.ca,a=this.Xg,h=this.Pj,l=k.gb,v=this.fh;this.M&&0!==(this.v&1)&&(y=this.Zb,a=this.Nf);g<v.j&&(v.j=g);m<v.m&&(v.m=m);q>v.s&&(v.s=q);r>v.u&&(v.u=r);var x=g>>2;var t=g&3;var A=q>>2;0!==(q&3)&&(A+=1);for(w=m;w<=
r;w+=1){var z=w-m;var B=y[w];var C=a[w];if(u)for(c=x;c<=A;c+=1)B=C[c]&1077952576,0!==B&&(g=(c-x<<2)-t,0!==(B&64)&&(d=1000003*d^z,d=1000003*d^g),g+=1,0!==(B&16384)&&(d=1000003*d^z,d=1000003*d^g),g+=1,0!==(B&4194304)&&(d=1000003*d^z,d=1000003*d^g),g+=1,0!==(B&1073741824)&&(d=1000003*d^z,d=1000003*d^g));else for(c=g;c<=q;c+=1)C=B[c],C>this.I&&(C-=this.I,d=1000003*d^z,d=1000003*d^c-g,d=1000003*d^C)}if(!f)for(w=v.m;w<=v.u;w+=1)if(B=y[w],q=h[w],u)for(c=v.j;c<=v.s;c+=1)B[c]>=l?q[c]===k.dg?q[c]=k.$e:q[c]===
k.uh&&(q[c]=k.Ze):q[c]===k.dg?q[c]=k.uh:q[c]===k.$e&&(q[c]=k.Ze);else if(this.M)for(c=v.j;c<=v.s;c+=1)r=q[c],C=B[c],C>this.I&&(C-=this.I),f=r&3,0!==(C&1)?f===k.dg?f=k.$e:f===k.uh&&(f=k.Ze):f===k.dg?f=k.uh:f===k.$e&&(f=k.Ze),g=r>>2&3,0!==(C&2)?g===k.dg?g=k.$e:g===k.uh&&(g=k.Ze):g===k.dg?g=k.uh:g===k.$e&&(g=k.Ze),m=r>>4&3,0!==(C&4)?m===k.dg?m=k.$e:m===k.uh&&(m=k.Ze):m===k.dg?m=k.uh:m===k.$e&&(m=k.Ze),r=r>>6&3,0!==(C&8)?r===k.dg?r=k.$e:r===k.uh&&(r=k.Ze):r===k.dg?r=k.uh:r===k.$e&&(r=k.Ze),q[c]=f|g<<
2|m<<4|r<<6;else for(c=v.j;c<=v.s;c+=1)B[c]>this.I?q[c]===k.dg?q[c]=k.$e:q[c]===k.uh&&(q[c]=k.Ze):q[c]===k.dg?q[c]=k.uh:q[c]===k.$e&&(q[c]=k.Ze);return d};b.prototype.cu=function(c,f,d,g,m,q,r,w){var u="",y=String(this.v-d),a="",h="",l=this.sa,v=l,x=16384,t=0,A=16384,z=0,B=this.wa,C=c,D=16384,E=0,H=0,G,K=G="",O=this.Pj,J=0,F=0,I="",M=this.ih,N="",R="";0<d&&(y+=" and "+this.v);g=Math.abs(g);m=Math.abs(m);if(0<g||0<m){var da="Spaceship";h=0===g||0===m?"0":g>m?String(g/m|0):String(m/g|0);g===m||0===
g||0===m?(a=g===m&&0!==g?"Diagonal":"Orthogonal",0===g&&(g=m),1<g?u=1===d?g+"c":0===d%g?"c/"+d/g+" | "+g+"c/"+d:g+"c/"+d:(u="c",1<d&&(u+="/"+d))):(a="Oblique",u=g+","+m+"c",1<d&&(u+="/"+d))}else da=1===d?"Still Life":"Oscillator";for(m=0;c<B;)g=this.mh[c],m+=g,g<l&&(l=g),g>v&&(v=g),c+=1;l=l===v?String(l):String(l)+" | "+String(v)+" | "+String((m/(B-C)).toFixed(1));c=C;if("Spaceship"===da)for(;c<B;)g=this.Fb[c<<1],v=g>>16,m=g&65535,v>q&&(q=v),m>r&&(r=m),c+=1;else{for(;c<B;)g=this.Fb[c<<1],v=g>>16,
m=g&65535,g=this.Fb[(c<<1)+1],q=g>>16,r=g&65535,q<x&&(x=q),r<A&&(A=r),q+v-1>t&&(t=q+v-1),r+m-1>z&&(z=r+m-1),c+=1;q=t-x+1;r=z-A+1}q=String(q+" x "+r+" = "+q*r);if(0<d){G=0;for(c=C;c<B;)H=this.ci[c]+this.hi[c],H<D&&(D=H),H>E&&(E=H),G+=H,c+=1;D===E?(H=D,G=String(H.toFixed(1))):(H=G/(B-C),G=String(D.toFixed(1)+" | "+E.toFixed(1)+" | "+H.toFixed(1)))}if("Oscillator"===da&&!w){for(C=A;C<=z;C+=1)if(c=O[C],this.M)for(B=x;B<=t;B+=1)A=c[B],(A&3)===k.Ze?J+=1:(A&3)===k.$e&&(F+=1),A>>=2,(A&3)===k.Ze?J+=1:(A&3)===
k.$e&&(F+=1),A>>=2,(A&3)===k.Ze?J+=1:(A&3)===k.$e&&(F+=1),A>>=2,(A&3)===k.Ze?J+=1:(A&3)===k.$e&&(F+=1);else for(B=x;B<=t;B+=1)c[B]===k.Ze?J+=1:c[B]===k.$e&&(F+=1);K=String((J/(J+F)).toFixed(2))}"Oscillator"!==da||w||(R=String((H/(J+F)).toFixed(2)+" | "+(H/J).toFixed(2)));w||(I=String(J+" | "+F+" | "+(J+F)));w||(N=0===M?String(d):0===d%M?String(M)+" ("+k.HG[this.ji]+")":String(d));return[f,da,a,u,q,y,l,h,d,G,K,N,I,R]};b.prototype.QG=function(c){var f=this.xa?this.za:this.H,d=f.j,g=f.m,m=f.s-d+1,q=
f.u-g+1,r=m<<16|q,w=d<<16|g,u,y=!1,a=0,h=0;var l=[];if(this.kc&&0!==(this.v&1))return l;if(this.wa<k.hj)if(0===this.sa)l=["Empty Pattern","Empty"];else{var v=this.Zt(f,c);var x=v&k.Es-1;var t=this.we[x];for(u=!1;-1!==t&&!u;){if(v===this.lg[t]){var A=t<<1;this.sa===this.mh[t]&&r===this.Fb[A]&&(l=this.v-this.ui[t],this.Fb[A+1]===w?A=1===l?"Still Life":"Oscillator period "+l:(a=d-(this.Fb[A+1]>>16),h=g-(this.Fb[A+1]&65535),A=this.zx(l,a,h)),y=u=!0,l=this.cu(t,A,l,a,h,m,q,c))}t=this.We[t]}y||(this.lg[this.wa]=
v,this.ui[this.wa]=this.v,this.mh[this.wa]=this.sa,this.ci[this.wa]=this.lc,this.hi[this.wa]=this.ed,this.Fb[this.wa<<1]=r,this.Fb[(this.wa<<1)+1]=d<<16|g,this.We[this.wa]=this.we[x],this.we[x]=this.wa,0!==this.ih||c||(c=this.ep(f),-1!==c&&(this.ih=this.v-this.ui[c])),this.wa+=1,this.wa===k.hj&&(this.wa=0,l=[k.Nz]))}return l};b.prototype.Wt=function(c,f,d,g,m,q,r){var w=this.D/2,u=this.C/2,y=0,a=this.width/2-.25,h=this.height/2,l=this.coords,v=this.T,x=this.height/2-this.ka-this.wb+.5,t=this.width/
2-this.pa-this.Db+.5,A=this.zoom*this.tc;if(c>d){var z=d;d=c;c=z}f>g&&(z=g,g=f,f=z);c+=m;d+=m;f+=q;g+=q;v.length!==k.Wb&&(this.coords=this.l.F(Float32,12*k.Wb,"Life.coords"),this.T=this.l.F(Uint32,k.Wb,"Life.cellColours"),l=this.coords,v=this.T);this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(q=m=0;f<=g;f+=1)if(z=(f-h+x)*A+u,z>=-A&&z<this.C+A){var B=f-h;var C=t-a;for(z=c;z<=d;z+=1){if(0<r[y]){var D=(z+C)*A+w;if(D>=-A&&D<this.D+2*A){v[m]=(0<<k.wh)+q;D=z-a;var E=
z+f&1;l[q]=D-1;l[q+1]=B+E;l[q+2]=D+1;l[q+3]=B+E;l[q+4]=D;l[q+5]=B+1-E;q+=6;m+=1;m===k.Wb&&(this.fa=m,this.md(!0,!1,!0),q=m=0)}}y+=1}}else y+=d-c+1;this.fa=m;0<m&&this.md(!0,!1,!0)};b.prototype.en=function(c,f,d,g,m,q){var r=this.D/2,w=this.C/2,u=this.width/2-.25,y=this.height/2,a=this.coords,h=this.T,l=this.height/2-this.ka-this.wb+.5,v=this.width/2-this.pa-this.Db+.5,x=this.zoom*this.tc;if(c>d){var t=d;d=c;c=t}f>g&&(t=g,g=f,f=t);c+=m;d+=m;f+=q;g+=q;h.length!==k.Wb&&(this.coords=this.l.F(Float32,
12*k.Wb,"Life.coords"),this.T=this.l.F(Uint32,k.Wb,"Life.cellColours"),a=this.coords,h=this.T);this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(q=m=0;f<=g;f+=1)if(t=(f-y+l)*x+w,t>=-x&&t<this.C+x){var A=f-y;var z=v-u;for(t=c;t<=d;t+=1){var B=(t+z)*x+r;if(B>=-x&&B<this.D+2*x){h[m]=(0<<k.wh)+q;B=t-u;var C=t+f&1;a[q]=B-1;a[q+1]=A+C;a[q+2]=B+1;a[q+3]=A+C;a[q+4]=B;a[q+5]=A+1-C;q+=6;m+=1;m===k.Wb&&(this.fa=m,this.md(!0,!1,!0),q=m=0)}}}this.fa=m;0<m&&this.md(!0,!1,
!0)};b.prototype.yF=function(){var c=this.ca,f=this.Ob,d=null,g=this.Ed,m=this.D/2,q=this.C/2,r,w,u=this.width/2-.25,y=this.height/2,a=ViewConstants.Ma[3]+128,h=ViewConstants.Ma[4]+128,l=ViewConstants.Ma[5]+128,v=ViewConstants.Ma[6]+128,x=this.gb,t=this.coords,A=this.T,z=g.j,B=g.s;var C=g.m;var D=g.u,E=this.height/2-this.ka-this.wb+.5,H=this.width/2-this.pa-this.Db+.5,G=this.zoom*this.tc,K=!this.Xb&&!this.Pd;A.length!==k.Wb&&(this.coords=this.l.F(Float32,12*k.Wb,"Life.coords"),this.T=this.l.F(Uint32,
k.Wb,"Life.cellColours"),t=this.coords,A=this.T);-1!==this.ua&&(0!==this.ha?(z=Math.round((this.width-this.ha)/2)-1,B=z+this.ha-1+2):(z=0,B=this.width-1),0!==this.ma?(C=Math.round((this.height-this.ma)/2)-1,D=C+this.ma-1+2):(C=0,D=this.height-1));this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(w=g=0;C<=D;C+=1){var O=(C-y+E)*G+q;if(O>=-G&&O<this.C+G){O=c[C];f&&(d=f[C]);var J=C-y;var F=H-u;for(r=z;r<=B;r+=1){var I=(r+F)*G+m;if(I>=-G&&I<this.D+2*G){I=O[r];if(d){var M=
d[r];if(M===h||M===v)I>x?I=a:I=M;else if(M===a||M===l)I<x?I=h:I=M}0<I&&(A[g]=(I<<k.wh)+w,I=r-u,M=r+C&1,t[w]=I-1,t[w+1]=J+M,t[w+2]=I+1,t[w+3]=J+M,t[w+4]=I,t[w+5]=J+1-M,w+=6,g+=1);g===k.Wb&&(this.fa=g,this.md(!0,K,!1),this.Pd&&!this.Xb&&(this.context.strokeStyle="rgb("+this.Ya[0]+","+this.Va[0]+","+this.Wa[0]+")",this.md(!1,!1,!1)),w=g=0)}}}}this.fa=g;0<g&&(this.md(!0,K,!1),this.Pd&&!this.Xb&&(this.context.strokeStyle="rgb("+this.Ya[0]+","+this.Va[0]+","+this.Wa[0]+")",this.md(!1,!1,!1)),w=0);if(this.Xb){this.context.strokeStyle=
"rgb("+(this.Dd>>16)+","+(this.Dd>>8&255)+","+(this.Dd&255)+")";this.context.lineWidth=1;D=q/G-E+y|0;g=0;for(C=-q/G-E+y|0;C<=D;C+=1)if(O=(C-y+E)*G+q,O>=-G&&O<this.C+G)for(J=C-y,F=H-u,z=-m/G-F-G|0,B=m/G-F+G|0,r=z;r<=B;r+=1)I=(r+F)*G+m,I>=-G&&I<this.D+G&&(I=r-u,M=r+C&1,t[w]=I-1,t[w+1]=J+M,t[w+2]=I+1,t[w+3]=J+M,t[w+4]=I,t[w+5]=J+1-M,w+=6,g+=1),g===k.Wb&&(this.fa=g,this.md(!1,!1,!1),w=g=0);this.fa=g;0<g&&this.md(!1,!1,!1)}};b.prototype.md=function(c,f,d){var g,m=this.context,q=this.width/2-this.pa-this.Db,
r=this.height/2-this.ka-this.wb,w=this.zoom*this.tc,u=this.zoom*this.tc*ViewConstants.vj,y=this.D/2,a=this.C/2,h=0,l=0,v=-1,x=this.coords,t=this.fa,A=this.T,z=(1<<k.wh)-1;if(c&&!d&&A.sort){l=(k.Wb<<k.wh)+256;for(g=t;g<k.Wb;g+=1)A[g]=l;A.sort()}m.beginPath();c||(v=l=h=0);for(g=0;g<t;g+=1){c&&(l=A[g],h=l&z,l>>=k.wh);var B=x[h];var C=x[h+1];h+=2;var D=(C+r)*u+a;var E=(B+q)*w+y;var H=(x[h+1]-C)*u;var G=(x[h]-B)*w;h+=2;l!==v&&(v=l,0<g&&(c?(f&&m.stroke(),m.fill()):m.stroke(),m.beginPath()),c&&!d&&(m.fillStyle=
this.Wg[l],f&&(m.strokeStyle=this.Wg[l])));m.moveTo(E|0,D|0);m.lineTo(G+E|0,H+D|0);m.lineTo(G+E|0,D|0);H=(x[h+1]-C)*u;G=(x[h]-B)*w;m.lineTo(G+E|0,H+D|0);h+=2}c?(f&&m.stroke(),m.fill()):m.stroke()};b.prototype.Vt=function(c,f,d,g,m,q,r){var w=0,u=this.width/2-.25,y=this.height/2,a=Math.PI/3,h=.5/Math.cos(a/2)*1.16,l=ViewConstants.vj/4/Math.cos(a/2)*1.16,v=[],x=[],t=this.coords,A=this.T,z=this.D/2,B=this.C/2,C=this.width/2-this.pa-this.Db,D=this.height/2-this.ka-this.wb,E=this.Ba;C=C+D/2+-(this.height>>
2)+.5;D+=.5;if(c>d){var H=d;d=c;c=H}f>g&&(H=g,g=f,f=H);c+=m;d+=m;f+=q;g+=q;A.length!==k.Wb&&(this.coords=this.l.F(Float32,12*k.Wb,"Life.coords"),this.T=this.l.F(Uint32,k.Wb,"Life.cellColours"),t=this.coords,A=this.T);q=a/2;for(m=0;5>=m;m+=1)v[m]=Math.cos(q)*l,x[m]=Math.sin(q)*h,v[m]+=x[m]/2,q+=a;a=v[0];h=x[0];l=v[1];H=x[1];var G=v[2];var K=x[2];var O=v[3];var J=x[3];var F=v[4];var I=x[4];v=v[5];x=x[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(q=m=0;f<=
g;f+=1){var M=f-y;var N=(M+D)*E+B;if(N>=-E&&N<this.C+E)for(N=c;N<=d;N+=1){if(0<r[w]){var R=N-u;var da=(R+C-(M+D)/2)*E+z;da>=-E&&da<this.D+E&&(A[m]=(0<<k.wh)+q,t[q]=a+R,t[q+1]=h+M,t[q+2]=l+R,t[q+3]=H+M,t[q+4]=G+R,t[q+5]=K+M,t[q+6]=O+R,t[q+7]=J+M,t[q+8]=F+R,t[q+9]=I+M,t[q+10]=v+R,t[q+11]=x+M,q+=12,m+=1,m===k.Wb&&(this.fa=m,this.dd(!0,!1,!1,!0),q=m=0))}w+=1}else w+=d-c+1}this.fa=m;0<m&&this.dd(!0,!1,!1,!0)};b.prototype.Wm=function(c,f,d,g,m,q){var r=this.width/2-.25,w=this.height/2,u=Math.PI/3,y=.5/
Math.cos(u/2)*1.16,a=ViewConstants.vj/4/Math.cos(u/2)*1.16,h=[],l=[],v=this.coords,x=this.T,t=this.D/2,A=this.C/2,z=this.width/2-this.pa-this.Db,B=this.height/2-this.ka-this.wb,C=this.Ba;z=z+B/2+-(this.height>>2)+.5;B+=.5;if(c>d){var D=d;d=c;c=D}f>g&&(D=g,g=f,f=D);c+=m;d+=m;f+=q;g+=q;x.length!==k.Wb&&(this.coords=this.l.F(Float32,12*k.Wb,"Life.coords"),this.T=this.l.F(Uint32,k.Wb,"Life.cellColours"),v=this.coords,x=this.T);q=u/2;for(m=0;5>=m;m+=1)h[m]=Math.cos(q)*a,l[m]=Math.sin(q)*y,h[m]+=l[m]/2,
q+=u;u=h[0];y=l[0];a=h[1];D=l[1];var E=h[2];var H=l[2];var G=h[3];var K=l[3];var O=h[4];var J=l[4];h=h[5];l=l[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(q=m=0;f<=g;f+=1){var F=f-w;var I=(F+B)*C+A;if(I>=-C&&I<this.C+C)for(I=c;I<=d;I+=1){var M=I-r;var N=(M+z-(F+B)/2)*C+t;N>=-C&&N<this.D+C&&(x[m]=(0<<k.wh)+q,v[q]=u+M,v[q+1]=y+F,v[q+2]=a+M,v[q+3]=D+F,v[q+4]=E+M,v[q+5]=H+F,v[q+6]=G+M,v[q+7]=K+F,v[q+8]=O+M,v[q+9]=J+F,v[q+10]=h+M,v[q+11]=l+F,q+=12,m+=1,m===
k.Wb&&(this.fa=m,this.dd(!0,!1,!1,!0),q=m=0))}}this.fa=m;0<m&&this.dd(!0,!1,!1,!0)};b.prototype.uF=function(){var c=this.ca,f=this.Ob,d=null,g=this.Ed,m=this.D/2,q=this.C/2,r,w=this.width/2-.25,u=this.height/2,y=Math.PI/3,a=.5/Math.cos(y/2)*1.16,h=ViewConstants.vj/4/Math.cos(y/2)*1.16,l=[],v=[],x=ViewConstants.Ma[3]+128,t=ViewConstants.Ma[4]+128,A=ViewConstants.Ma[5]+128,z=ViewConstants.Ma[6]+128,B=this.gb,C=this.coords,D=this.T,E=g.j,H=g.s;var G=g.m;var K=g.u,O=this.height/2-this.ka-this.wb+.5,J=
this.width/2-this.pa-this.Db+.5-(this.height>>2)+O/2,F=this.zoom*this.tc,I=!this.Xb&&!this.Pd;D.length!==k.Wb&&(this.coords=this.l.F(Float32,12*k.Wb,"Life.coords"),this.T=this.l.F(Uint32,k.Wb,"Life.cellColours"),C=this.coords,D=this.T);-1!==this.ua&&(0!==this.ha?(E=Math.round((this.width-this.ha)/2)-1,H=E+this.ha-1+2):(E=0,H=this.width-1),0!==this.ma?(G=Math.round((this.height-this.ma)/2)-1,K=G+this.ma-1+2):(G=0,K=this.height-1));var M=y/2;for(g=0;5>=g;g+=1)l[g]=Math.cos(M)*h,v[g]=Math.sin(M)*a,l[g]+=
v[g]/2,M+=y;y=l[0];a=v[0];h=l[1];var N=v[1];var R=l[2];var da=v[2];var W=l[3];var aa=v[3];var S=l[4];var Z=v[4];l=l[5];v=v[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(M=g=0;G<=K;G+=1){var ca=(G+O-u)*F+q;if(ca>=-F&&ca<this.C+F){ca=c[G];f&&(d=f[G]);var U=G-u;var L=J-w-(U+O)/2;for(r=E;r<=H;r+=1){var P=(r+L)*F+m;if(P>=-F&&P<this.D+F){P=ca[r];if(d){var Q=d[r];if(Q===t||Q===z)P>B?P=x:P=Q;else if(Q===x||Q===A)P<B?P=t:P=Q}0<P&&(D[g]=(P<<k.wh)+M,P=r-w,C[M]=y+
P,C[M+1]=a+U,C[M+2]=h+P,C[M+3]=N+U,C[M+4]=R+P,C[M+5]=da+U,C[M+6]=W+P,C[M+7]=aa+U,C[M+8]=S+P,C[M+9]=Z+U,C[M+10]=l+P,C[M+11]=v+U,M+=12,g+=1);g===k.Wb&&(this.fa=g,this.dd(!0,I,!1,!1),this.Pd&&!this.Xb&&(this.context.strokeStyle="rgb("+this.Ya[0]+","+this.Va[0]+","+this.Wa[0]+")",this.dd(!1,!1,!1,!1)),M=g=0)}}}}this.fa=g;0<g&&(this.dd(!0,I,!1,!1),this.Pd&&!this.Xb&&(this.context.strokeStyle="rgb("+this.Ya[0]+","+this.Va[0]+","+this.Wa[0]+")",this.dd(!1,!1,!1,!1)),M=0);if(this.Xb){this.context.strokeStyle=
"rgb("+(this.Dd>>16)+","+(this.Dd>>8&255)+","+(this.Dd&255)+")";this.context.lineWidth=1;g=0;K=q/F-O+u|0;for(G=-q/F-O+u|0;G<=K;G+=1)if(ca=(G+O-u)*F+q,ca>=-F&&ca<this.C+F)for(U=G-u,L=J-w-(U+O)/2,E=-m/F-L-F|0,H=m/F-L+F|0,r=E;r<=H;r+=1)P=(r+L)*F+m,P>=-F&&P<this.D+F&&(P=r-w,C[M]=y+P,C[M+1]=a+U,C[M+2]=h+P,C[M+3]=N+U,C[M+4]=R+P,C[M+5]=da+U,C[M+6]=W+P,C[M+7]=aa+U,M+=8,g+=1),g===k.Wb&&(this.fa=g,this.dd(!1,!1,!0,!1),M=g=0);this.fa=g;0<g&&this.dd(!1,!1,!0,!1)}};b.prototype.dd=function(c,f,d,g){var m,q=this.context,
r=this.width/2-this.pa-this.Db,w=this.height/2-this.ka-this.wb,u=this.zoom*this.tc,y=this.D/2,a=this.C/2,h=0,l=0,v=12,x=0,t=-1,A=this.coords,z=this.fa,B=this.T,C=(1<<k.wh)-1;r=r+w/2+-(this.height>>2)+.5;w+=.5;if(c&&!g&&B.sort){x=(k.Wb<<k.wh)+256;if(arrayFill)B.fill(x,z);else for(m=z;m<k.Wb;m+=1)B[m]=x;B.sort()}q.beginPath();c||(l=v=d?8:12,t=x=h=0);for(m=0;m<z;m+=1){c&&(x=B[m],h=x&C,l=h+v,x>>=k.wh);d=A[h];var D=A[h+1];var E=D+w;var H=d+r-E/2;h+=2;E=E*u+a;H=H*u+y;var G=(A[h+1]-D)*u;var K=(A[h]-d)*u-
G/2;h+=2;x!==t&&(t=x,0<m&&(c?(f&&q.stroke(),q.fill()):q.stroke(),q.beginPath()),c&&!g&&(q.fillStyle=this.Wg[x],f&&(q.strokeStyle=this.Wg[x])));q.moveTo(H,E);for(q.lineTo(K+H,G+E);h<l;)G=(A[h+1]-D)*u,K=(A[h]-d)*u-G/2,h+=2,q.lineTo(K+H,G+E);l+=v}c?(f&&q.stroke(),q.fill()):q.stroke()};b.prototype.Nu=function(c,f,d){var g="",m=f.ib?f.Ed:f.H,q=m.j,r=m.s,w=m.u,u=m.m,y=r-q+1,a=w-u+1;m=0;var h=[];var l=0;var v=!1,x=this.ca,t=null;var A=(f.width>>1)-(c.qb>>1);var z=(f.height>>1)-(c.xb>>1),B=c.yb;c.kb&&(q=
B.j+A,u=B.m+z,r=B.s+A,w=B.u+z,y=r-q+1,a=w-u+1);f.ba&&(0<q&&0!==(q&1)&&(--q,y+=1),0<u&&0!==(u&1)&&(--u,a+=1));f.Aa&&(0<q&&0===(q&1)&&(--q,y+=1),0<u&&0===(u&1)&&(--u,a+=1));if(2>=f.g&&!f.vf)v=!0,h[0]="b",h[1]="o";else for(f.vf?l=7:l=f.g,h[0]=".",A=0;A<l-1;A+=1)h[A+1]=24<=A?String.fromCharCode(112+(A/24|0)-1)+String.fromCharCode(65+A%24):String.fromCharCode(65+A);d&&(g+=f.cc);0===this.sa&&(a=y=0,w=u-1);g+="x = "+y+", y = "+a+", rule = ";g="LifeHistory"===c.Xc?f.vf?g+c.Xc:g+"Life":f.ib&&!f.vf?g+c.Yc.substr(0,
c.Yc.length-7):g+c.Yc;g+=c.il;g+="\n";for(c=g.length;u<=w;){A=q;v?(t=x[u],l=t[A],y=l<=this.Cd||l===this.Hc?0:1):y=f.getState(A,u,!1);a=1;for(A+=1;A<=r+1;)A>r?l=-1:v?(l=t[A],l=l<=this.Cd||l===this.Hc?0:1):l=f.getState(A,u,!1),l!==y?((-1!==l||0!==y)&&0<m&&(1<m&&(g+=m),g+="$",69<=g.length-c&&(g+="\n",c=g.length),m=0),0<y?(1<a&&(g+=a),g+=h[y]):A<=r&&(1<a&&(g+=a),g+=h[y]),69<=g.length-c&&(g+="\n",c=g.length),a=1,y=l):a+=1,A+=1;m+=1;u+=1}g+="!\n";d&&(g+=f.cg);return g};b.prototype.ah=null;b.prototype.eI=
function(c,f,d,g){var m=this.cb,q=this.oa,r=this.ca,w=this.ab,u=this.Ga,y=this.H,a=this.Ed;var h=!0;var l=this.ba?1:0,v=this.ba?14:15;if(c!==(c&this.fb)||f!==(f&this.hb)){for(h=!1;this.width<this.$&&(c!==(c&this.fb)||f!==(f&this.hb));)this.ap(),c+=this.width>>2,f+=this.height>>2;c===(c&this.fb)&&f===(f&this.hb)&&(h=!0,m=this.cb,q=this.oa,r=this.ca,w=this.ab,u=this.Ga)}if(h){0!==(this.v&1)&&(m=this.Lb,q=this.Ka);h=1<<(~c&15);var x=1<<(~(c>>4)&15);1===(d&1)?(this.ea=1,0===(m[f][c>>4]&h)&&(this.sa+=
1),r[f][c]=this.gb,w[f>>4][c>>8]|=x,u[f>>4][c>>8]|=x,m[f][c>>4]|=h,q[f>>4][c>>8]|=x,g=c&15,0<c&&g<=l?(c-=g+1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c+=g+1):c<this.width-1&&g>=v&&(c+=16-g,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c-=16-g),0<f&&0===(f&15)?(--f,q[f>>4][c>>8]|=1<<(~(c>>4)&15),0<c&&g<=l?(c-=g+1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c+=g+1):c<this.width-1&&g>=v&&(c+=16-g,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c-=16-g),f+=1):f<this.height-1&&15===(f&15)&&(f+=1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),0<c&&g<=l?(c-=g+1,q[f>>4][c>>
8]|=1<<(~(c>>4)&15),c+=g+1):c<this.width-1&&g>=v&&(c+=16-g,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c-=16-g),--f)):(0!==(m[f][c>>4]&h)&&--this.sa,r[f][c]=g?this.Na:this.Cd,w[f>>4][c>>8]|=x,u[f>>4][c>>8]|=x,m[f][c>>4]&=~h);0<d&&(c<y.j&&(y.j=c),c>y.s&&(y.s=c),f<y.m&&(y.m=f),f>y.u&&(y.u=f),c<a.j&&(a.j=c),c>a.s&&(a.s=c),f<a.m&&(a.m=f),f>a.u&&(a.u=f),c===y.j||c===y.s||f===y.u||f===y.m)&&(this.bh=!0)}return 0};b.prototype.fI=function(c,f,d,g){var m=this.cb,q=this.oa,r=this.ca,w=this.ab,u=this.Ga,y=this.Ob,a=this.H,
h=this.Ed;var l=!0;var v=0,x=this.ba?1:0,t=this.ba?14:15;if(c!==(c&this.fb)||f!==(f&this.hb)){for(l=!1;this.width<this.$&&(c!==(c&this.fb)||f!==(f&this.hb));)this.ap(),c+=this.width>>2,f+=this.height>>2;c===(c&this.fb)&&f===(f&this.hb)&&(l=!0,m=this.cb,q=this.oa,r=this.ca,w=this.ab,u=this.Ga,y=this.Ob)}if(l){0!==(this.v&1)&&(m=this.Lb,q=this.Ka);l=1<<(~c&15);var A=1<<(~(c>>4)&15);1===(d&1)?(this.ea=1,0===(m[f][c>>4]&l)&&(this.sa+=1),r[f][c]=this.gb,w[f>>4][c>>8]|=A,u[f>>4][c>>8]|=A,m[f][c>>4]|=l,
q[f>>4][c>>8]|=A,g=c&15,0<c&&g<=x?(c-=g+1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c+=g+1):c<this.width-1&&g>=t&&(c+=16-g,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c-=16-g),0<f&&0===(f&15)?(--f,q[f>>4][c>>8]|=1<<(~(c>>4)&15),0<c&&g<=x?(c-=g+1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c+=g+1):c<this.width-1&&g>=t&&(c+=16-g,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c-=16-g),f+=1):f<this.height-1&&15===(f&15)&&(f+=1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),0<c&&g<=x?(c-=g+1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c+=g+1):c<this.width-1&&g>=t&&(c+=16-g,q[f>>4][c>>
8]|=1<<(~(c>>4)&15),c-=16-g),--f)):(0!==(m[f][c>>4]&l)&&--this.sa,r[f][c]=g?this.Na:this.Cd,w[f>>4][c>>8]|=A,u[f>>4][c>>8]|=A,m[f][c>>4]&=~l);if(y){q=y[f][c];0<q&&(q=ViewConstants.Ma.indexOf(q-128));if(6===d&&6!==q||6!==d&&6===q)v=1;2===d?r[f][c]=k.Rj:y[f][c]=0===d?0:ViewConstants.Ma[d]+128}0<d&&(c<a.j&&(a.j=c),c>a.s&&(a.s=c),f<a.m&&(a.m=f),f>a.u&&(a.u=f),c<h.j&&(h.j=c),c>h.s&&(h.s=c),f<h.m&&(h.m=f),f>h.u&&(h.u=f),c===a.j||c===a.s||f===a.u||f===a.m)&&(this.bh=!0)}return v};b.prototype.gI=function(c,
f,d,g){var m=this.cb,q=this.oa,r=this.ca,w=this.ab,u=this.Ga,y=this.Ob,a=this.H,h=this.za,l=this.Ed;var v=Math.round((this.width-this.ha)/2);var x=Math.round((this.height-this.ma)/2);var t=v+this.ha-1,A=x+this.ma-1,z=!0,B=0,C=this.ba?1:0,D=this.ba?14:15;this.M&&0!==(this.v&1)&&(r=this.Zb);-1!==this.ua&&(0===this.ha&&(v=0,t=this.width-1),0===this.ma&&(x=0,A=this.height-1));if(c!==(c&this.fb)||f!==(f&this.hb)){for(z=!1;this.width<this.$&&(c!==(c&this.fb)||f!==(f&this.hb));)this.ap(),c+=this.width>>
2,f+=this.height>>2;c===(c&this.fb)&&f===(f&this.hb)&&(z=!0,m=this.cb,q=this.oa,r=this.ca,w=this.ab,u=this.Ga,y=this.Ob)}if(z&&(-1===this.ua||c>=v&&c<=t&&f>=x&&f<=A)){if(this.M)q=r[f][c],r[f][c]=this.I+d,u[f>>4][c>>8]=65535,0===d?q>this.I&&(this.sa-=this.Lg[q-this.I]):(this.ea=1,q<=this.I||(this.sa-=this.Lg[q-this.I]),this.sa+=this.Lg[d]);else if(0!==(this.v&1)&&(m=this.Lb,q=this.Ka),x=1<<(~c&15),v=1<<(~(c>>4)&15),this.xa)q=r[f][c],2===this.g?(y=this.gb,1===d&&(d=this.gb,this.ea=1)):(y=this.g-1+this.I,
0<d&&(d=this.I+d,this.ea=1)),r[f][c]=d,w[f>>4][c>>8]|=v,u[f>>4][c>>8]|=v,q!==y&&d===y?this.sa+=1:q===y&&d!==y&&--this.sa;else{(t=2>=this.g?1===(d&1):d===this.g-1)?(this.ea=1,0===(m[f][c>>4]&x)&&(this.sa+=1),r[f][c]=this.gb,w[f>>4][c>>8]|=v,u[f>>4][c>>8]|=v,m[f][c>>4]|=x,q[f>>4][c>>8]|=v,w=c&15,0<c&&w<=C?(c-=w+1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c+=w+1):c<this.width-1&&w>=D&&(c+=16-w,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c-=16-w),0<f&&0===(f&15)?(--f,q[f>>4][c>>8]|=1<<(~(c>>4)&15),0<c&&w<=C?(c-=w+1,q[f>>4][c>>
8]|=1<<(~(c>>4)&15),c+=w+1):c<this.width-1&&w>=D&&(c+=16-w,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c-=16-w),f+=1):f<this.height-1&&15===(f&15)&&(f+=1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),0<c&&w<=C?(c-=w+1,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c+=w+1):c<this.width-1&&w>=D&&(c+=16-w,q[f>>4][c>>8]|=1<<(~(c>>4)&15),c-=16-w),--f)):(0!==(m[f][c>>4]&x)&&--this.sa,r[f][c]=g?this.Na:this.Cd,w[f>>4][c>>8]|=v,u[f>>4][c>>8]|=v,m[f][c>>4]&=~x);if(this.ib&&y){q=y[f][c];0<q&&(q=ViewConstants.Ma.indexOf(q-128));if(6===d&&6!==q||6!==d&&
6===q)B=1;2===d?r[f][c]=k.Rj:y[f][c]=0===d?0:ViewConstants.Ma[d]+128}2<this.g&&(0<d&&(d=this.I+d),r[f][c]=d)}if(0<d)c<a.j&&(a.j=c),c>a.s&&(a.s=c),f<a.m&&(a.m=f),f>a.u&&(a.u=f),c<l.j&&(l.j=c),c>l.s&&(l.s=c),f<l.m&&(l.m=f),f>l.u&&(l.u=f),this.xa&&d===this.g-1+this.I&&(c<h.j&&(h.j=c),c>h.s&&(h.s=c),f<h.m&&(h.m=f),f>h.u&&(h.u=f));else if(c===a.j||c===a.s||f===a.u||f===a.m)this.bh=!0}return B};b.prototype.nI=function(){var c=null;window.Reflect&&window.Reflect.getPrototypeOf&&(c=Reflect.getPrototypeOf(this));
null===c&&(c=this.__proto__);-1!=this.g||-1!==this.ua||this.ub?(c.getState=c.SF,c.ah=c.gI):this.ib?(c.getState=c.RF,c.ah=c.fI):(c.getState=c.QF,c.ah=c.eI)};b.prototype.jE=function(c){var f=1<<k.jl;c?(this.eb=Array.Y(Uint32,1,f,0,this.l,"Life.popGraphData"),this.ig=Array.Y(Uint32,1,f,0,this.l,"Life.birthGraphData"),this.kg=Array.Y(Uint32,1,f,0,this.l,"Life.deathGraphData"),this.wg=f):(this.eb=Array.Y(Uint32,0,0,0,this.l,"Life.popGraphData"),this.ig=Array.Y(Uint32,0,0,0,this.l,"Life.birthGraphData"),
this.kg=Array.Y(Uint32,0,0,0,this.l,"Life.deathGraphData"),this.wg=0)};b.prototype.getState=null;b.prototype.QF=function(c,f,d){var g=0;c===(c&this.fb)&&f===(f&this.hb)&&(c=this.ca[f][c],d?g=c:g=c<=this.Cd?0:1);return g};b.prototype.RF=function(c,f,d){var g=0,m=ViewConstants.Ma[3]+128,q=ViewConstants.Ma[4]+128,r=ViewConstants.Ma[5]+128,w=ViewConstants.Ma[6]+128;c===(c&this.fb)&&f===(f&this.hb)&&(g=this.ca[f][c],d||(this.Ob?(c=this.Ob[f][c],c===q||c===w?(g>=this.gb&&(c=m),g=ViewConstants.Ma.indexOf(c-
128)):c===m||c===r?(g<this.gb&&(c=q),g=ViewConstants.Ma.indexOf(c-128)):g=g===this.Na?0:g<=this.Cd?2:1):g=g<=this.Cd?0:1));return g};b.prototype.SF=function(c,f,d){var g=0,m=ViewConstants.Ma[3]+128,q=ViewConstants.Ma[4]+128,r=ViewConstants.Ma[5]+128,w=ViewConstants.Ma[6]+128,u=Math.round((this.width-this.ha)/2),y=Math.round((this.height-this.ma)/2),a=u+this.ha-1,h=y+this.ma-1,l=this.ca;this.M&&0!==(this.v&1)&&(l=this.Zb);c===(c&this.fb)&&f===(f&this.hb)&&(g=l[f][c],d||2<this.g?2<this.g&&0<g&&!this.ub&&
(g<=this.I?g=0:(-1!==this.ua&&(0===this.ha&&(u=0,a=this.width-1),0===this.ma&&(y=0,h=this.height-1)),g=-1===this.ua||g!==this.Hc||c>=u&&c<=a&&f>=y&&f<=h?this.M?g-this.I:this.g+this.I-g:0)):this.Ob?(c=this.Ob[f][c],c===q||c===w?(g>=this.gb&&(c=m),g=ViewConstants.Ma.indexOf(c-128)):c===m||c===r?(g<this.gb&&(c=q),g=ViewConstants.Ma.indexOf(c-128)):g=g===this.Na?0:g<=this.Cd?2:1):g=g<=this.Cd||g===this.Hc?0:1);return g};b.prototype.Mm=function(c){var f,d,g,m=c.length,q=c[0].length,r=this.Lg,w=0;for(f=
0;f<m;f+=1){var u=c[f];for(d=0;d<q;d+=1)(g=u[d])&&(w+=r[g])}return w};b.prototype.ei=function(c,f){var d=c.wf,g=d.length,m=!1;if(this.Aa||this.M)for(this.Cc=this.$c=!1,c=0;!m&&c<g;){var q=d[c];q.Qg<f?("reverse playback"===q.action&&(this.Cc=!this.Cc),c+=1):q.Qg>f?m=!0:"reverse playback"===q.action?m=this.$c=!0:c+=1}};b.prototype.gq=function(c,f,d,g){var m=this.Yf.se.length,q=null;c<this.v&&(q=this.Yf.pI(c),m!==this.Yf.se.length&&(this.rm-=k.oq*(m-this.Yf.se.length)));q&&(this.nn(q),g.lj());for(;this.v<
c-1;)this.ea?(this.ei(g,this.v),this.gf(!1,!0,d,g.Qw),0===this.ea&&2<this.g||this.tf(),0===this.ea&&2>=this.g&&(this.ea=1,this.ei(g,this.v),this.gf(!1,!1,d,g.Qw),this.ea=0,--this.v)):(this.v+=1,this.tf()),g.lj();this.v<c&&(this.ea?(this.ei(g,this.v),this.gf(f,!0,d,g.Qw),0===this.ea&&2<this.g||this.tf(),0===this.ea&&2>=this.g&&(this.ea=1,this.ei(g,this.v),this.gf(!1,!1,d,g.Qw),this.ea=0,--this.v)):(this.v+=1,this.tf()),g.lj());g.bk&&(this.ea=1)};b.prototype.nn=function(c){var f,d=this.Ld,g=this.Ek,
m=this.ca;this.v=c.v;this.uf=c.uf;this.Bi=c.Bi;if(0!==(this.v&1)){var q=this.Vf;var r=this.Lc;var w=this.Ka;var u=this.oa}else q=this.Lc,r=this.Vf,w=this.oa,u=this.Ka;if(arrayFill)q.sb.fill(0),r.sb.fill(0),this.ca.sb.fill(0),this.M&&this.Zb.sb.fill(0),this.A.sb.fill(0);else{var y=q.length;for(f=0;f<y;f+=1)q[f].set(d),this.ca[f].set(g),this.M&&this.Zb[f].set(g),this.A[f].set(g);Array.pi(q,r)}Array.pi(this.Ga,this.ab);c.NH(q,w,this);c.MH(m,this.Ga,this);this.M&&this.Zb.sb.set(m);Array.pi(w,u);Array.pi(q,
r);this.H.j=c.H.j;this.H.m=c.H.m;this.H.s=c.H.s;this.H.u=c.H.u;this.za.j=c.za.j;this.za.m=c.za.m;this.za.s=c.za.s;this.za.u=c.za.u;this.sa=c.sa;this.lc=c.lc;this.ed=c.ed;this.ea=c.ea};b.prototype.hq=function(){if(0!==(this.v&1)){var c=this.Vf;var f=this.Ka}else c=this.Lc,f=this.oa;this.tn(!1,c,f)};b.prototype.lt=function(c){this.nn(this.Bw);this.Yf.reset();this.rm=k.oq;c||this.hq()};b.prototype.tn=function(c,f,d){var g=this.ca;this.M&&0!==(this.v&1)&&(g=this.Zb);this.Yf.hq(f,d,g,this.Ga,this.Ob,this.H,
this.za,this.sa,this.lc,this.ed,this.v,this.uf,this.Bi,(this.ta-1>>4)+1,this.ya,this,c,this.ea)};b.prototype.UH=function(c){this.Yf.reset();this.tn(!0,this.Lc,this.oa);c||this.hq()};b.prototype.GH=function(){var c=this.Ob,f=this.Z;this.height=this.width=512;this.xa&&this.Ib.resize(this.width,this.height);this.Lc=Array.Y(Uint8,this.height,(this.width-1>>3)+1,0,this.l,"Life.grid");this.Vf=Array.Y(Uint8,this.height,(this.width-1>>3)+1,0,this.l,"Life.nextGrid");this.cb=Array.oc(Uint16,this.Lc,"Life.grid16");
this.Lb=Array.oc(Uint16,this.Vf,"Life.nextGrid16");f&&(this.Z=Array.Y(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Mask"),this.Ad=Array.Y(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Alive"),this.jc=Array.Y(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Cells"));this.ta=this.width>>4;this.ya=this.height>>4;f&&(this.Ff=Array.Y(Uint16,this.ya,(this.ta-1>>4)+1,0,this.l,"Life.state6TileGrid"));this.oa=Array.Y(Uint16,this.ya,(this.ta-1>>4)+1,0,this.l,"Life.tileGrid");
this.Ka=Array.Y(Uint16,this.ya,(this.ta-1>>4)+1,0,this.l,"Life.nextTileGrid");this.ab=Array.Y(Uint16,this.ya,(this.ta-1>>4)+1,0,this.l,"Life.colourTileGrid");this.Ga=Array.Y(Uint16,this.ya,(this.ta-1>>4)+1,0,this.l,"Life.colourTileHistoryGrid");this.Ld=this.l.F(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Fk=this.l.F(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.Ye=this.l.F(Uint16,this.ta>>4,"Life.blankTileRow");this.Ek=this.l.F(Uint8,this.width,"Life.blankColourRow");this.ic=this.l.F(Uint16,
(this.width-1>>4)+1,"Life.columnOccupied16");this.Jg=this.l.F(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.ca=Array.Y(Uint8,this.height,this.width,this.Na,this.l,"Life.colourGrid");this.M?(this.Zb=Array.Y(Uint8,this.height,this.width,this.Na,this.l,"Life.nextColourGrid"),this.tg=Array.oc(Uint16,this.Zb,"Life.nextColourGrid16"),this.Nf=Array.oc(Uint32,this.Zb,"Life.nextColourGrid32")):this.Nf=this.tg=this.Zb=null;this.A=Array.Y(Uint8,this.height,this.width,this.Na,this.l,"Life.smallColourGrid");
this.Oj=Array.oc(Uint16,this.ca,"Life.colourGrid16");this.Xg=Array.oc(Uint32,this.ca,"Life.colourGrid32");c&&(this.Ob=Array.Y(Uint8,this.height,this.width,this.Na,this.l,"Life.overlayGrid"),this.la=Array.Y(Uint8,this.height,this.width,this.Na,this.l,"Life.smallOverlayGrid"),this.kh=Array.oc(Uint16,this.Ob,"Life.overlayGrid16"),this.Pf=Array.oc(Uint32,this.Ob,"Life.overlayGrid32"));this.fb=this.width-1;this.hb=this.height-1;this.Yf.uC((this.ta-1>>4)+1,this.ya,0)};b.prototype.kE=function(){this.height=
this.width=1024;this.Lc=Array.Y(Uint8,this.height,(this.width-1>>3)+1,0,this.l,"Life.grid");this.Vf=Array.Y(Uint8,this.height,(this.width-1>>3)+1,0,this.l,"Life.nextGrid");this.cb=Array.oc(Uint16,this.Lc,"Life.grid16");this.Lb=Array.oc(Uint16,this.Vf,"Life.nextGrid16");this.ta=this.width>>4;this.ya=this.height>>4;this.oa=Array.Y(Uint16,this.ya,(this.ta-1>>4)+1,0,this.l,"Life.tileGrid");this.Ka=Array.Y(Uint16,this.ya,(this.ta-1>>4)+1,0,this.l,"Life.nextTileGrid");this.ab=Array.Y(Uint16,this.ya,(this.ta-
1>>4)+1,0,this.l,"Life.colourTileGrid");this.Ga=Array.Y(Uint16,this.ya,(this.ta-1>>4)+1,0,this.l,"Life.colourTileHistoryGrid");this.Ld=this.l.F(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Fk=this.l.F(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.Ye=this.l.F(Uint16,this.ta>>4,"Life.blankTileRow");this.Ek=this.l.F(Uint8,this.width,"Life.blankColourRow");this.ic=this.l.F(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.Jg=this.l.F(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.ca=
Array.Y(Uint8,this.height,this.width,this.Na,this.l,"Life.colourGrid");this.Oj=Array.oc(Uint16,this.ca,"Life.colourGrid16");this.Xg=Array.oc(Uint32,this.ca,"Life.colourGrid32");this.M?(this.Zb=Array.Y(Uint8,this.height,this.width,this.Na,this.l,"Life.nextColourGrid"),this.tg=Array.oc(Uint16,this.Zb,"Life.nextColourGrid16"),this.Nf=Array.oc(Uint32,this.Zb,"Life.nextColourGrid32")):this.Nf=this.tg=this.Zb=null;this.fb=this.width-1;this.hb=this.height-1};b.prototype.ap=function(){var c=this.Lc,f=this.Vf,
d=this.ca,g=this.Zb,m=this.A,q=this.Ob,r=this.la,w=this.Z,u=this.Ad,y=this.jc,a=this.Pj,h=this.Ff,l=this.oa,v=this.Ka,x=this.ab,t=this.Ga,A=this.height,z=this.ya,B=this.width>>1,C=this.height>>1,D;if(this.width<this.$){this.width*=2;this.height*=2;this.xa&&this.Ib.resize(this.width,this.height);this.Lc=Array.Y(Uint8,this.height,(this.width-1>>3)+1,0,this.l,"Life.grid");this.Vf=Array.Y(Uint8,this.height,(this.width-1>>3)+1,0,this.l,"Life.nextGrid");this.cb=Array.oc(Uint16,this.Lc,"Life.grid16");this.Lb=
Array.oc(Uint16,this.Vf,"Life.nextGrid16");w&&(this.Z=Array.Y(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Mask"),this.Ad=Array.Y(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Alive"),this.jc=Array.Y(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Cells"));this.ta=this.width>>4;this.ya=this.height>>4;w&&(this.Ff=Array.Y(Uint16,this.ya,(this.ta-1>>4)+1,0,this.l,"Life.state6TileGrid"));this.oa=Array.Y(Uint16,this.ya,(this.ta-1>>4)+1,0,this.l,"Life.tileGrid");
this.Ka=Array.Y(Uint16,this.ya,(this.ta-1>>4)+1,0,this.l,"Life.nextTileGrid");this.ab=Array.Y(Uint16,this.ya,(this.ta-1>>4)+1,0,this.l,"Life.colourTileGrid");this.Ga=Array.Y(Uint16,this.ya,(this.ta-1>>4)+1,0,this.l,"Life.colourTileHistoryGrid");this.Ld=this.l.F(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Fk=this.l.F(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.Ye=this.l.F(Uint16,this.ta>>4,"Life.blankTileRow");this.Ek=this.l.F(Uint8,this.width,"Life.blankColourRow");this.ic=this.l.F(Uint16,
(this.width-1>>4)+1,"Life.columnOccupied16");this.Jg=this.l.F(Uint16,(this.width-1>>4)+1,"Life.rowOccupied16");a&&(this.Pj=Array.Y(Uint8,this.height,this.width,k.dg,this.l,"Life.countList"));this.ca=Array.Y(Uint8,this.height,this.width,this.Na,this.l,"Life.colourGrid");this.A=Array.Y(Uint8,this.height,this.width,this.Na,this.l,"Life.smallColourGrid");this.Oj=Array.oc(Uint16,this.ca,"Life.colourGrid16");this.Xg=Array.oc(Uint32,this.ca,"Life.colourGrid32");this.M?(this.Zb=Array.Y(Uint8,this.height,
this.width,this.Na,this.l,"Life.nextColourGrid"),this.tg=Array.oc(Uint16,this.Zb,"Life.nextColourGrid16"),this.Nf=Array.oc(Uint32,this.Zb,"Life.nextColourGrid32")):this.Nf=this.tg=this.Zb=null;q&&(this.Ob=Array.Y(Uint8,this.height,this.width,this.Na,this.l,"Life.overlayGrid"),this.la=Array.Y(Uint8,this.height,this.width,this.Na,this.l,"Life.smallOverlayGrid"),this.kh=Array.oc(Uint16,this.Ob,"Life.overlayGrid16"),this.Pf=Array.oc(Uint32,this.Ob,"Life.overlayGrid32"));this.fb=this.width-1;this.hb=this.height-
1;for(D=0;D<A;D+=1)this.Lc[D+C].set(c[D],B>>3),this.Vf[D+C].set(f[D],B>>3),this.ca[D+C].set(d[D],B),this.A[D+C].set(m[D],B),this.M&&this.Zb[D+C].set(g[D],B),this.Pj&&this.Pj[D+C].set(a[D],B),q&&r&&(this.Ob[D+C].set(q[D],B),this.la[D+C].set(r[D],B)),w&&u&&y&&(this.Z[D+C].set(w[D],B>>4),this.Ad[D+C].set(u[D],B>>4),this.jc[D+C].set(y[D],B>>4));C=z>>1;for(D=0;D<z;D+=1)h&&this.Ff[D+C].set(h[D],this.Ff[D].length>>2),this.oa[D+C].set(l[D],this.oa[D].length>>2),this.Ka[D+C].set(v[D],this.Ka[D].length>>2),
this.ab[D+C].set(x[D],this.ab[D].length>>2),this.Ga[D+C].set(t[D],this.Ga[D].length>>2);B=this.width>>2;C=this.height>>2;this.Yf.uC((this.ta-1>>4)+1,this.ya,B);this.pa+=B;this.ka+=C;this.V&&(this.pa-=C/2|0);this.H.j+=B;this.H.s+=B;this.H.u+=C;this.H.m+=C;this.za.j+=B;this.za.s+=B;this.za.u+=C;this.za.m+=C;this.df.j+=B;this.df.s+=B;this.df.u+=C;this.df.m+=C;this.Ed.j+=B;this.Ed.s+=B;this.Ed.u+=C;this.Ed.m+=C}};b.prototype.CE=function(c,f){var d=this.width,g=this.height,m=!1;d<this.$&&this.ea&&(c.j<=
f||c.m<=f||c.s>=d-f||c.u>=g-f)&&(this.ap(),m=!0);return m};b.prototype.du=function(){var c,f,d=this.Lg;for(c=0;65536>c;c+=1){var g=c;for(f=0;g;f+=1)g&=g-1;d[c]=f}};b.prototype.hu=function(){var c,f,d=this.Ak,g=this.gb;for(c=0;256>c;c+=1)for(f=0;8>f;f+=1)d[(c<<3)+f]=c&1<<7-f?g:0};b.prototype.IH=function(c,f){var d,g=0,m=this.Lg;var q=this.H;var r=q.j,w=q.s,u=q.u;q=q.m;if(this.xa||this.M)for(;q<=u;q+=1){var y=f[q];for(d=r;d<=w;d+=1)0<y[d]&&(g+=1)}else for(r>>=4,w>>=4;q<=u;q+=1)for(y=c[q],d=r;d<=w;d+=
1)f=m[y[d]],g+=f;this.sa=g;this.ed=this.lc=0};b.prototype.tC=function(c,f){var d=this.context;var g=this.Lh?4278190080:255;this.D=c;this.C=f;this.Si=this.Fe=this.Ve=null;this.Ve=d.createImageData(d.canvas.width,d.canvas.height);this.Ve.data.buffer?this.Fe=new Uint32Array(this.Ve.data.buffer):(this.Fe=new Uint32Array(this.Ve.data.length>>2),this.Si=new Uint8Array(this.Fe.buffer));this.bi=this.l.F(Uint32,c,"Life.blankPixelRow");for(f=0;f<c;f+=1)this.bi[f]=g;this.Hs(g)};b.prototype.LE=function(c,f,d){var g,
m,q=this.ca,r=c.width,w=c.height,u=this.fb,y=this.hb,a=this.Rj,h=ViewConstants.Ma[2];for(m=0;m<w;m+=1){var l=c.Uf[m];var v=q[m+d&y];for(g=0;g<r;g+=1)l[g]===h&&(v[g+f&u]=a)}};b.prototype.MF=function(){this.Pf=this.kh=this.la=this.Ob=null};b.prototype.UE=function(){this.Ob=Array.Y(Uint8,this.height,this.width,this.Na,this.l,"Life.overlayGrid");this.la=Array.Y(Uint8,this.height,this.width,this.Na,this.l,"Life.smallOverlayGrid");Array.tw(this.la,1,"Life.smallOverlayGrid4");Array.tw(this.la,3,"Life.smallOverlayGrid8");
Array.tw(this.la,7,"Life.smallOverlayGrid16");this.kh=Array.oc(Uint16,this.Ob,"Life.overlayGrid16");this.Pf=Array.oc(Uint32,this.Ob,"Life.overlayGrid32")};b.prototype.NF=function(){this.Ff=this.jc=this.Ad=this.Z=null};b.prototype.aF=function(){this.Z=Array.Y(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Mask");this.Ad=Array.Y(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Alive");this.jc=Array.Y(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Cells");this.Ff=
Array.Y(Uint16,this.ya,(this.ta-1>>4)+1,0,this.l,"Life.state6TileGrid")};b.prototype.zm=function(){var c,f,d=this.fb,g=this.hb,m=this.Ff,q=ViewConstants.Ma[6]+128;if(arrayFill)this.Z.sb.fill(0),this.jc.sb.fill(0),this.Ad.sb.fill(0);else for(f=0;f<this.Z.length;f+=1)this.Z[f].set(this.Fk),this.jc[f].set(this.Fk),this.Ad[f].set(this.Fk);if(arrayFill)this.Ff.sb.fill(0);else for(f=0;f<this.Ff.length;f+=1)this.Ff[f].set(this.Ye);for(f=1;f<this.height-1;f+=1){var r=this.Ob[f];var w=this.Z[f-1&g];var u=
this.Z[f&g];var y=this.Z[f+1&g];var a=this.jc[f&g];var h=m[(f-1&g)>>4];var l=m[(f&g)>>4];var v=m[(f+1&g)>>4];for(c=1;c<=this.width-1;c+=1)if(r[c]===q){var x=c&d;a[x>>4]|=1<<(~x&15);w[x>>4]|=1<<(~x&15);u[x>>4]|=1<<(~x&15);y[x>>4]|=1<<(~x&15);h[x>>8]|=1<<(~(x>>4)&15);l[x>>8]|=1<<(~(x>>4)&15);v[x>>8]|=1<<(~(x>>4)&15);x=c-1&d;w[x>>4]|=1<<(~x&15);u[x>>4]|=1<<(~x&15);y[x>>4]|=1<<(~x&15);h[x>>8]|=1<<(~(x>>4)&15);l[x>>8]|=1<<(~(x>>4)&15);v[x>>8]|=1<<(~(x>>4)&15);x=c+1&d;w[x>>4]|=1<<(~x&15);u[x>>4]|=1<<(~x&
15);y[x>>4]|=1<<(~x&15);h[x>>8]|=1<<(~(x>>4)&15);l[x>>8]|=1<<(~(x>>4)&15);v[x>>8]|=1<<(~(x>>4)&15)}}};b.prototype.hH=function(c,f,d){var g,m,q=c.width,r=c.height,w=this.fb,u=this.hb,y=this.Ff;for(m=0;m<r;m+=1){var a=c.Uf[m];var h=this.Z[m-1+d&u];var l=this.Z[m+d&u];var v=this.Z[m+1+d&u];var x=this.jc[m+d&u];var t=y[(m-1+d&u)>>4];var A=y[(m+d&u)>>4];var z=y[(m+1+d&u)>>4];for(g=0;g<q;g+=1)if(6===a[g]){var B=g+f&w;x[B>>4]|=1<<(~B&15);h[B>>4]|=1<<(~B&15);l[B>>4]|=1<<(~B&15);v[B>>4]|=1<<(~B&15);t[B>>8]|=
1<<(~(B>>4)&15);A[B>>8]|=1<<(~(B>>4)&15);z[B>>8]|=1<<(~(B>>4)&15);B=g-1+f&w;h[B>>4]|=1<<(~B&15);l[B>>4]|=1<<(~B&15);v[B>>4]|=1<<(~B&15);t[B>>8]|=1<<(~(B>>4)&15);A[B>>8]|=1<<(~(B>>4)&15);z[B>>8]|=1<<(~(B>>4)&15);B=g+1+f&w;h[B>>4]|=1<<(~B&15);l[B>>4]|=1<<(~B&15);v[B>>4]|=1<<(~B&15);t[B>>8]|=1<<(~(B>>4)&15);A[B>>8]|=1<<(~(B>>4)&15);z[B>>8]|=1<<(~(B>>4)&15)}}};b.prototype.pC=function(c){var f,d=this.ca,g=this.Ak;var m=this.H;var q=m.j>>4,r=m.s>>4,w=m.u;m=m.m;if(!this.M)for(f=m;f<=w;f+=1){var u=c[f];var y=
d[f];var a=q<<4;for(m=q;m<=r;m+=1){var h=u[m]>>8<<3;y[a]=g[h];a+=1;y[a]=g[h+1];a+=1;y[a]=g[h+2];a+=1;y[a]=g[h+3];a+=1;y[a]=g[h+4];a+=1;y[a]=g[h+5];a+=1;y[a]=g[h+6];a+=1;y[a]=g[h+7];a+=1;h=(u[m]&255)<<3;y[a]=g[h];a+=1;y[a]=g[h+1];a+=1;y[a]=g[h+2];a+=1;y[a]=g[h+3];a+=1;y[a]=g[h+4];a+=1;y[a]=g[h+5];a+=1;y[a]=g[h+6];a+=1;y[a]=g[h+7];a+=1}}};b.prototype.fi=function(c){var f=[],d,g;for(g=0;7>g;g+=1){var m=[];for(d=0;7>d;d+=1)m[d]=0;f[g]=m}for(g=0;3>g;g+=1)for(d=0;3>d;d+=1)f[g+2][d+2]=c[g][d];return f};
b.prototype.Ft=function(){this.Hj=this.fi(k.WF);this.Gj=this.fi(k.VF);this.Jj=this.fi(k.YF);this.Ij=this.fi(k.XF)};b.prototype.iG=function(c,f,d){var g=this.Na,m=this.Ld,q=this.Ek,r=this.bi,w=this.Ye;var u=this.Lh?4278190080:255;this.Pg=!1;this.fb=this.width-1;this.hb=this.height-1;this.H=new BoundingBox(0,0,this.width-1,this.height-1);this.za=new BoundingBox(0,0,this.width-1,this.height-1);this.df=new BoundingBox(0,0,this.width-1,this.height-1);this.Ed=new BoundingBox(0,0,this.width-1,this.height-
1);this.wn=new BoundingBox(0,0,this.width-1,this.height-1);this.context=c;this.hu();AliasManager.cf();this.tC(f,d);if(arrayFill)m.fill(0),q.fill(g),w.fill(0),r.fill(u);else{d=(this.width-1>>3)+1;for(c=0;c<d;c+=1)m[c]=0;d=this.width;for(c=0;c<d;c+=1)q[c]=g;d=this.ta>>4;for(c=0;c<d;c+=1)w[c]=0;for(c=0;c<f;c+=1)r[c]=u}this.Ft()};b.prototype.QE=function(){var c=0;this.$a[c]=new e("Mono",new p(new n(0,0,0),new n(0,0,0)),new p(new n(255,255,255),new n(255,255,255)),new n(0,0,0),new n(255,255,255),new p(new n(0,
0,0),new n(-1,-1,-1)),new p(new n(0,0,0),new n(0,0,0)),new n(0,0,0));c+=1;this.$a[c]=new e("Blues",new p(new n(0,0,47),new n(0,0,255)),new p(new n(0,255,255),new n(255,255,255)),new n(0,0,0),new n(0,255,255),new p(new n(0,0,255),new n(-1,-1,-1)),new p(new n(0,0,47),new n(0,0,128)),new n(0,0,0));c+=1;this.$a[c]=new e("Fire",new p(new n(32,0,0),new n(160,0,0)),new p(new n(255,144,0),new n(255,255,0)),new n(0,0,0),new n(255,144,0),new p(new n(240,0,0),new n(-1,-1,-1)),new p(new n(32,0,0),new n(160,0,
0)),new n(0,0,0));c+=1;this.$a[c]=new e("Poison",new p(new n(0,24,0),new n(0,128,0)),new p(new n(0,255,255),new n(255,255,255)),new n(0,0,0),new n(0,255,255),new p(new n(0,192,0),new n(-1,-1,-1)),new p(new n(0,24,0),new n(0,128,0)),new n(0,0,0));c+=1;this.$a[c]=new e("Yellow",new p(new n(0,47,0),new n(128,0,128)),new p(new n(255,255,0),new n(255,255,255)),new n(0,32,128),new n(255,255,0),new p(new n(192,64,64),new n(-1,-1,-1)),new p(new n(0,47,0),new n(128,0,128)),new n(0,32,128));c+=1;this.$a[c]=
new e("Gray",new p(new n(16,16,16),new n(104,104,104)),new p(new n(176,176,176),new n(240,240,240)),new n(0,0,0),new n(240,240,240),new p(new n(160,160,160),new n(-1,-1,-1)),new p(new n(16,16,16),new n(104,104,104)),new n(0,0,0));c+=1;this.$a[c]=new e("Inverse",new p(new n(255,255,255),new n(255,255,255)),new p(new n(0,0,0),new n(0,0,0)),new n(255,255,255),new n(0,0,0),new p(new n(255,255,255),new n(-1,-1,-1)),new p(new n(255,255,255),new n(255,255,255)),new n(255,255,255));c+=1;this.$a[c]=new e("Day",
new p(new n(240,240,240),new n(0,255,255)),new p(new n(0,0,255),new n(0,0,0)),new n(255,255,255),new n(0,0,255),new p(new n(0,255,255),new n(-1,-1,-1)),new p(new n(240,240,240),new n(0,192,192)),new n(255,255,255));c+=1;this.$a[c]=new e("Occupied",new p(new n(240,240,240),new n(240,240,240)),new p(new n(240,240,240),new n(240,240,240)),new n(0,0,0),new n(240,240,240),new p(new n(240,240,240),new n(240,240,240)),new p(new n(240,240,240),new n(240,240,240)),new n(0,0,0));c+=1;this.$a[c]=new e("Red",
new p(new n(160,0,0),new n(160,0,0)),new p(new n(240,240,240),new n(240,240,240)),new n(0,0,0),new n(255,255,255),new p(new n(160,160,160),new n(160,160,160)),new p(new n(160,0,0),new n(160,0,0)),new n(0,0,0));c+=1;this.$a[c]=new e("LifeHistory",new p(new n(0,0,96),new n(0,0,160)),new p(new n(0,240,0),new n(16,255,16)),new n(0,0,0),new n(16,255,16),new p(new n(0,128,160),new n(-1,-1,-1)),new p(new n(0,0,96),new n(0,0,160)),new n(0,0,0));c+=1;this.$a[c]=new e("Generations",new p(new n(64,0,0),new n(255,
0,0)),new p(new n(255,255,0),new n(255,255,255)),new n(0,0,0),new n(255,255,0),new p(new n(255,0,0),new n(-1,-1,-1)),new p(new n(64,0,0),new n(128,0,0)),new n(0,0,0));c+=1;this.$a[c]=new e("Golly",new p(new n(48,48,48),new n(48,48,48)),new p(new n(255,255,255),new n(255,255,255)),new n(48,48,48),new n(255,255,0),new p(new n(255,0,0),new n(-1,-1,-1)),new p(new n(48,48,48),new n(48,48,48)),new n(48,48,48));this.$a[c].fo(10,new n(80,80,80),new n(112,112,112));c+=1;this.$a[c]=new e("MCell",new p(new n(0,
0,0),new n(0,0,0)),new p(new n(255,255,0),new n(255,255,0)),new n(0,0,0),new n(255,255,0),new p(new n(0,255,0),new n(255,255,0)),new p(new n(0,0,0),new n(0,0,0)),new n(0,0,0));this.$a[c].fo(5,new n(64,0,0),new n(99,3,1));c+=1;this.$a[c]=new e("Catagolue",new p(new n(160,221,204),new n(160,221,204)),new p(new n(0,0,0),new n(0,0,0)),new n(192,255,238),new n(0,0,0),new p(new n(96,192,139),new n(2,129,2)),new p(new n(160,221,204),new n(160,221,204)),new n(192,255,238));this.$a[c].fo(0,new n(160,221,204),
new n(160,221,204));c+=1;this.$a[c]=new e("Caterer",new p(new n(54,57,62),new n(54,57,62)),new p(new n(255,255,255),new n(255,255,255)),new n(54,57,62),new n(255,170,0),new p(new n(255,85,0),new n(-1,-1,-1)),new p(new n(54,57,62),new n(54,57,62)),new n(54,57,62));this.$a[c].fo(0,new n(0,0,0),new n(0,0,0));c+=1;this.$a[c]=new e("Life32",new p(new n(255,255,255),new n(255,255,255)),new p(new n(0,0,128),new n(0,0,128)),new n(255,255,255),new n(0,0,128),new p(new n(0,0,64),new n(-1,-1,-1)),new p(new n(255,
255,255),new n(255,255,255)),new n(255,255,255));this.$a[c].fo(5,new n(192,192,192),new n(128,128,128));c+=1;this.$a[c]=new e("Margolus",new p(new n(0,0,47),new n(0,0,128)),new p(new n(255,255,0),new n(255,255,255)),new n(0,0,0),new n(255,255,0),new p(new n(64,64,128),new n(-1,-1,-1)),new p(new n(0,0,47),new n(0,0,128)),new n(0,0,0));this.$a[c].fo(2,new n(32,32,255),new n(64,64,128));c+=1;this.$a[c]=new e("PCA",new p(new n(24,24,24),new n(64,64,64)),new p(new n(176,176,176),new n(240,240,240)),new n(0,
0,0),new n(240,240,240),new p(new n(160,160,160),new n(-1,-1,-1)),new p(new n(24,24,24),new n(64,64,64)),new n(0,0,0));this.$a[c+1]=new e(Keywords.oo,new p(new n(0,0,0),new n(0,0,0)),new p(new n(0,0,0),new n(0,0,0)),new n(0,0,0),new n(0,0,0),new p(new n(0,0,0),new n(0,0,0)),new p(new n(0,0,0),new n(0,0,0)),new n(0,0,0));this.pe=this.$a.length-1;this.be=new p(new n(0,0,0),new n(0,0,0));this.nb=new p(new n(0,0,0),new n(0,0,0));this.he=new n(0,0,0);this.hg=new n(0,0,0);this.fe=new p(new n(0,0,0),new n(0,
0,0));this.ye=new p(new n(0,0,0),new n(0,0,0));this.xg=new n(0,0,0);this.Gc=new p(new n(0,0,0),new n(0,0,0));this.Qa=new p(new n(0,0,0),new n(0,0,0));this.Jd=new n(0,0,0);this.qf=new n(0,0,0);this.nd=new p(new n(0,0,0),new n(0,0,0));this.ee=new p(new n(0,0,0),new n(0,0,0));this.Qf=new n(0,0,0)};b.prototype.iI=function(c,f,d){var g=this.$a[c],m=this.qk;this.sf=c;this.be.set(this.Gc);this.nb.set(this.Qa);this.he.set(this.Jd);this.hg.set(this.qf);this.ye.set(this.ee);this.fe.set(this.nd);this.xg.set(this.Qf);
this.Gc.set(g.Ua);this.Qa.set(g.Oa);this.Jd.set(g.Na);this.qf.set(g.Kf);this.ee.set(g.mc);this.nd.set(g.Bb);this.Qf.set(g.Zh);this.Rl=f;this.qk=g.eG(this.ib);m&&!this.qk&&!this.xa&&2>=this.g&&this.Bs();this.Dd=g.Rg;this.Tf=g.Sg;c!==this.pe&&this.Aa?this.bf=2:this.bf=g.gm;this.Lh?(this.dh=-16777216|(this.Dd&255)<<16|(this.Dd>>8&255)<<8|this.Dd>>16,this.Zg=-16777216|(this.Tf&255)<<16|(this.Tf>>8&255)<<8|this.Tf>>16):(this.dh=this.Dd>>16<<24|(this.Dd>>8&255)<<16|(this.Dd&255)<<8|255,this.Zg=this.Tf>>
16<<24|(this.Tf>>8&255)<<16|(this.Tf&255)<<8|255);d.Tz()};b.prototype.Zz=function(){var c=this.br,f=this.Kd,d=this.gb,g=this.Rj,m=this.Cd,q,r=new Uint8Array(256);r[0]=0;r[f+1]=d;for(q=1;q<f+1;q+=1)r[q]=Math.min(Math.max(q-1,g),m),r[q+f+1]=Math.max(Math.min(q+1,f),d);if(0===this.I)for(q=this.gb;q<=this.Kd;q+=1)r[q]=0;else this.I<this.Cd&&(r[this.Cd-this.I]=0);for(q=0;65536>q;q+=1)c[q]=r[q>>8]<<8|r[q&255]};b.prototype.oH=function(){var c;for(c=0;c<this.$a.length;c+=1){var f=this.$a[c];if(f.Mk)if(2>=
this.g)f.Bb.P.set(f.Kf);else{var d=1/(this.g-2);f.Bb.P.red=f.Bb.O.red*d+f.Kf.red*(1-d)|0;f.Bb.P.green=f.Bb.O.green*d+f.Kf.green*(1-d)|0;f.Bb.P.blue=f.Bb.O.blue*d+f.Kf.blue*(1-d)|0}}};b.prototype.$z=function(){var c=(this.Rl-1)/this.Hk;if(!this.ub)if(2<this.g){var f=0;this.Ya[f]=this.xg.red*c+this.Qf.red*(1-c);this.Wa[f]=this.xg.green*c+this.Qf.green*(1-c);this.Va[f]=this.xg.blue*c+this.Qf.blue*(1-c);for(f=1;f<this.g-1;f+=1){var d=3>=this.g?0:(f-1)/(this.g-3);if(this.M&&18<=this.sf)this.Ya[f+this.I]=
k.$u[f][0],this.Wa[f+this.I]=k.$u[f][1],this.Va[f+this.I]=k.$u[f][2];else{var g=this.fe.P.red*d+this.fe.O.red*(1-d);var m=this.nd.P.red*d+this.nd.O.red*(1-d);this.Ya[f+this.I]=g*c+m*(1-c);g=this.fe.P.green*d+this.fe.O.green*(1-d);m=this.nd.P.green*d+this.nd.O.green*(1-d);this.Wa[f+this.I]=g*c+m*(1-c);g=this.fe.P.blue*d+this.fe.O.blue*(1-d);m=this.nd.P.blue*d+this.nd.O.blue*(1-d);this.Va[f+this.I]=g*c+m*(1-c);this.Hb&&this.Hb.length>=f&&(d=this.xa||this.M?this.Hb[f]:this.Hb[this.g-f],-1!==d&&(this.Ya[f+
this.I]=d>>16,this.Wa[f+this.I]=d>>8&255,this.Va[f+this.I]=d&255))}}f=this.g-1;this.Ya[f+this.I]=this.hg.red*c+this.qf.red*(1-c);this.Wa[f+this.I]=this.hg.green*c+this.qf.green*(1-c);this.Va[f+this.I]=this.hg.blue*c+this.qf.blue*(1-c);this.Hb&&this.Hb.length>=f&&(d=this.xa?this.Hb[f]:this.Hb[this.g-f],-1!==d&&(this.Ya[f+this.I]=d>>16,this.Wa[f+this.I]=d>>8&255,this.Va[f+this.I]=d&255));for(f=0;f<this.I;f+=1)d=1<this.I?1-f/(this.I-1):1,g=this.ye.O.red*d+this.ye.P.red*(1-d),m=this.ee.O.red*d+this.ee.P.red*
(1-d),this.Ya[f+1]=g*c+m*(1-c),g=this.ye.O.green*d+this.ye.P.green*(1-d),m=this.ee.O.green*d+this.ee.P.green*(1-d),this.Wa[f+1]=g*c+m*(1-c),g=this.ye.O.blue*d+this.ye.P.blue*(1-d),m=this.ee.O.blue*d+this.ee.P.blue*(1-d),this.Va[f+1]=g*c+m*(1-c);this.Hb&&0<this.Hb.length&&(d=this.Hb[0],-1!==d&&(this.Ya[0]=d>>16,this.Wa[0]=d>>8&255,this.Va[0]=d&255))}else{f=0;this.Ya[f]=this.he.red*c+this.Jd.red*(1-c);this.Wa[f]=this.he.green*c+this.Jd.green*(1-c);this.Va[f]=this.he.blue*c+this.Jd.blue*(1-c);if(0===
this.I)for(f=1;f<=this.Cd;f+=1)this.Ya[f]=this.he.red*c+this.Jd.red*(1-c),this.Wa[f]=this.he.green*c+this.Jd.green*(1-c),this.Va[f]=this.he.blue*c+this.Jd.blue*(1-c);else{var q=this.Cd-this.I+1;for(f=1;f<q;f+=1)this.Ya[f]=this.nb.O.red*c+this.Qa.O.red*(1-c),this.Wa[f]=this.nb.O.green*c+this.Qa.O.green*(1-c),this.Va[f]=this.nb.O.blue*c+this.Qa.O.blue*(1-c);for(f=q;f<=this.Cd;f+=1)d=this.Cd===q?1:1-(f-q)/(this.Cd-q),g=this.nb.O.red*d+this.nb.P.red*(1-d),m=this.Qa.O.red*d+this.Qa.P.red*(1-d),this.Ya[f]=
g*c+m*(1-c),g=this.nb.O.green*d+this.nb.P.green*(1-d),m=this.Qa.O.green*d+this.Qa.P.green*(1-d),this.Wa[f]=g*c+m*(1-c),g=this.nb.O.blue*d+this.nb.P.blue*(1-d),m=this.Qa.O.blue*d+this.Qa.P.blue*(1-d),this.Va[f]=g*c+m*(1-c)}for(f=this.gb;f<=this.Kd;f+=1)d=1-(f-this.gb)/(this.Kd-this.gb),g=this.be.O.red*d+this.be.P.red*(1-d),m=this.Gc.O.red*d+this.Gc.P.red*(1-d),this.Ya[f]=g*c+m*(1-c),g=this.be.O.green*d+this.be.P.green*(1-d),m=this.Gc.O.green*d+this.Gc.P.green*(1-d),this.Wa[f]=g*c+m*(1-c),g=this.be.O.blue*
d+this.be.P.blue*(1-d),m=this.Gc.O.blue*d+this.Gc.P.blue*(1-d),this.Va[f]=g*c+m*(1-c)}};b.prototype.aA=function(c,f){var d=this.Ya,g=this.Wa,m=this.Va,q;for(q=0;q<c.length;q+=1){var r=f&&-1!==f[q]?f[q]:c[q];d[q]=r>>16;g[q]=r>>8&255;m[q]=r&255}this.Rl=0};b.prototype.RE=function(c,f){var d=this.Ya,g=this.Wa,m=this.Va,q=ViewConstants.Ma,r;for(r=0;r<c.length;r+=1)f&&-1!==f[r]?(d[128+q[r]]=f[r]>>16,g[128+q[r]]=f[r]>>8&255,m[128+q[r]]=f[r]&255):(d[128+q[r]]=c[r]>>16,g[128+q[r]]=c[r]>>8&255,m[128+q[r]]=
c[r]&255)};b.prototype.Ee=function(c){var f=this.Ya,d=this.Wa,g=this.Va,m=this.Rh,q=this.Dd,r=this.Tf,w=this.Wg,u=this.V&&this.$d||this.ba,y;if(2<this.g)if(this.Lh)for(y=0;y<=this.g+this.I;y+=1)m[y]=-16777216|g[y]*c<<16|d[y]*c<<8|f[y]*c,u&&(w[y]="#"+(16777216+((f[y]<<16)+(d[y]<<8)+g[y])).toString(16).substr(1));else for(y=0;y<=this.g+this.I;y+=1)m[y]=f[y]*c<<24|d[y]*c<<16|g[y]*c<<8|255,u&&(w[y]="#"+(16777216+((f[y]<<16)+(d[y]<<8)+g[y])).toString(16).substr(1));else if(this.Lh){for(y=0;y<this.gb;y+=
1)m[y]=-16777216|g[y]<<16|d[y]<<8|f[y],u&&(w[y]="#"+(16777216+((f[y]<<16)+(d[y]<<8)+g[y])).toString(16).substr(1));for(y=this.gb;y<=this.Kd;y+=1)m[y]=-16777216|g[y]*c<<16|d[y]*c<<8|f[y]*c,u&&(w[y]="#"+(16777216+((f[y]<<16)+(d[y]<<8)+g[y])).toString(16).substr(1));for(y=this.Kd+1;256>y;y+=1)m[y]=-16777216|g[y]*c<<16|d[y]*c<<8|f[y]*c,u&&(w[y]="#"+(16777216+((f[y]<<16)+(d[y]<<8)+g[y])).toString(16).substr(1))}else{for(y=0;y<this.gb;y+=1)m[y]=f[y]<<24|d[y]<<16|g[y]<<8|255,u&&(w[y]="#"+(16777216+((f[y]<<
16)+(d[y]<<8)+g[y])).toString(16).substr(1));for(y=this.gb;y<=this.Kd;y+=1)m[y]=f[y]*c<<24|d[y]*c<<16|g[y]*c<<8|255,u&&(w[y]="#"+(16777216+((f[y]<<16)+(d[y]<<8)+g[y])).toString(16).substr(1));for(y=this.Kd+1;256>y;y+=1)m[y]=f[y]*c<<24|d[y]*c<<16|g[y]*c<<8|255,u&&(w[y]="#"+(16777216+((f[y]<<16)+(d[y]<<8)+g[y])).toString(16).substr(1))}this.Lh?(this.dh=-16777216|(q&255)<<16|(q>>8&255)<<8|q>>16,this.Zg=-16777216|(r&255)<<16|(r>>8&255)<<8|r>>16):(this.dh=q>>16<<24|(q>>8&255)<<16|(q&255)<<8|255,this.Zg=
r>>16<<24|(r>>8&255)<<16|(r&255)<<8|255);-1!==this.ua&&(y=this.Hc,m[y]=this.Lh?-16777216|g[y]*c<<16|d[y]*c<<8|f[y]*c:f[y]*c<<24|d[y]*c<<16|g[y]*c<<8|255,u&&(w[y]="#"+(16777216+((f[y]<<16)+(d[y]<<8)+g[y])).toString(16).substr(1)))};b.prototype.XH=function(){var c=this.Ya,f=this.Wa,d=this.Va;this.Hc=-1!==this.ua&&256===this.g+this.I?2:255;-1!==this.ua&&256>this.g+this.I&&(c[this.Hc]=128,f[this.Hc]=128,d[this.Hc]=128)};b.prototype.Fo=function(c){var f=this.height,d=this.Lc,g=this.Vf,m=this.ca,q=this.Zb,
r=this.A,w=this.Ob,u=this.la,y=this.oa,a=this.ab,h=this.Ga,l=this.Ka,v=this.Na,x=this.Ld,t=this.Ye,A=this.Ek;if(arrayFill)d.sb.fill(0),g.sb.fill(0),c||(m.sb.fill(v),q&&q.sb.fill(v),r.sb.fill(v),w&&(w.sb.fill(v),u.sb.fill(v)));else for(v=0;v<f;v+=1)d[v].set(x),g[v].set(x),c||(m[v].set(A),q&&q[v].set(A),r[v].set(A),w&&(w[v].set(A),u[v].set(A)));f=this.ya;if(arrayFill)y.sb.fill(0),l.sb.fill(0),c||(a.sb.fill(0),h.sb.fill(0));else for(v=0;v<f;v+=1)y[v].set(t),l[v].set(t),c||(a[v].set(t),h[v].set(t))};
b.prototype.Ri=function(c,f){var d=k.AA,g;for(g=0;g<d;g+=1)c[g]=f[g]};b.prototype.gi=function(c,f){var d=k.Wr,g;for(g=0;g<d;g+=1){var m=f[g>>9&448|g>>6&56|g>>3&7]<<3;m|=f[g>>8&448|g>>5&56|g>>2&7]<<2;m|=f[g>>7&448|g>>4&56|g>>1&7]<<1;m|=f[g>>6&448|g>>3&56|g&7];c[g]=m}};b.prototype.jg=function(c,f,d){if(d){var g=new Uint8Array(16);for(d=0;16>d;d+=1){var m=f[d];g[m]=d}for(d=0;d<k.hm;d+=1)m=(g[d>>12]&1)<<2,m|=(g[d>>8&15]&2)<<2,m|=(g[d>>4&15]&4)>>2,m|=(g[d&15]&8)>>2,c[d]=m}else for(d=0;d<k.hm;d+=1)m=(d>>
12&1)<<2,m|=(d>>8&2)<<2,m|=(d>>4&4)>>2,m|=(d&8)>>2,c[d]=f[m]};b.prototype.xe=function(c,f){var d,g,m,q;for(d=0;d<k.Qk;d+=1){var r=d>>8;var w=d&255;var u=192;var y=6;for(g=q=m=0;4>g;g+=1){var a=0===y?(w&u)<<2|r&u:(w&u)>>y-2|(r&u)>>y;a=(a&8)>>1|(a&4)<<1|(a&2)>>1|(a&1)<<1;a=f[a];a=(a&8)>>1|(a&4)<<1|(a&2)>>1|(a&1)<<1;m<<=2;q<<=2;m|=a>>2&3;q|=a&3;u>>=2;y-=2}c[d]=q<<8|m}};b.prototype.Mb=function(c,f){var d,g=0,m=!0,q=new Uint8Array(16);for(d=0;m&&16>d;){var r=1<<c[d];0!==(g&r)?m=!1:(g|=r,d+=1)}if(m){for(d=
0;16>d;d+=1)g=c[d],q[g]=d;f&&c.set(q)}return m};b.prototype.an=function(c,f){var d;for(d=0;16>d;d+=1)f[d]=c[15-d];for(d=0;16>d;d+=1)c[d]=15-c[d]};b.prototype.II=function(c){var f=this.ba?this.na.Ux:this.na.Ii,d=this.ba?this.na.Qx:this.na.Px,g=this.na.kc,m=this.ba?k.AA:k.fG,q=!1,r,w=null,u=f.length;if(this.kc=g){if(this.Aa||this.M)u=16;var y=0;for(r=!0;y<u&&r;)f[y]!==d[y]?r=!1:y+=1;r&&(this.kc=!1,y=c.Yc.indexOf("|"),-1!==y&&(c.Yc=c.Yc.substr(0,y)),y=c.Xc.indexOf("|"),-1!==y&&(c.Xc=c.Xc.substr(0,y)));
if(this.kc&&(this.Aa||this.M))for(y=0;y<u;y+=1)c=f[y],f[y]=d[y],d[y]=c}this.qd=this.Vc=this.Se=this.pd=this.gh=this.og=this.rf=this.mg=null;if(this.M)this.pd=this.l.F(Uint16,k.hm,"Life.PCALookup1"),g?(this.Se=this.l.F(Uint16,k.hm,"Life.PCALookup2"),this.jg(this.Se,f,!1),this.jg(this.pd,d,!1),this.Mb(f,!1)&&this.Mb(d,!1)&&(this.Vc=this.l.F(Uint16,k.hm,"Life.PCAReverseLookup1"),this.qd=this.l.F(Uint16,k.hm,"Life.PCAReverseLookup2"),this.Mb(d,!1),this.jg(this.Vc,d,!0),this.Mb(f,!1),this.jg(this.qd,f,
!0))):(this.jg(this.pd,f,!1),this.Mb(f,!1)&&(this.Vc=this.l.F(Uint16,k.hm,"Life.PCAsReverseLookup1"),this.jg(this.Vc,f,!0)));else if(this.Aa){this.pd=this.l.F(Uint16,k.Qk,"Life.margolusLookup1");if(15===f[0]&&0===f[15]){g=this.kc=!0;w=new Uint8Array(16);for(y=0;16>y;y+=1)w[y]=f[y];this.an(f,d)}g?(this.Se=this.l.F(Uint16,k.Qk,"Life.margolusLookup2"),this.xe(this.Se,f),this.xe(this.pd,d),w&&this.Mb(w,!0)?(this.Vc=this.l.F(Uint16,k.Qk,"Life.margolusReverseLookup1"),this.qd=this.l.F(Uint16,k.Qk,"Life.margolusReverseLookup2"),
this.an(w,d),this.xe(this.Vc,d),this.xe(this.qd,w)):this.Mb(f,!1)&&this.Mb(d,!1)&&(this.Vc=this.l.F(Uint16,k.Qk,"Life.margolusReverseLookup1"),this.qd=this.l.F(Uint16,k.Qk,"Life.margolusReverseLookup2"),this.Mb(d,!0),this.xe(this.Vc,d),this.Mb(f,!0),this.xe(this.qd,f))):(this.xe(this.pd,f),this.Mb(f,!0)&&(this.Vc=this.l.F(Uint16,k.Qk,"Life.margolusReverseLookup1"),this.xe(this.Vc,f)))}else if(this.ba)this.og=this.l.F(Uint8,k.zA,"Life.indexLookupTri1"),g?(this.gh=this.l.F(Uint8,k.zA,"Life.indexLookupTri2"),
this.Ri(this.gh,f),this.Ri(this.og,d)):this.Ri(this.og,f);else{this.mg=this.l.F(Uint8,k.Wr,"Life.indexLookup63");if(-1===this.Hd&&f[0]){if(!f[m-1]){for(y=0;y<m/2;y+=1)c=f[y],f[y]=f[m-y-1],f[m-y-1]=c;q=!0;this.rf=this.l.F(Uint8,k.Wr,"Life.indexLookup632");this.gi(this.rf,f)}for(y=0;y<m/2;y+=1)c=f[y],f[y]=1-f[m-y-1],f[m-y-1]=1-c}this.kc?(this.rf=this.l.F(Uint8,k.Wr,"Life.indexLookup632"),this.gi(this.rf,f),this.gi(this.mg,d)):(this.gi(this.mg,f),q&&(this.kc=!0))}};b.prototype.od=function(c){var f=0;
0!==(c&32768)?f=0:0!==(c&16384)?f=1:0!==(c&8192)?f=2:0!==(c&4096)?f=3:0!==(c&2048)?f=4:0!==(c&1024)?f=5:0!==(c&512)?f=6:0!==(c&256)?f=7:0!==(c&128)?f=8:0!==(c&64)?f=9:0!==(c&32)?f=10:0!==(c&16)?f=11:0!==(c&8)?f=12:0!==(c&4)?f=13:0!==(c&2)?f=14:0!==(c&1)&&(f=15);return f};b.prototype.rd=function(c){var f=0;0!==(c&1)?f=15:0!==(c&2)?f=14:0!==(c&4)?f=13:0!==(c&8)?f=12:0!==(c&16)?f=11:0!==(c&32)?f=10:0!==(c&64)?f=9:0!==(c&128)?f=8:0!==(c&256)?f=7:0!==(c&512)?f=6:0!==(c&1024)?f=5:0!==(c&2048)?f=4:0!==(c&
4096)?f=3:0!==(c&8192)?f=2:0!==(c&16384)&&(f=1);return f};b.prototype.Lt=function(c){var f=this.Ob,d=this.oa,g=this.width,m=this.height,q,r=this.H.u,w=this.H.m,u=this.H.j,y=this.H.s,a,h;for(a=0;a<m;a+=1){var l=f[a];var v=d[a>>4];for(h=q=0;h<g;h+=1)0!==l[h]&&(v[h>>8]|=1<<(~(h>>4)&15),q|=l[h],h<u&&(u=h),h>y&&(y=h));q&&(a<w&&(w=a),a>r&&(r=a))}c||(this.H.u=r,this.H.m=w,this.H.j=u,this.H.s=y)};b.prototype.Mw=function(){var c,f,d,g=this.cb,m=this.Ka,q=this.oa,r,w=this.ya,u=this.ta>>4,y=this.Ye;var a=0;
var h=a+16;if(arrayFill)q.sb.fill(0);else for(f=0;f<w;f+=1)q[f].set(y);for(f=0;f<w;f+=1){var l=0;var v=m[f];var x=q[f];var t=0<f?q[f-1]:y;var A=f<w-1?q[f+1]:y;v[0]&=32767;v[u-1]&=65534;for(d=0;d<u;d+=1)if(r=v[d]){var z=x[d];var B=t[d];var C=A[d];for(c=15;0<=c;--c){if(0!==(r&1<<c)){var D=!1;var E=0;var H=a;var G=g[H];if(G=G[l])D=!0,0!==(G&32768)&&(E|=k.Td,E|=k.Be),0!==(G&1)&&(E|=k.Dc,E|=k.Ce),E|=k.Md;for(H+=1;H<h-1;){G=g[H];if(G=G[l])D=!0,0!==(G&32768)&&(E|=k.Td),0!==(G&1)&&(E|=k.Dc);H+=1}G=g[H];if(G=
G[l])D=!0,0!==(G&32768)&&(E|=k.Td,E|=k.Me),0!==(G&1)&&(E|=k.Dc,E|=k.bd),E|=k.cd;D&&(z|=1<<c,E&&(0!==(E&k.Td)&&(15>c?z|=1<<c+1:0<d&&(x[d-1]|=1)),0!==(E&k.Dc)&&(0<c?z|=1<<c-1:d<u-1&&(x[d+1]|=32768)),0!==(E&k.Md)&&(B|=1<<c),0!==(E&k.cd)&&(C|=1<<c),0!==(E&k.Be)&&(15>c?B|=1<<c+1:0<d&&(t[d-1]|=1)),0!==(E&k.Ce)&&(0<c?B|=1<<c-1:d<u-1&&(t[d+1]|=32768)),0!==(E&k.Me)&&(15>c?C|=1<<c+1:0<d&&(A[d-1]|=1)),0!==(E&k.bd)&&(0<c?C|=1<<c-1:d<u-1&&(A[d+1]|=32768))))}l+=1}x[d]|=z;0<f&&(t[d]|=B);f<w-1&&(A[d]|=C)}else l+=
16;a+=16;h+=16}if(arrayFill)y.fill(0);else for(f=0;f<y.length;f+=1)y[f]=0};b.prototype.ox=function(){var c,f,d,g=this.cb,m=this.Ka,q=this.ca,r=this.oa,w,u=this.ya,y=this.ta>>4,a=this.Ye;var h=0;var l=h+16;if(arrayFill)r.sb.fill(0);else for(f=0;f<u;f+=1)r[f].set(a);for(f=0;f<u;f+=1){var v=0;var x=m[f];var t=r[f];var A=0<f?r[f-1]:a;var z=f<u-1?r[f+1]:a;x[0]&=32767;x[y-1]&=65534;for(d=0;d<y;d+=1)if(w=x[d]){var B=t[d];var C=A[d];var D=z[d];for(c=15;0<=c;--c){if(0!==(w&1<<c)){var E=!1;var H=0;var G=h;
var K=g[G];var O=q[G];K=K[v];var J=v<<4;0<O[J]&&(K|=32768);J+=1;0<O[J]&&(K|=16384);J+=1;0<O[J]&&(K|=8192);J+=1;0<O[J]&&(K|=4096);J+=1;0<O[J]&&(K|=2048);J+=1;0<O[J]&&(K|=1024);J+=1;0<O[J]&&(K|=512);J+=1;0<O[J]&&(K|=256);J+=1;0<O[J]&&(K|=128);J+=1;0<O[J]&&(K|=64);J+=1;0<O[J]&&(K|=32);J+=1;0<O[J]&&(K|=16);J+=1;0<O[J]&&(K|=8);J+=1;0<O[J]&&(K|=4);J+=1;0<O[J]&&(K|=2);J+=1;0<O[J]&&(K|=1);K&&(E=!0,0!==(K&32768)&&(H|=k.Td,H|=k.Be),0!==(K&1)&&(H|=k.Dc,H|=k.Ce),H|=k.Md);for(G+=1;G<l-1;)K=g[G],O=q[G],K=K[v],
J=v<<4,0<O[J]&&(K|=32768),J+=1,0<O[J]&&(K|=16384),J+=1,0<O[J]&&(K|=8192),J+=1,0<O[J]&&(K|=4096),J+=1,0<O[J]&&(K|=2048),J+=1,0<O[J]&&(K|=1024),J+=1,0<O[J]&&(K|=512),J+=1,0<O[J]&&(K|=256),J+=1,0<O[J]&&(K|=128),J+=1,0<O[J]&&(K|=64),J+=1,0<O[J]&&(K|=32),J+=1,0<O[J]&&(K|=16),J+=1,0<O[J]&&(K|=8),J+=1,0<O[J]&&(K|=4),J+=1,0<O[J]&&(K|=2),J+=1,0<O[J]&&(K|=1),K&&(E=!0,0!==(K&32768)&&(H|=k.Td),0!==(K&1)&&(H|=k.Dc)),G+=1;K=g[G];O=q[G];K=K[v];J=v<<4;0<O[J]&&(K|=32768);J+=1;0<O[J]&&(K|=16384);J+=1;0<O[J]&&(K|=8192);
J+=1;0<O[J]&&(K|=4096);J+=1;0<O[J]&&(K|=2048);J+=1;0<O[J]&&(K|=1024);J+=1;0<O[J]&&(K|=512);J+=1;0<O[J]&&(K|=256);J+=1;0<O[J]&&(K|=128);J+=1;0<O[J]&&(K|=64);J+=1;0<O[J]&&(K|=32);J+=1;0<O[J]&&(K|=16);J+=1;0<O[J]&&(K|=8);J+=1;0<O[J]&&(K|=4);J+=1;0<O[J]&&(K|=2);J+=1;0<O[J]&&(K|=1);K&&(E=!0,0!==(K&32768)&&(H|=k.Td,H|=k.Me),0!==(K&1)&&(H|=k.Dc,H|=k.bd),H|=k.cd);E&&(B|=1<<c,H&&(0!==(H&k.Td)&&(15>c?B|=1<<c+1:0<d&&(t[d-1]|=1)),0!==(H&k.Dc)&&(0<c?B|=1<<c-1:d<y-1&&(t[d+1]|=32768)),0!==(H&k.Md)&&(C|=1<<c),0!==
(H&k.cd)&&(D|=1<<c),0!==(H&k.Be)&&(15>c?C|=1<<c+1:0<d&&(A[d-1]|=1)),0!==(H&k.Ce)&&(0<c?C|=1<<c-1:d<y-1&&(A[d+1]|=32768)),0!==(H&k.Me)&&(15>c?D|=1<<c+1:0<d&&(z[d-1]|=1)),0!==(H&k.bd)&&(0<c?D|=1<<c-1:d<y-1&&(z[d+1]|=32768))))}v+=1}t[d]|=B;0<f&&(A[d]|=C);f<u-1&&(z[d]|=D)}else v+=16;h+=16;l+=16}if(arrayFill)a.fill(0);else for(f=0;f<a.length;f+=1)a[f]=0};b.prototype.Ah=function(){var c,f,d=this.width>>4,g=this.height,m=this.width,q=this.Ob;var r=this.ca;var w=this.H,u=this.za,y=this.df,a=this.height,h=
-1,l=this.width,v=-1,x=this.height,t=-1,A=this.width,z=-1,B,C=this.ic;if(this.bh){this.bh=!1;this.M&&0!==(this.v&1)&&(r=this.Zb);var D=0!==(this.v&1)?this.Lb:this.cb;if(q)for(f=0;f<g;f+=1){var E=q[f];for(c=B=0;c<m;c+=1){var H=E[c];B|=H;H&&(c<A&&(A=c),c>z&&(z=c))}B&&(f<x&&(x=f),f>t&&(t=f))}if(arrayFill)C.fill(0);else for(f=0;f<C.length;f+=1)C[f]=0;if(-1!==this.g)for(f=0;f<g;f+=1){d=r[f];for(c=B=0;c<m;c+=1)H=d[c],B|=H,H&&(c<l&&(l=c),c>v&&(v=c));B&&(f<a&&(a=f),f>h&&(h=f))}else{for(f=0;f<g;f+=1){r=D[f];
for(c=B=0;c<d;c+=1)H=r[c],B|=H,C[c]|=H;B&&(f<a&&(a=f),f>h&&(h=f))}for(c=0;c<d;c+=1)C[c]&&(c<l&&(l=c),c>v&&(v=c));l=(l<<4)+this.od(C[l]);v=(v<<4)+this.rd(C[v])}if(0>h||a>=g||l>=m||0>v)a=h=g>>1,v=l=m>>1;q&&(t<h&&(h=t),x>a&&(a=x),A<l&&(l=A),z>v&&(v=z));h>this.height-1&&(h=this.height-1);0>a&&(a=0);0>l&&(l=0);v>this.width-1&&(v=this.width-1);w.u=h;w.m=a;w.j=l;w.s=v;u.u=h;u.m=a;u.j=l;u.s=v;y.u=h;y.m=a;y.j=l;y.s=v}};b.prototype.Nx=function(c){var f,d,g=this.width>>4,m=this.height,q=this.width,r=this.Ob;
var w=this.ca;var u=this.H,y=this.za,a=this.df,h=this.height,l=-1,v=this.width,x=-1,t=this.height,A=-1,z=this.width,B=-1,C,D=this.ic,E=this.ya,H=this.ab,G=this.Ga,K=this.Ye;if(0!==(this.v&1)){var O=this.Lb;var J=this.Ka;var F=this.oa}else O=this.cb,J=this.oa,F=this.Ka;if(r&&!c)for(d=0;d<m;d+=1){var I=r[d];for(f=C=0;f<q;f+=1){var M=I[f];C|=M;M&&(f<z&&(z=f),f>B&&(B=f))}C&&(d<t&&(t=d),d>A&&(A=d))}if(arrayFill)D.fill(0);else for(d=0;d<D.length;d+=1)D[d]=0;if(arrayFill)F.sb.fill(0);else for(d=0;d<E;d+=
1)F[d].set(K);if(-1!==this.g)for(d=0;d<m;d+=1){g=w[d];for(f=C=0;f<q;f+=1)M=g[f],C|=M,M&&(f<v&&(v=f),f>x&&(x=f));C&&(d<h&&(h=d),d>l&&(l=d))}else{for(d=0;d<m;d+=1){w=O[d];for(f=C=0;f<g;f+=1)M=w[f],C|=M,D[f]|=M;C&&(d<h&&(h=d),d>l&&(l=d))}for(f=0;f<g;f+=1)D[f]&&(f<v&&(v=f),f>x&&(x=f));v=(v<<4)+this.od(D[v]);x=(x<<4)+this.rd(D[x])}if(0>l||h>=m||v>=q||0>x)h=l=m>>1,x=v=q>>1;r&&!c&&(A<l&&(l=A),t>h&&(h=t),z<v&&(v=z),B>x&&(x=B));l>this.height-1&&(l=this.height-1);0>h&&(h=0);0>v&&(v=0);x>this.width-1&&(x=this.width-
1);u.u=l;u.m=h;u.j=v;u.s=x;y.u=l;y.m=h;y.j=v;y.s=x;a.u=l;a.m=h;a.j=v;a.s=x;0<v&&--v;0<h&&--h;x<this.width-1&&(x+=1);l<this.height-1&&(l+=1);M=l>>4;v>>=8;x>>=8;for(d=h>>4;d<=M;d+=1)for(h=F[d],f=v;f<=x;f+=1)h[f]=-1;-1!==this.g?this.ox():this.Mw();r&&(this.Lt(c),a.u=u.u,a.m=u.m,a.j=u.j,a.s=u.s);Array.pi(J,F);Array.pi(J,H);Array.pi(J,G)};b.prototype.up=function(c,f){var d=Math.round((this.width-this.ha)/2),g=Math.round((this.height-this.ma)/2),m=d+this.ha-1,q=g+this.ma-1,r=d-c>>4,w=m+c>>4,u=d-c>>4,y=
m+c>>4,a=~(1<<(~(d-c)&15)),h=~(1<<(~(m+c)&15)),l=this.Lg,v=0;if(!this.M){var x=0!==(this.v&1)?this.Lb:this.cb;var t=x[q+c];var A=x[g-c];if(0===this.ha)for(w=this.width>>4,r=0;r<w;r+=1)v+=l[A[r]],A[r]=0,v+=l[t[r]],t[r]=0;else if(0===this.ma)for(g=0,q=this.height,w=0;w<q;w+=1)t=x[w],t[u]&~a&&(v+=1),t[u]&=a,t[y]&~h&&(v+=1),t[y]&=h;else{for(;r<=w;r+=1)v+=l[A[r]],A[r]=0,v+=l[t[r]],t[r]=0;for(w=g-c+1;w<=q+c-1;w+=1)t=x[w],t[u]&~a&&(v+=1),t[u]&=a,t[y]&~h&&(v+=1),t[y]&=h}f&&(this.sa-=v)}if(-1!==this.g)if(x=
this.ca,this.M&&0!==(this.v&1)&&(x=this.Zb),d-=c,m+=c,q+=c,g-=c,t=x[q],A=x[g],0===this.ha)if(arrayFill)A.fill(0),t.fill(0);else for(r=0;r<this.width;r+=1)A[r]=0,t[r]=0;else if(0===this.ma)for(w=0;w<this.height;w+=1)x[w][d]=0,x[w][m]=0;else{if(arrayFill)A.fill(0,d,m+1),t.fill(0,d,m+1);else for(r=d;r<=m;r+=1)A[r]=0,t[r]=0;for(w=g+1;w<=q-1;w+=1)x[w][d]=0,x[w][m]=0}};b.prototype.Ue=function(c,f,d){var g,m;f-=2;d-=2;var q=0;for(g=!0;g&&q<c.length;){var r=0;for(m=c[q];g&&r<m.length;){var w=m[r];var u=this.ca[d+
q][f+r];u<this.gb&&0===w||u>=this.gb&&1===w||(g=!1);r+=1}q+=1}if(g)for(this.Gp+=1,q=0;q<c.length;q+=1)for(m=c[q],r=0;r<m.length;r+=1)1===m[r]&&this.ah(f+r,d+q,0,!1);return g};b.prototype.ls=function(){var c,f=this.H.j,d=this.H.s,g=this.H.m,m=this.H.u,q=this.ca,r=q[m],w=q[g],u=this.gb;if(-1===this.ua){for(c=f;c<=d;c+=1)w[c]>=u&&(this.Ue(this.Hj,c,g)||this.Ue(this.Gj,c,g)),r[c]>=u&&(this.Ue(this.Jj,c,m-2)||this.Ue(this.Ij,c,m-2));for(c=g;c<=m;c+=1)g=q[c],g[f]>=u&&(this.Ue(this.Hj,f,c)||this.Ue(this.Jj,
f,c-1)),g[d]>=u&&(this.Ue(this.Gj,d-2,c)||this.Ue(this.Ij,d-2,c-1));this.Ah()}};b.prototype.ay=function(){var c=this.ha;var f=this.ma;var d=Math.round((this.width-c)/2-1)>>4,g=Math.round((this.width+c)/2)>>4;var m=Math.round((this.height-f)/2-1)>>4;var q=Math.round((this.height+f)/2)>>4;0===f&&(m=0,q=(this.height>>4)-1);0===c&&(d=0,g=(this.width>>4)-1);0>d&&(d=0);0>m&&(m=0);g>=this.width>>4&&(g=(this.width>>4)-1);q>=this.height>>4&&(q=(this.height>>4)-1);for(f=d;f<=g;f+=1)c=1<<(~f&15),this.oa[m][f>>
4]|=c,this.Ka[m][f>>4]|=c,this.ab[m][f>>4]|=c,this.Ga[m][f>>4]|=c,this.oa[q][f>>4]|=c,this.Ka[q][f>>4]|=c,this.ab[q][f>>4]|=c,this.Ga[q][f>>4]|=c;for(;m<=q;m+=1)c=1<<(~d&15),this.oa[m][d>>4]|=c,this.Ka[m][d>>4]|=c,this.ab[m][d>>4]|=c,this.Ga[m][d>>4]|=c,c=1<<(~g&15),this.oa[m][g>>4]|=c,this.Ka[m][g>>4]|=c,this.ab[m][g>>4]|=c,this.Ga[m][g>>4]|=c};b.prototype.Ru=function(c){var f=this.ha,d=this.ma,g=Math.round((this.width-f)/2),m=Math.round((this.height-d)/2),q=g+f-1,r=m+d-1,w=this.Ol,u=this.Pl,y=this.Ga,
a;0===this.ha&&(g=0,q=this.width-1,f=this.width);0===this.ma&&(m=0,r=this.height-1,d=this.height);if(0!==this.ma)for(a=0;a<f;a+=1){var h=g+a;var l=g+(a+w+f)%f;var v=c[r][h];0!==v&&(c[m-1][l]=v,y[m-1>>4][l>>8]|=1<<(~(l>>4)&15),15===(m-1&15)&&(y[(m-1>>4)+1][l>>8]|=1<<(~(l>>4)&15)));l=g+(a-w+f)%f;v=c[m][h];0!==v&&(c[r+1][l]=v,y[r+1>>4][l>>8]|=1<<(~(l>>4)&15),0===(r+1&15)&&(y[(r+1>>4)-1][l>>8]|=1<<(~(l>>4)&15)))}if(0!==this.ha)for(a=0;a<d;a+=1)h=m+a,l=m+(a-u+d)%d,v=c[h][g],0!==v&&(c[l][q+1]=v,y[l>>4][q+
1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(y[l>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),l=m+(a+u+d)%d,v=c[h][q],0!==v&&(c[l][g-1]=v,y[l>>4][g-1>>8]|=1<<(~(g-1>>4)&15),15===(g-1&15)&&(y[l>>4][g+15>>8]|=1<<(~(g+15>>4)&15)));0!==this.ha&&0!==this.ma&&(v=c[m+(d-1+u+d)%d][g+(-w+f)%f],c[m-1][q+1]=v,v=c[m+(d-1-u+d)%d][g+(f-1-w+f)%f],c[m-1][g-1]=v,v=c[m+(u+d)%d][g+(w+f)%f],c[r+1][q+1]=v,v=c[m+(-u+d)%d][g+(f-1+w+f)%f],c[r+1][g-1]=v)};b.prototype.Au=function(c){var f=this.Ga,d=this.ha,g=this.ma,m=Math.round((this.width-
d)/2),q=Math.round((this.height-g)/2),r=m+d-1,w=q+g-1,u=this.Ol,y=this.Pl,a=this.Zq,h=this.Qu,l;for(l=0;l<d;l+=1){var v=m+l;var x=a?r-(l+u+d)%d:m+(l+u+d)%d;var t=c[w][v];0!==t&&(c[q-1][x]=t,f[q-1>>4][x>>8]|=1<<(~(x>>4)&15),15===(q-1&15)&&(f[(q-1>>4)+1][x>>8]|=1<<(~(x>>4)&15)));x=a?r-(l-u+d)%d:m+(l-u+d)%d;t=c[q][v];0!==t&&(c[w+1][x]=t,f[w+1>>4][x>>8]|=1<<(~(x>>4)&15),0===(w+1&15)&&(f[(w+1>>4)-1][x>>8]|=1<<(~(x>>4)&15)))}for(l=0;l<g;l+=1)v=q+l,x=h?w-(l-y+g)%g:q+(l-y+g)%g,t=c[v][m],0!==t&&(c[x][r+1]=
t,f[x>>4][r+1>>8]|=1<<(~(r+1>>4)&15),0===(r+1&15)&&(f[x>>4][r-15>>8]|=1<<(~(r-15>>4)&15))),x=h?w-(l+y+g)%g:q+(l+y+g)%g,t=c[v][r],0!==t&&(c[x][m-1]=t,f[x>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-1&15)&&(f[x>>4][m+15>>8]|=1<<(~(m+15>>4)&15)));t=c[h?w-(g-1+y+g)%g:q+(g-1+y+g)%g][a?r-(-u+d)%d:m+(-u+d)%d];c[q-1][r+1]=t;t=c[h?w-(g-1+y+g)%g:q+(g-1+y+g)%g][a?r-(d-1-u+d)%d:m+(d-1-u+d)%d];c[q-1][m-1]=t;t=c[h?w-(y+g)%g:q+(y+g)%g][a?r-(u+d)%d:m+(u+d)%d];c[w+1][r+1]=t;t=c[h?w-(y+g)%g:q+(y+g)%g][a?r-(d-1+u+d)%d:m+
(d-1+u+d)%d];c[w+1][m-1]=t};b.prototype.yu=function(c){var f=this.ab,d=Math.round((this.width-this.ha)/2),g=Math.round((this.height-this.ma)/2),m=d+this.ha-1,q=g+this.ma-1,r;for(r=0;r<this.ha;r+=1){var w=d+r;var u=m-r;var y=c[q][w];0!==y&&(c[g-1][u]=y,f[g-1>>4][u>>8]|=1<<(~(u>>4)&15),15===(g-1&15)&&(f[(g-1>>4)+1][u>>8]|=1<<(~(u>>4)&15)));y=c[g][w];0!==y&&(c[q+1][u]=y,f[q+1>>4][u>>8]|=1<<(~(u>>4)&15),0===(q+1&15)&&(f[(q+1>>4)-1][u>>8]|=1<<(~(u>>4)&15)))}for(r=0;r<=this.ma;r+=1)w=g+r,u=q-r,y=c[w][d],
0!==y&&(c[u][m+1]=y,f[u>>4][m+1>>8]|=1<<(~(m+1>>4)&15),0===(m+1&15)&&(f[u>>4][m-15>>8]|=1<<(~(m-15>>4)&15))),y=c[w][m],0!==y&&(c[u][d-1]=y,f[u>>4][d-1>>8]|=1<<(~(d-1>>4)&15),15===(d-1&15)&&(f[u>>4][d+15>>8]|=1<<(~(d+15>>4)&15)));y=c[q][d];c[q+1][d-1]=y;y=c[q][m];c[q+1][m+1]=y;y=c[g][d];c[g-1][d-1]=y;y=c[g][m];c[g-1][m+1]=y};b.prototype.Cu=function(c){var f=this.ab,d=Math.round((this.width-this.ha)/2),g=Math.round((this.height-this.ma)/2),m=d+this.ha-1,q=g+this.ha-1,r;for(r=0;r<this.ha;r+=1){var w=
g+r;var u=d+r;var y=c[w][d];0!==y&&(c[g-1][u]=y,f[g-1>>4][u>>8]|=1<<(~(u>>4)&15),15===(g-1&15)&&(f[(g-1>>4)+1][u>>8]|=1<<(~(u>>4)&15)));y=c[w][m];0!==y&&(c[q+1][u]=y,f[q+1>>4][u>>8]|=1<<(~(u>>4)&15),0===(q+1&15)&&(f[(q+1>>4)-1][u>>8]|=1<<(~(u>>4)&15)));y=c[g][u];0!==y&&(c[w][d-1]=y,f[w>>4][d-1>>8]|=1<<(~(d-1>>4)&15),15===(d-1&15)&&(f[w>>4][d+15>>8]|=1<<(~(d+15>>4)&15)));y=c[q][u];0!==y&&(c[w][m+1]=y,f[w>>4][m+1>>8]|=1<<(~(m+1>>4)&15),0===(m+1&15)&&(f[w>>4][m-15>>8]|=1<<(~(m-15>>4)&15)))}y=c[q][d];
c[q+1][d-1]=y;y=c[q][m];c[q+1][m+1]=y;y=c[g][d];c[g-1][d-1]=y;y=c[g][m];c[g-1][m+1]=y};b.prototype.Pu=function(){var c=this.ab,f=this.ha,d=this.ma,g=Math.round((this.width-f)/2),m=Math.round((this.height-d)/2),q=g+f-1,r=m+d-1,w=this.Ol,u=this.Pl,y=this.ba&&0<g&&q<this.width-1,a;if(0!==(this.v&1)){var h=this.Lb;var l=this.Ka}else h=this.cb,l=this.oa;0===this.ha&&(g=0,q=this.width-1,f=this.width);0===this.ma&&(m=0,r=this.height-1,d=this.height);if(0!==this.ma)for(a=0;a<f;a+=1){var v=g+a;var x=g+(a+
w+f)%f;0!==(h[r][v>>4]&1<<(~v&15))&&(h[m-1][x>>4]|=1<<(~x&15),l[m-1>>4][x>>8]|=1<<(~(x>>4)&15),c[m-1>>4][x>>8]|=1<<(~(x>>4)&15),15===(m-1&15)&&(l[(m-1>>4)+1][x>>8]|=1<<(~(x>>4)&15),c[(m-1>>4)+1][x>>8]|=1<<(~(x>>4)&15)));x=g+(a-w+f)%f;0!==(h[m][v>>4]&1<<(~v&15))&&(h[r+1][x>>4]|=1<<(~x&15),l[r+1>>4][x>>8]|=1<<(~(x>>4)&15),c[r+1>>4][x>>8]|=1<<(~(x>>4)&15),0===(r+1&15)&&(l[(r+1>>4)-1][x>>8]|=1<<(~(x>>4)&15),c[(r+1>>4)-1][x>>8]|=1<<(~(x>>4)&15)))}if(0!==this.ha)for(a=0;a<d;a+=1)v=m+a,x=m+(a-u+d)%d,0!==
(h[v][g>>4]&1<<(~g&15))&&(h[x][q+1>>4]|=1<<(~(q+1)&15),l[x>>4][q+1>>8]|=1<<(~(q+1>>4)&15),c[x>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(l[x>>4][q-15>>8]|=1<<(~(q-15>>4)&15),c[x>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),y&&(g+=1,q+=1,0!==(h[v][g>>4]&1<<(~g&15))&&(h[x][q+1>>4]|=1<<(~(q+1)&15),l[x>>4][q+1>>8]|=1<<(~(q+1>>4)&15),c[x>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(l[x>>4][q-15>>8]|=1<<(~(q-15>>4)&15),c[x>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),--g,--q),x=m+(a+u+d)%d,0!==(h[v][q>>4]&1<<(~q&15))&&
(h[x][g-1>>4]|=1<<(~(g-1)&15),l[x>>4][g-1>>8]|=1<<(~(g-1>>4)&15),c[x>>4][g-1>>8]|=1<<(~(g-1>>4)&15),15===(g-1&15)&&(l[x>>4][g+15>>8]|=1<<(~(g+15>>4)&15),c[x>>4][g+15>>8]|=1<<(~(g+15>>4)&15))),y&&(--g,--q,0!==(h[v][q>>4]&1<<(~q&15))&&(h[x][g-1>>4]|=1<<(~(g-1)&15),l[x>>4][g-1>>8]|=1<<(~(g-1>>4)&15),c[x>>4][g-1>>8]|=1<<(~(g-1>>4)&15),15===(g-1&15)&&(l[x>>4][g+15>>8]|=1<<(~(g+15>>4)&15),c[x>>4][g+15>>8]|=1<<(~(g+15>>4)&15))),g+=1,q+=1);0!==this.ha&&0!==this.ma&&(v=g+(-w+f)%f,h[m-1][q+1>>4]=0!==(h[m+(d-
1+u+d)%d][v>>4]&1<<(~v&15))?h[m-1][q+1>>4]|1<<(~(q+1)&15):h[m-1][q+1>>4]&~(1<<(~(q+1)&15)),v=g+(f-1-w+f)%f,h[m-1][g-1>>4]=0!==(h[m+(d-1-u+d)%d][v>>4]&1<<(~v&15))?h[m-1][g-1>>4]|1<<(~(g-1)&15):h[m-1][g-1>>4]&~(1<<(~(g-1)&15)),v=g+(w+f)%f,h[r+1][q+1>>4]=0!==(h[m+(u+d)%d][v>>4]&1<<(~v&15))?h[r+1][q+1>>4]|1<<(~(q+1)&15):h[r+1][q+1>>4]&~(1<<(~(q+1)&15)),v=g+(f-1+w+f)%f,h[r+1][g-1>>4]=0!==(h[m+(-u+d)%d][v>>4]&1<<(~v&15))?h[r+1][g-1>>4]|1<<(~(g-1)&15):h[r+1][g-1>>4]&~(1<<(~(g-1)&15)))};b.prototype.zu=function(){var c=
this.ab,f=this.ha,d=this.ma,g=Math.round((this.width-f)/2),m=Math.round((this.height-d)/2),q=g+f-1,r=m+d-1,w=this.Ol,u=this.Pl,y=this.Zq,a=this.Qu,h;if(0!==(this.v&1)){var l=this.Lb;var v=this.Ka}else l=this.cb,v=this.oa;for(h=0;h<f;h+=1){var x=g+h;var t=y?q-(h+w+f)%f:g+(h+w+f)%f;0!==(l[r][x>>4]&1<<(~x&15))&&(l[m-1][t>>4]|=1<<(~t&15),v[m-1>>4][t>>8]|=1<<(~(t>>4)&15),c[m-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(m-1&15)&&(v[(m-1>>4)+1][t>>8]|=1<<(~(t>>4)&15),c[(m-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));t=y?q-(h-
w+f)%f:g+(h-w+f)%f;0!==(l[m][x>>4]&1<<(~x&15))&&(l[r+1][t>>4]|=1<<(~t&15),v[r+1>>4][t>>8]|=1<<(~(t>>4)&15),c[r+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(r+1&15)&&(v[(r+1>>4)-1][t>>8]|=1<<(~(t>>4)&15),c[(r+1>>4)-1][t>>8]|=1<<(~(t>>4)&15)))}for(h=0;h<d;h+=1)x=m+h,t=a?r-(h-u+d)%d:m+(h-u+d)%d,0!==(l[x][g>>4]&1<<(~g&15))&&(l[t][q+1>>4]|=1<<(~(q+1)&15),v[t>>4][q+1>>8]|=1<<(~(q+1>>4)&15),c[t>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(v[t>>4][q-15>>8]|=1<<(~(q-15>>4)&15),c[t>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),
t=a?r-(h+u+d)%d:m+(h+u+d)%d,0!==(l[x][q>>4]&1<<(~q&15))&&(l[t][g-1>>4]|=1<<(~(g-1)&15),v[t>>4][g-1>>8]|=1<<(~(g-1>>4)&15),c[t>>4][g-1>>8]|=1<<(~(g-1>>4)&15),15===(g-1&15)&&(v[t>>4][g+15>>8]|=1<<(~(g+15>>4)&15),c[t>>4][g+15>>8]|=1<<(~(g+15>>4)&15)));x=y?q-(-w+f)%f:g+(-w+f)%f;0!==(l[a?r-(d-1+u+d)%d:m+(d-1+u+d)%d][x>>4]&1<<(~x&15))&&(l[m-1][q+1>>4]|=1<<(~(q+1)&15));x=y?q-(f-1-w+f)%f:g+(f-1-w+f)%f;0!==(l[a?r-(d-1+u+d)%d:m+(d-1+u+d)%d][x>>4]&1<<(~x&15))&&(l[m-1][g-1>>4]|=1<<(~(g-1)&15));x=y?q-(w+f)%f:
g+(w+f)%f;0!==(l[a?r-(u+d)%d:m+(u+d)%d][x>>4]&1<<(~x&15))&&(l[r+1][q+1>>4]|=1<<(~(q+1)&15));x=y?q-(f-1+w+f)%f:g+(f-1+w+f)%f;0!==(l[a?r-(u+d)%d:m+(u+d)%d][x>>4]&1<<(~x&15))&&(l[r+1][g-1>>4]|=1<<(~(g-1)&15))};b.prototype.xu=function(){var c=this.ab,f=Math.round((this.width-this.ha)/2),d=Math.round((this.height-this.ma)/2),g=f+this.ha-1,m=d+this.ma-1,q;if(0!==(this.v&1)){var r=this.Lb;var w=this.Ka}else r=this.cb,w=this.oa;for(q=0;q<this.ha;q+=1){var u=f+q;var y=g-q;0!==(r[m][u>>4]&1<<(~u&15))&&(r[d-
1][y>>4]|=1<<(~y&15),w[d-1>>4][y>>8]|=1<<(~(y>>4)&15),c[d-1>>4][y>>8]|=1<<(~(y>>4)&15),15===(d-1&15)&&(w[(d-1>>4)+1][y>>8]|=1<<(~(y>>4)&15),c[(d-1>>4)+1][y>>8]|=1<<(~(y>>4)&15)));0!==(r[d][u>>4]&1<<(~u&15))&&(r[m+1][y>>4]|=1<<(~y&15),w[m+1>>4][y>>8]|=1<<(~(y>>4)&15),c[m+1>>4][y>>8]|=1<<(~(y>>4)&15),0===(m+1&15)&&(w[(m+1>>4)-1][y>>8]|=1<<(~(y>>4)&15),c[(m+1>>4)-1][y>>8]|=1<<(~(y>>4)&15)))}for(q=0;q<=this.ma;q+=1)u=d+q,y=m-q,0!==(r[u][f>>4]&1<<(~f&15))&&(r[y][g+1>>4]|=1<<(~(g+1)&15),w[y>>4][g+1>>8]|=
1<<(~(g+1>>4)&15),c[y>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(w[y>>4][g-15>>8]|=1<<(~(g-15>>4)&15),c[y>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),0!==(r[u][g>>4]&1<<(~g&15))&&(r[y][f-1>>4]|=1<<(~(f-1)&15),w[y>>4][f-1>>8]|=1<<(~(f-1>>4)&15),c[y>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(w[y>>4][f+15>>8]|=1<<(~(f+15>>4)&15),c[y>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==(r[m][f>>4]&1<<(~f&15))&&(r[m+1][f-1>>4]|=1<<(~(f-1)&15));0!==(r[m][g>>4]&1<<(~g&15))&&(r[m+1][g+1>>4]|=1<<(~(g+1)&15));0!==(r[d][f>>
4]&1<<(~f&15))&&(r[d-1][f-1>>4]|=1<<(~(f-1)&15));0!==(r[d][g>>4]&1<<(~g&15))&&(r[d-1][g+1>>4]|=1<<(~(g+1)&15))};b.prototype.St=function(){var c=this.ab,f=Math.round((this.width-this.ha)/2),d=Math.round((this.height-this.ma)/2),g=f+this.ha-1,m=d+this.ha-1,q;if(0!==(this.v&1)){var r=this.Lb;var w=this.Ka}else r=this.cb,w=this.oa;for(q=0;q<this.ha;q+=1){var u=d+q;var y=f+q;0!==(r[u][f>>4]&1<<(~f&15))&&(r[d-1][y>>4]|=1<<(~y&15),w[d-1>>4][y>>8]|=1<<(~(y>>4)&15),c[d-1>>4][y>>8]|=1<<(~(y>>4)&15),15===(d-
1&15)&&(w[(d-1>>4)+1][y>>8]|=1<<(~(y>>4)&15),c[(d-1>>4)+1][y>>8]|=1<<(~(y>>4)&15)));0!==(r[u][g>>4]&1<<(~g&15))&&(r[m+1][y>>4]|=1<<(~y&15),w[m+1>>4][y>>8]|=1<<(~(y>>4)&15),c[m+1>>4][y>>8]|=1<<(~(y>>4)&15),0===(m+1&15)&&(w[(m+1>>4)-1][y>>8]|=1<<(~(y>>4)&15),c[(m+1>>4)-1][y>>8]|=1<<(~(y>>4)&15)));0!==(r[d][y>>4]&1<<(~y&15))&&(r[u][f-1>>4]|=1<<(~(f-1)&15),w[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),c[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(w[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15),c[u>>4][f+15>>8]|=1<<(~(f+
15>>4)&15)));0!==(r[m][y>>4]&1<<(~y&15))&&(r[u][g+1>>4]|=1<<(~(g+1)&15),w[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),c[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(w[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15),c[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15)))}0!==(r[m][f>>4]&1<<(~f&15))&&(r[m+1][f-1>>4]|=1<<(~(f-1)&15));0!==(r[m][g>>4]&1<<(~g&15))&&(r[m+1][g+1>>4]|=1<<(~(g+1)&15));0!==(r[d][f>>4]&1<<(~f&15))&&(r[d-1][f-1>>4]|=1<<(~(f-1)&15));0!==(r[d][g>>4]&1<<(~g&15))&&(r[d-1][g+1>>4]|=1<<(~(g+1)&15))};b.prototype.ru=function(c){var f,
d=1;0!==this.ua&&(d=2);this.ba&&(d+=1);for(f=1;f<=d+1;f+=1)this.up(f,c)};b.prototype.su=function(){var c=this.ca;this.M&&(0!==(this.v&1)&&(c=this.Zb),this.vv(c,0));this.ay();switch(this.ua){case 1:this.M?this.Ru(c):this.Pu();break;case 2:this.M?this.Au(c):this.zu();break;case 3:this.M?this.yu(c):this.xu();break;case 4:this.M?this.Cu(c):this.St()}this.ay()};b.prototype.gf=function(c,f,d,g){this.ub?(this.ea=1,this.v+=1):this.Bu(c,f,d,g)};b.prototype.Bu=function(c,f,d,g){var m=!1,q=this.H,r=this.Ed;
if(!d||g)c=!0;this.v===this.rm-1&&(m=!0,f||(c=!0));-1===this.ua||this.xa||this.su();this.Z&&this.Xx();this.ea&&(this.M?this.ou():this.xa?this.Ib.JG(this.v):c&&2>this.g?this.Aa?this.ku():this.ba?this.qu():this.pu():this.Aa?this.lu():this.ba?this.nu():this.mu());this.v+=1;if(this.Aa||this.M)this.Cc?--this.uf:this.uf+=1,this.uf>this.Bi&&(this.Bi=this.uf);-1===this.g||this.xa||this.M||this.ju();this.Z&&this.Jx();-1===this.ua||this.xa||this.ru(c);this.width===this.$&&(d=this.xa?2*this.Ib.Rc:16,q.j<=d||
q.s>=this.$-d||q.m<=d||q.u>=this.$-d)&&(this.xa?this.xs():this.ss());m&&(this.rm+=k.oq,f||this.hq());q.j<r.j&&(r.j=q.j);q.s>r.s&&(r.s=q.s);q.m<r.m&&(r.m=q.m);q.u>r.u&&(r.u=q.u);this.v<k.cB&&(c?(this.qn(this.sa,this.lc,this.ed),this.sa>this.pb&&(this.pb=this.sa),this.lc>this.pb&&(this.pb=this.lc),this.ed>this.pb&&(this.pb=this.ed)):this.qn(0,0,0))};b.prototype.qn=function(c,f,d){var g=this.v>>k.jl,m=this.v&(1<<k.jl)-1;this.eb&&0<this.eb.length&&(this.v>=this.wg&&(Array.vo(this.eb,"Life.popGraphData"),
Array.vo(this.ig,"Life.birthGraphData"),Array.vo(this.kg,"Life.deathGraphData"),this.wg+=1<<k.jl),this.eb[g][m]=c,this.ig[g][m]=f,this.kg[g][m]=d)};b.prototype.Lj=function(c,f,d,g,m,q,r,w){var u,y=1,a=(1<<k.jl)-1;this.v>d&&(y=d/this.v);if(w){c.strokeStyle=f;c.beginPath();var h=g-r[0]/this.pb*g|0;c.moveTo(0+q+.5,h+m+q+.5)}else c.fillStyle=f;var l=0;for(f=u=1;f<d;f+=1){if(u<k.cB){var v=u>>k.jl;var x=u&a;x=v=r[v][x];l+=y;for(u+=1;0===(l|0);){var t=r[u];u+=1;t>x&&(x=t);t<v&&(v=t);l+=y}--l}else x=v=0;
f<=this.v&&(t=0+q+1+f,h=g-v/this.pb*g|0,w?(c.lineTo(t+.5,h+m+q+.5),v!==x&&(h=g-x/this.pb*g|0,c.lineTo(t+.5,h+m+q+.5))):0<v&&0<x&&(v!==x&&(h=g-x/this.pb*g|0),c.fillRect(t+.5,h+m+q+.5,1,1)))}w&&c.stroke()};b.prototype.Hr=function(c,f,d,g,m){var q=this.context,r=m.i.Pe;m=48*m.i.ai;var w=40*r,u=this.D-w,y=this.C-m-w,a="rgb("+this.xi[0]+","+this.xi[1]+","+this.xi[2]+")",h="rgb("+this.wi[0]+","+this.wi[1]+","+this.wi[2]+")",l="rgb("+this.vi[0]+","+this.vi[1]+","+this.vi[2]+")",v="rgb("+this.yi[0]+","+this.yi[1]+
","+this.yi[2]+")",x="rgb("+this.zi[0]+","+this.zi[1]+","+this.zi[2]+")";if(this.eb&&0<this.eb.length){if(d||g)m=0,y+=2*m;g&&(w=0,u=this.D);var t=u-w;q.save();q.fillStyle=a;q.globalAlpha=f;q.fillRect(0,m,u+w,y);q.globalAlpha=1;d&&(y-=m);if(!g){q.font=(16*r|0)+"px Arial";q.textAlign="center";q.fillStyle="black";for(f=2;0<=f;f-=2)q.save(),q.translate(this.D/2,y+w/2-(6*r|0)),q.fillText("Generation",f,f),q.restore(),q.save(),q.translate(w/2+(6*r|0),this.C/2),q.rotate(-90*Math.PI/180),320>this.C?q.fillText("Pop",
f,f):q.fillText("Population",f,f),q.restore(),q.fillStyle=h;q.fillStyle="black";for(f=2;0<=f;f-=2)q.save(),q.translate(w-w/2+(6*r|0),m+w),q.rotate(-90*Math.PI/180),q.fillText(String(this.pb),f,f),q.restore(),q.save(),q.translate(w-w/2+(6*r|0),y),q.rotate(-90*Math.PI/180),q.fillText("0",f,f),q.restore(),q.save(),q.translate(w,y+w/2-(6*r|0)),q.fillText("0",f,f),q.restore(),q.save(),q.translate(u,y+w/2-(6*r|0)),q.fillText(String(this.v>t?this.v:t|0),f,f),q.restore(),q.fillStyle=h}-1===this.ua&&(this.Lj(q,
x,t,y-m-w,m,w,this.kg,c),this.Lj(q,v,t,y-m-w,m,w,this.ig,c));this.Lj(q,l,t,y-m-w,m,w,this.eb,c);q.strokeStyle=h;q.lineWidth=1;q.beginPath();q.moveTo(w+.5,m+w+.5);q.lineTo(w+.5,y+.5);q.lineTo(u+.5,y+.5);q.lineTo(u+.5,y+2.5);q.moveTo(w+.5,y+.5);q.lineTo(w+.5,y+2.5);q.moveTo(w+.5,y+.5);q.lineTo(w+.5-2,y+.5);q.moveTo(w+.5,m+w+.5);q.lineTo(w+.5-2,m+w+.5);q.stroke();q.restore()}};b.prototype.rC=function(){var c=(1<<k.jl)-1,f;if(this.eb&&0<this.eb.length){for(f=0;f<this.wg;f+=1){var d=f>>k.jl;var g=f&c;
this.eb[d][g]=0;this.ig[d][g]=0;this.kg[d][g]=0}this.eb[0][0]=this.sa}this.pb=this.sa};b.prototype.kt=function(){var c=this.H,f=this.Ed;f.j=c.j;f.s=c.s;f.u=c.u;f.m=c.m};b.prototype.Xx=function(){var c,f,d,g,m=this.Z,q=this.Ad,r=this.jc,w=this.Ff,u=this.ya,y=this.ta>>4,a;var h=0;var l=0!==(this.v&1)?this.Lb:this.cb;for(c=0;c<u;c+=1){var v=0;var x=w[c];for(f=0;f<y;f+=1)if(a=x[f])for(d=15;0<=d;--d){if(0!==(a&1<<d))for(g=h;g<h+16;g+=1)q[g][v]=(l[g][v]|r[g][v])&m[g][v];v+=1}else v+=16;h+=16}};b.prototype.Jx=
function(){var c,f,d,g,m,q=this.Ad,r=this.Ff,w=this.ya,u=this.ta>>4,y;var a=0!==(this.v&1)?this.Lb:this.cb;for(c=m=0;c<w;c+=1){var h=0;var l=r[c];for(f=0;f<u;f+=1)if(y=l[f])for(d=15;0<=d;--d){if(0!==(y&1<<d))for(g=m;g<m+16;g+=1)a[g][h]&=~q[g][h];h+=1}else h+=16;m+=16}};b.prototype.Kj=function(c,f,d){var g,m,q=this.di,r=0,w=this.ce[r],u=this.de[r],y=0,a=k.ht,h=a-1,l=0,v=a,x=this.eq,t=this.fb,A=this.hb;w[y]=c;u[y]=f;y+=1;for(d[f][c>>4]&=~(1<<(~c&15));0<y;)for(--y,y<l&&(--r,l-=a,v-=a,w=this.ce[r],u=
this.de[r]),c=w[y&h],f=u[y&h],m=f-x;m<=f+x;){for(g=c-x;g<=c+x;)g===(g&t)&&m===(m&A)&&0!==(d[m][g>>4]&1<<(~g&15))&&(d[m][g>>4]&=~(1<<(~g&15)),y===v&&(r+=1,l+=a,v+=a,r>q&&(this.ce[r]=this.l.F(Int32,a,"Life.boundaryX"+r),this.de[r]=this.l.F(Int32,a,"Life.boundaryY"+r),this.di=q+=1),w=this.ce[r],u=this.de[r]),w[y&h]=g,u[y&h]=m,y+=1),g+=1;m+=1}};b.prototype.gn=function(c,f,d){for(var g=d[f][c],m=15;0<=m;)0!==(g&1<<m)&&this.Kj((c<<4)+(~m&15),f,d),--m};b.prototype.jv=function(c,f){this.Kj(0,c,f)};b.prototype.Av=
function(c,f,d){this.Kj((c<<4)+15,f,d)};b.prototype.ss=function(){var c;var f=0!==(this.v&1)?this.Lb:this.cb;var d=f.length;var g=f[0].length;var m=f[0];var q=f[d-1];for(c=0;c<g;)m[c]&&this.gn(c,0,f),q[c]&&this.gn(c,d-1,f),c+=1;for(c=0;c<d;)0!==(f[c][0]&32768)&&this.jv(c,f),0!==(f[c][g-1]&1)&&this.Av(g-1,c,f),c+=1};b.prototype.ki=function(c,f){var d,g=this.ca,m,q=this.di,r=0,w=this.ce[r],u=this.de[r],y=0,a=k.ht,h=a-1,l=0,v=a,x=this.fb,t=this.hb,A=2<this.g?0:k.gb,z=2<this.g?0:k.Cd,B=this.eq;w[y]=c;
u[y]=f;y+=1;for(g[f][c]=0;0<y;)for(--y,y<l&&(--r,l-=a,v-=a,w=this.ce[r],u=this.de[r]),c=w[y&h],f=u[y&h],d=f-B;d<=f+B;){var C=c-B;for(m=g[d];C<=c+B;)C===(C&x)&&d===(d&t)&&m[C]>=A&&(m[C]=z,y===v&&(r+=1,l+=a,v+=a,r>q&&(this.ce[r]=this.l.F(Int32,a,"Life.boundaryX"+r),this.de[r]=this.l.F(Int32,a,"Life.boundaryY"+r),this.di=q+=1),w=this.ce[r],u=this.de[r]),w[y&h]=C,u[y&h]=d,y+=1),C+=1;d+=1}};b.prototype.xs=function(){var c=this.ca,f=c.length,d=c[0].length,g=this.H,m=g.j,q=g.s,r=g.m,w=g.u,u=2*this.Ib.Rc+
1,y=2<this.g?0:k.gb,a,h;if(f-w<=u){for(h=f-u;h<=w;h+=1){var l=c[h];for(a=m;a<=q;a+=1)l[a]>=y&&this.ki(a,h)}g.u=f-u}if(r<=u){for(h=r;h<=u;h+=1)for(l=c[h],a=m;a<=q;a+=1)l[a]>=y&&this.ki(a,h);g.m=u}if(m<=u){for(h=r;h<=w;h+=1)for(l=c[h],a=m;a<=u;a+=1)l[a]>=y&&this.ki(a,h);g.j=u}if(d-q<=u){for(h=r;h<=w;h+=1)for(l=c[h],a=d-u;a<=q;a+=1)l[a]>=y&&this.ki(a,h);g.s=d-u}};b.prototype.qu=function(){var c=this.og,f,d,g,m,q,r=this.ic,w,u=this.height,y=this.width,a=y>>4,h=this.H,l=u,v=-1,x=y,t=-1,A=this.ya,z=this.ta>>
4,B=this.Ye;var C=0;var D=A,E=this.Lg,H=0,G=0,K=0;if(0!==(this.v&1)){var O=this.Lb;var J=this.cb;var F=this.Ka;var I=this.oa;this.kc&&(c=this.gh)}else O=this.cb,J=this.Lb,F=this.oa,I=this.Ka;if(arrayFill)r.fill(0);else for(d=0;d<r.length;d+=1)r[d]=0;0>C&&(C=0);D>A&&(D=A);var M=C<<4;var N=M+16;if(arrayFill)I.sb.fill(0);else for(d=C;d<D;d+=1){var R=I[d];for(g=0;g<R.length;g+=1)R[g]=0}for(d=C;d<D;d+=1){var da=0;R=F[d];var W=I[d];var aa=0<d?I[d-1]:B;var S=d<A-1?I[d+1]:B;for(g=0;g<z;g+=1)if(m=R[g]){var Z=
W[g];var ca=aa[g];var U=S[g];for(f=15;0<=f;--f){if(0!==(m&1<<f)){var L=w=0;var P=M;var Q=0===P?this.Ld:O[P-1];var V=O[P];C=O[P+1];var Y=q=V[da];Q=Q[da-1]<<18|Q[da]<<2|Q[da+1]>>14;var T=V[da-1]<<18|q<<2|V[da+1]>>14;var X=C[da-1]<<18|C[da]<<2|C[da+1]>>14;var ea=c[Q>>7&7936|X>>11&224|T>>15&31]<<15;ea|=c[X>>6&7936|Q>>10&224|T>>14&31]<<14;ea|=c[Q>>5&7936|X>>9&224|T>>13&31]<<13;ea|=c[X>>4&7936|Q>>8&224|T>>12&31]<<12;ea|=c[Q>>3&7936|X>>7&224|T>>11&31]<<11;ea|=c[X>>2&7936|Q>>6&224|T>>10&31]<<10;ea|=c[Q>>
1&7936|X>>5&224|T>>9&31]<<9;ea|=c[X>>0&7936|Q>>4&224|T>>8&31]<<8;ea|=c[Q<<1&7936|X>>3&224|T>>7&31]<<7;ea|=c[X<<2&7936|Q>>2&224|T>>6&31]<<6;ea|=c[Q<<3&7936|X>>1&224|T>>5&31]<<5;ea|=c[X<<4&7936|Q>>0&224|T>>4&31]<<4;ea|=c[Q<<5&7936|X<<1&224|T>>3&31]<<3;ea|=c[X<<6&7936|Q<<2&224|T>>2&31]<<2;ea|=c[Q<<7&7936|X<<3&224|T>>1&31]<<1;ea|=c[X<<8&7936|Q<<4&224|T>>0&31]<<0;J[P][da]=ea;H+=E[ea];G+=E[ea&~q];K+=E[q&~ea];ea&&(w|=ea,P<l&&(l=P),P>v&&(v=P),0!==(ea&49152)&&(L|=k.Be),0!==(ea&3)&&(L|=k.Ce),L|=k.Md);for(P+=
1;P<N-1;){q=C[da];Y|=q;C=O[P+1];Q=T;T=X;X=C[da-1]<<18|C[da]<<2|C[da+1]>>14;0!==(P&1)&&(V=Q,Q=X,X=V);ea=c[Q>>7&7936|X>>11&224|T>>15&31]<<15;ea|=c[X>>6&7936|Q>>10&224|T>>14&31]<<14;ea|=c[Q>>5&7936|X>>9&224|T>>13&31]<<13;ea|=c[X>>4&7936|Q>>8&224|T>>12&31]<<12;ea|=c[Q>>3&7936|X>>7&224|T>>11&31]<<11;ea|=c[X>>2&7936|Q>>6&224|T>>10&31]<<10;ea|=c[Q>>1&7936|X>>5&224|T>>9&31]<<9;ea|=c[X>>0&7936|Q>>4&224|T>>8&31]<<8;ea|=c[Q<<1&7936|X>>3&224|T>>7&31]<<7;ea|=c[X<<2&7936|Q>>2&224|T>>6&31]<<6;ea|=c[Q<<3&7936|X>>
1&224|T>>5&31]<<5;ea|=c[X<<4&7936|Q>>0&224|T>>4&31]<<4;ea|=c[Q<<5&7936|X<<1&224|T>>3&31]<<3;ea|=c[X<<6&7936|Q<<2&224|T>>2&31]<<2;ea|=c[Q<<7&7936|X<<3&224|T>>1&31]<<1;ea|=c[X<<8&7936|Q<<4&224|T>>0&31]<<0;H+=E[ea];G+=E[ea&~q];K+=E[q&~ea];0!==(P&1)&&(X=V=Q);if(J[P][da]=ea)w|=ea,P<l&&(l=P),P>v&&(v=P);P+=1}q=C[da];Y|=q;C=P===this.height-1?this.Ld:O[P+1];Q=T;T=X;X=C[da-1]<<18|C[da]<<2|C[da+1]>>14;0!==(P&1)&&(V=Q,Q=X,X=V);ea=c[Q>>7&7936|X>>11&224|T>>15&31]<<15;ea|=c[X>>6&7936|Q>>10&224|T>>14&31]<<14;ea|=
c[Q>>5&7936|X>>9&224|T>>13&31]<<13;ea|=c[X>>4&7936|Q>>8&224|T>>12&31]<<12;ea|=c[Q>>3&7936|X>>7&224|T>>11&31]<<11;ea|=c[X>>2&7936|Q>>6&224|T>>10&31]<<10;ea|=c[Q>>1&7936|X>>5&224|T>>9&31]<<9;ea|=c[X>>0&7936|Q>>4&224|T>>8&31]<<8;ea|=c[Q<<1&7936|X>>3&224|T>>7&31]<<7;ea|=c[X<<2&7936|Q>>2&224|T>>6&31]<<6;ea|=c[Q<<3&7936|X>>1&224|T>>5&31]<<5;ea|=c[X<<4&7936|Q>>0&224|T>>4&31]<<4;ea|=c[Q<<5&7936|X<<1&224|T>>3&31]<<3;ea|=c[X<<6&7936|Q<<2&224|T>>2&31]<<2;ea|=c[Q<<7&7936|X<<3&224|T>>1&31]<<1;ea|=c[X<<8&7936|
Q<<4&224|T>>0&31]<<0;H+=E[ea];G+=E[ea&~q];K+=E[q&~ea];if(J[P][da]=ea)w|=ea,P<l&&(l=P),P>v&&(v=P),0!==(ea&49152)&&(L|=k.Me),0!==(ea&3)&&(L|=k.bd),L|=k.cd;w&&(0!==(w&49152)&&(L|=k.Td),0!==(w&3)&&(L|=k.Dc));r[da]|=w;if(w||Y)Z|=1<<f,L&&(0!==(L&k.Td)&&(15>f?Z|=1<<f+1:0<g&&0<da&&(W[g-1]|=1)),0!==(L&k.Dc)&&(0<f?Z|=1<<f-1:g<z-1&&da<a-1&&(W[g+1]|=32768)),0!==(L&k.Md)&&(ca|=1<<f),0!==(L&k.cd)&&(U|=1<<f),0!==(L&k.Be)&&(15>f?ca|=1<<f+1:0<g&&0<da&&(aa[g-1]|=1)),0!==(L&k.Ce)&&(0<f?ca|=1<<f-1:g<z-1&&da<a-1&&(aa[g+
1]|=32768)),0!==(L&k.Me)&&(15>f?U|=1<<f+1:0<g&&0<da&&(S[g-1]|=1)),0!==(L&k.bd)&&(0<f?U|=1<<f-1:g<z-1&&da<a-1&&(S[g+1]|=32768)))}da+=1}W[g]|=Z;0<d&&(aa[g]|=ca);d<A-1&&(S[g]|=U)}else da+=16;M+=16;N+=16}for(g=0;g<a;g+=1)r[g]&&(g<x&&(x=g),g>t&&(t=g));x=(x<<4)+this.od(r[x]);t=(t<<4)+this.rd(r[t]);0>v&&(v=u-1);l>=u&&(l=0);x>=y&&(x=0);0>t&&(t=y-1);v>u-1&&(v=u-1);0>l&&(l=0);0>x&&(x=0);t>y-1&&(t=y-1);h.u=v;h.m=l;h.j=x;h.s=t;if(arrayFill)B.fill(0);else for(d=0;d<B.length;d+=1)B[d]=0;this.sa=H;this.lc=G;this.ed=
K};b.prototype.ku=function(){var c=this.pd,f,d,g,m,q=this.ic,r,w=this.height,u=this.width,y=u>>4,a=this.H,h=w,l=-1,v=u,x=-1,t=this.ya,A=this.ta>>4,z=this.Ye,B=this.Lg,C=0,D=0,E=0,H=this.v&1;this.$c&&(this.Cc=!this.Cc,this.$c=!1);if(0!==H){var G=this.Lb;var K=this.cb;var O=this.Ka;var J=this.oa;this.Cc&&(c=this.Vc)}else G=this.cb,K=this.Lb,O=this.oa,J=this.Ka,this.kc&&(c=this.Se),this.Cc&&(c=this.kc?this.qd:this.Vc);this.Cc&&(H=1-H);if(arrayFill)q.fill(0);else for(d=0;d<q.length;d+=1)q[d]=0;var F=
1-H;var I=F+16;if(arrayFill)J.sb.fill(0);else for(d=0;d<J.length;d+=1){var M=J[d];for(g=0;g<M.length;g+=1)M[g]=0}for(d=0;d<O.length;d+=1){var N=0;M=O[d];var R=J[d];var da=0<d?J[d-1]:z;var W=d<t-1?J[d+1]:z;for(g=0;g<A;g+=1)if(m=M[g]){var aa=R[g];var S=da[g];var Z=W[g];for(f=15;0<=f;--f){var ca=0===f&&g===A-1?!0:!1;if(0!==(m&1<<f)){var U=r=0;if(0!==H){var L=F;var P=G[L][N];var Q=G[L+1][N];var V=P|Q;var Y=c[P&65280|Q>>8];var T=Y&65280;var X=(Y&255)<<8;Y=c[(P&255)<<8|Q&255];T|=Y>>8;X|=Y&255;K[L][N]=T;
K[L+1][N]=X;C+=B[T];D+=B[T&~P];E+=B[P&~T];C+=B[X];D+=B[X&~Q];E+=B[Q&~X];if(Y=T|X)r|=Y,L<h&&(h=L),L+1>l&&(l=L+1),0!==(Y&49152)&&(U|=k.Be),0!==(Y&3)&&(U|=k.Ce),U|=k.Md;for(L+=2;L<I-2;){P=G[L][N];Q=G[L+1][N];V|=P|Q;Y=c[P&65280|Q>>8];T=Y&65280;X=(Y&255)<<8;Y=c[(P&255)<<8|Q&255];T|=Y>>8;X|=Y&255;K[L][N]=T;K[L+1][N]=X;C+=B[T];D+=B[T&~P];E+=B[P&~T];C+=B[X];D+=B[X&~Q];E+=B[Q&~X];if(Y=T|X)r|=Y,L<h&&(h=L),L+1>l&&(l=L+1);L+=2}P=G[L][N];Q=G[L+1][N];V|=P|Q;Y=c[P&65280|Q>>8];T=Y&65280;X=(Y&255)<<8;Y=c[(P&255)<<
8|Q&255];T|=Y>>8;X|=Y&255;K[L][N]=T;K[L+1][N]=X;C+=B[T];D+=B[T&~P];E+=B[P&~T];C+=B[X];D+=B[X&~Q];E+=B[Q&~X];if(Y=T|X)r|=Y,L<h&&(h=L),L+1>l&&(l=L+1),Y&&(0!==(Y&49152)&&(U|=k.Me),0!==(Y&3)&&(U|=k.bd),U|=k.cd);r&&(0!==(r&49152)&&(U|=k.Td),0!==(r&3)&&(U|=k.Dc),q[N]|=r);if(r||V)U|=k.bd,U|=k.Dc}else{L=F;ca?(P=G[L][N]<<1&65535,Q=G[L+1][N]<<1&65535):(P=(G[L][N]<<1|G[L][N+1]>>15)&65535,Q=(G[L+1][N]<<1|G[L+1][N+1]>>15)&65535);V=P|Q;Y=c[P&65280|Q>>8];T=Y&65280;X=(Y&255)<<8;Y=c[(P&255)<<8|Q&255];T|=Y>>8;X|=Y&
255;ca?(K[L][N]=K[L][N]&32768|T>>1,K[L+1][N]=K[L+1][N]&32768|X>>1):(K[L][N]=K[L][N]&32768|T>>1,K[L][N+1]=K[L][N+1]&32767|(T&1)<<15,K[L+1][N]=K[L+1][N]&32768|X>>1,K[L+1][N+1]=K[L+1][N+1]&32767|(X&1)<<15);C+=B[T];D+=B[T&~P];E+=B[P&~T];C+=B[X];D+=B[X&~Q];E+=B[Q&~X];if(Y=T|X)r|=Y,L<h&&(h=L),L+1>l&&(l=L+1);for(L+=2;L<I-2;){ca?(P=G[L][N]<<1&65535,Q=G[L+1][N]<<1&65535):(P=(G[L][N]<<1|G[L][N+1]>>15)&65535,Q=(G[L+1][N]<<1|G[L+1][N+1]>>15)&65535);V|=P|Q;Y=c[P&65280|Q>>8];T=Y&65280;X=(Y&255)<<8;Y=c[(P&255)<<
8|Q&255];T|=Y>>8;X|=Y&255;ca?(K[L][N]=K[L][N]&32768|T>>1,K[L+1][N]=K[L+1][N]&32768|X>>1):(K[L][N]=K[L][N]&32768|T>>1,K[L][N+1]=K[L][N+1]&32767|(T&1)<<15,K[L+1][N]=K[L+1][N]&32768|X>>1,K[L+1][N+1]=K[L+1][N+1]&32767|(X&1)<<15);C+=B[T];D+=B[T&~P];E+=B[P&~T];C+=B[X];D+=B[X&~Q];E+=B[Q&~X];if(Y=T|X)r|=Y,L<h&&(h=L),L+1>l&&(l=L+1);L+=2}ca?(P=G[L][N]<<1&65535,Q=G[L+1][N]<<1&65535):(P=(G[L][N]<<1|G[L][N+1]>>15)&65535,Q=(G[L+1][N]<<1|G[L+1][N+1]>>15)&65535);V|=P|Q;Y=c[P&65280|Q>>8];T=Y&65280;X=(Y&255)<<8;Y=
c[(P&255)<<8|Q&255];T|=Y>>8;X|=Y&255;ca?(K[L][N]=K[L][N]&32768|T>>1,K[L+1][N]=K[L+1][N]&32768|X>>1):(K[L][N]=K[L][N]&32768|T>>1,K[L][N+1]=K[L][N+1]&32767|(T&1)<<15,K[L+1][N]=K[L+1][N]&32768|X>>1,K[L+1][N+1]=K[L+1][N+1]&32767|(X&1)<<15);C+=B[T];D+=B[T&~P];E+=B[P&~T];C+=B[X];D+=B[X&~Q];E+=B[Q&~X];if(Y=T|X)r|=Y,L<h&&(h=L),L+1>l&&(l=L+1),0!==(Y&3)&&(U|=k.bd),U|=k.cd;P|Q&&(0!==((P|Q)&3)&&(U|=k.bd),U|=k.cd);r&&(0!==(r&3)&&(U|=k.Dc),q[N]|=r>>1,q[N+1]|=(r&1)<<15);0!==(V&3)&&(U|=k.Dc)}if(r||V)aa|=1<<f,U&&
(0!==(U&k.Td)&&(15>f?aa|=1<<f+1:0<g&&0<N&&(R[g-1]|=1)),0!==(U&k.Dc)&&(0<f?aa|=1<<f-1:g<A-1&&N<y-1&&(R[g+1]|=32768)),0!==(U&k.Md)&&(S|=1<<f),0!==(U&k.cd)&&(Z|=1<<f),0!==(U&k.Be)&&(15>f?S|=1<<f+1:0<g&&0<N&&(da[g-1]|=1)),0!==(U&k.Ce)&&(0<f?S|=1<<f-1:g<A-1&&N<y-1&&(da[g+1]|=32768)),0!==(U&k.Me)&&(15>f?Z|=1<<f+1:0<g&&0<N&&(W[g-1]|=1)),0!==(U&k.bd)&&(0<f?Z|=1<<f-1:g<A-1&&N<y-1&&(W[g+1]|=32768)))}N+=1}R[g]|=aa;0<d&&(da[g]|=S);d<t-1&&(W[g]|=Z)}else N+=16;F+=16;I+=16;I>=w&&(I=w-1)}for(g=0;g<y;g+=1)q[g]&&(g<
v&&(v=g),g>x&&(x=g));v=(v<<4)+this.od(q[v]);x=(x<<4)+this.rd(q[x]);0>l&&(l=w-1);h>=w&&(h=0);v>=u&&(v=0);0>x&&(x=u-1);l>w-1&&(l=w-1);0>h&&(h=0);0>v&&(v=0);x>u-1&&(x=u-1);a.u=l;a.m=h;a.j=v;a.s=x;if(arrayFill)z.fill(0);else for(d=0;d<z.length;d+=1)z[d]=0;this.sa=C;this.lc=D;this.ed=E};b.prototype.lu=function(){var c=this.pd,f,d,g,m,q=this.ic,r,w=this.height,u=this.width,y=u>>4,a=this.H,h=w,l=-1,v=u,x=-1,t=this.ya,A=this.ta>>4,z=this.Ye,B=this.v&1;this.$c&&(this.Cc=!this.Cc,this.$c=!1);if(0!==B){var C=
this.Lb;var D=this.cb;var E=this.Ka;var H=this.oa;this.Cc&&(c=this.Vc)}else C=this.cb,D=this.Lb,E=this.oa,H=this.Ka,this.kc&&(c=this.Se),this.Cc&&(c=this.kc?this.qd:this.Vc);this.Cc&&(B=1-B);if(arrayFill)q.fill(0);else for(d=0;d<q.length;d+=1)q[d]=0;var G=1-B;var K=G+16;if(arrayFill)H.sb.fill(0);else for(d=0;d<H.length;d+=1){var O=H[d];for(g=0;g<O.length;g+=1)O[g]=0}for(d=0;d<E.length;d+=1){var J=0;O=E[d];var F=H[d];var I=0<d?H[d-1]:z;var M=d<t-1?H[d+1]:z;for(g=0;g<A;g+=1)if(m=O[g]){var N=F[g];var R=
I[g];var da=M[g];for(f=15;0<=f;--f){var W=0===f&&g===A-1?!0:!1;if(0!==(m&1<<f)){var aa=r=0;if(0!==B){var S=G;var Z=0;var ca=C[S][J];var U=C[S+1][J];Z|=ca|U;var L=c[ca&65280|U>>8];var P=L&65280;var Q=(L&255)<<8;L=c[(ca&255)<<8|U&255];P|=L>>8;Q|=L&255;D[S][J]=P;D[S+1][J]=Q;if(L=P|Q)r|=L,S<h&&(h=S),S+1>l&&(l=S+1),L&&(0!==(L&49152)&&(aa|=k.Be),0!==(L&3)&&(aa|=k.Ce),aa|=k.Md);for(S+=2;S<K-2;){ca=C[S][J];U=C[S+1][J];Z|=ca|U;L=c[ca&65280|U>>8];P=L&65280;Q=(L&255)<<8;L=c[(ca&255)<<8|U&255];P|=L>>8;Q|=L&255;
D[S][J]=P;D[S+1][J]=Q;if(L=P|Q)r|=L,S<h&&(h=S),S+1>l&&(l=S+1);S+=2}ca=C[S][J];U=C[S+1][J];Z|=ca|U;L=c[ca&65280|U>>8];P=L&65280;Q=(L&255)<<8;L=c[(ca&255)<<8|U&255];P|=L>>8;Q|=L&255;D[S][J]=P;D[S+1][J]=Q;if(L=P|Q)r|=L,S<h&&(h=S),S+1>l&&(l=S+1),L&&(0!==(L&49152)&&(aa|=k.Me),0!==(L&3)&&(aa|=k.bd),aa|=k.cd);r&&(0!==(r&49152)&&(aa|=k.Td),0!==(r&3)&&(aa|=k.Dc),q[J]|=r);if(r||Z)aa|=k.bd,aa|=k.Dc}else{S=G;Z=0;W?(ca=C[S][J]<<1&65535,U=C[S+1][J]<<1&65535):(ca=(C[S][J]<<1|C[S][J+1]>>15)&65535,U=(C[S+1][J]<<1|
C[S+1][J+1]>>15)&65535);Z|=ca|U;L=c[ca&65280|U>>8];P=L&65280;Q=(L&255)<<8;L=c[(ca&255)<<8|U&255];P|=L>>8;Q|=L&255;W?(D[S][J]=D[S][J]&32768|P>>1,D[S+1][J]=D[S+1][J]&32768|Q>>1):(D[S][J]=D[S][J]&32768|P>>1,D[S][J+1]=D[S][J+1]&32767|(P&1)<<15,D[S+1][J]=D[S+1][J]&32768|Q>>1,D[S+1][J+1]=D[S+1][J+1]&32767|(Q&1)<<15);if(L=P|Q)r|=L,S<h&&(h=S),S+1>l&&(l=S+1);for(S+=2;S<K-2;){W?(ca=C[S][J]<<1&65535,U=C[S+1][J]<<1&65535):(ca=(C[S][J]<<1|C[S][J+1]>>15)&65535,U=(C[S+1][J]<<1|C[S+1][J+1]>>15)&65535);Z|=ca|U;L=
c[ca&65280|U>>8];P=L&65280;Q=(L&255)<<8;L=c[(ca&255)<<8|U&255];P|=L>>8;Q|=L&255;W?(D[S][J]=D[S][J]&32768|P>>1,D[S+1][J]=D[S+1][J]&32768|Q>>1):(D[S][J]=D[S][J]&32768|P>>1,D[S][J+1]=D[S][J+1]&32767|(P&1)<<15,D[S+1][J]=D[S+1][J]&32768|Q>>1,D[S+1][J+1]=D[S+1][J+1]&32767|(Q&1)<<15);if(L=P|Q)r|=L,S<h&&(h=S),S+1>l&&(l=S+1);S+=2}W?(ca=C[S][J]<<1&65535,U=C[S+1][J]<<1&65535):(ca=(C[S][J]<<1|C[S][J+1]>>15)&65535,U=(C[S+1][J]<<1|C[S+1][J+1]>>15)&65535);Z|=ca|U;L=c[ca&65280|U>>8];P=L&65280;Q=(L&255)<<8;L=c[(ca&
255)<<8|U&255];P|=L>>8;Q|=L&255;W?(D[S][J]=D[S][J]&32768|P>>1,D[S+1][J]=D[S+1][J]&32768|Q>>1):(D[S][J]=D[S][J]&32768|P>>1,D[S][J+1]=D[S][J+1]&32767|(P&1)<<15,D[S+1][J]=D[S+1][J]&32768|Q>>1,D[S+1][J+1]=D[S+1][J+1]&32767|(Q&1)<<15);if(L=P|Q)r|=L,S<h&&(h=S),S+1>l&&(l=S+1),0!==(L&3)&&(aa|=k.bd),aa|=k.cd;ca|U&&(0!==((ca|U)&3)&&(aa|=k.bd),aa|=k.cd);r&&(0!==(r&3)&&(aa|=k.Dc),q[J]|=r>>1,q[J+1]|=(r&1)<<15);0!==(Z&1)&&(aa|=k.Dc)}if(r||Z)N|=1<<f,aa&&(0!==(aa&k.Td)&&(15>f?N|=1<<f+1:0<g&&0<J&&(F[g-1]|=1)),0!==
(aa&k.Dc)&&(0<f?N|=1<<f-1:g<A-1&&J<y-1&&(F[g+1]|=32768)),0!==(aa&k.Md)&&(R|=1<<f),0!==(aa&k.cd)&&(da|=1<<f),0!==(aa&k.Be)&&(15>f?R|=1<<f+1:0<g&&0<J&&(I[g-1]|=1)),0!==(aa&k.Ce)&&(0<f?R|=1<<f-1:g<A-1&&J<y-1&&(I[g+1]|=32768)),0!==(aa&k.Me)&&(15>f?da|=1<<f+1:0<g&&0<J&&(M[g-1]|=1)),0!==(aa&k.bd)&&(0<f?da|=1<<f-1:g<A-1&&J<y-1&&(M[g+1]|=32768)))}J+=1}F[g]|=N;0<d&&(I[g]|=R);d<t-1&&(M[g]|=da)}else J+=16;G+=16;K+=16;K>=w&&(K=w-1)}for(g=0;g<y;g+=1)q[g]&&(g<v&&(v=g),g>x&&(x=g));v=(v<<4)+this.od(q[v]);x=(x<<4)+
this.rd(q[x]);0>l&&(l=w-1);h>=w&&(h=0);v>=u&&(v=0);0>x&&(x=u-1);l>w-1&&(l=w-1);0>h&&(h=0);0>v&&(v=0);x>u-1&&(x=u-1);a.u=l;a.m=h;a.j=v;a.s=x;if(arrayFill)z.fill(0);else for(d=0;d<z.length;d+=1)z[d]=0};b.prototype.nu=function(){var c=this.og,f,d,g,m,q=this.ic,r,w=this.height,u=this.width,y=u>>4,a=this.H,h=w,l=-1,v=u,x=-1,t=this.ya,A=this.ta>>4,z=this.Ye;var B=0;var C=t;if(0!==(this.v&1)){var D=this.Lb;var E=this.cb;var H=this.Ka;var G=this.oa;this.kc&&(c=this.gh)}else D=this.cb,E=this.Lb,H=this.oa,
G=this.Ka;if(arrayFill)q.fill(0);else for(d=0;d<q.length;d+=1)q[d]=0;0>B&&(B=0);C>t&&(C=t);var K=B<<4;var O=K+16;if(arrayFill)G.sb.fill(0);else for(d=B;d<C;d+=1){var J=G[d];for(g=0;g<J.length;g+=1)J[g]=0}for(d=B;d<C;d+=1){var F=0;J=H[d];var I=G[d];var M=0<d?G[d-1]:z;var N=d<t-1?G[d+1]:z;for(g=0;g<A;g+=1)if(m=J[g]){var R=I[g];var da=M[g];var W=N[g];for(f=15;0<=f;--f){if(0!==(m&1<<f)){var aa=r=0;var S=K;var Z=0===S?this.Ld:D[S-1];var ca=D[S];B=D[S+1];var U=ca[F];Z=Z[F-1]<<18|Z[F]<<2|Z[F+1]>>14;var L=
ca[F-1]<<18|U<<2|ca[F+1]>>14;var P=B[F-1]<<18|B[F]<<2|B[F+1]>>14;var Q=c[Z>>7&7936|P>>11&224|L>>15&31]<<15;Q|=c[P>>6&7936|Z>>10&224|L>>14&31]<<14;Q|=c[Z>>5&7936|P>>9&224|L>>13&31]<<13;Q|=c[P>>4&7936|Z>>8&224|L>>12&31]<<12;Q|=c[Z>>3&7936|P>>7&224|L>>11&31]<<11;Q|=c[P>>2&7936|Z>>6&224|L>>10&31]<<10;Q|=c[Z>>1&7936|P>>5&224|L>>9&31]<<9;Q|=c[P>>0&7936|Z>>4&224|L>>8&31]<<8;Q|=c[Z<<1&7936|P>>3&224|L>>7&31]<<7;Q|=c[P<<2&7936|Z>>2&224|L>>6&31]<<6;Q|=c[Z<<3&7936|P>>1&224|L>>5&31]<<5;Q|=c[P<<4&7936|Z>>0&224|
L>>4&31]<<4;Q|=c[Z<<5&7936|P<<1&224|L>>3&31]<<3;Q|=c[P<<6&7936|Z<<2&224|L>>2&31]<<2;Q|=c[Z<<7&7936|P<<3&224|L>>1&31]<<1;Q|=c[P<<8&7936|Z<<4&224|L>>0&31]<<0;if(E[S][F]=Q)r|=Q,S<h&&(h=S),S>l&&(l=S),0!==(Q&49152)&&(aa|=k.Be),0!==(Q&3)&&(aa|=k.Ce),aa|=k.Md;for(S+=1;S<O-1;){U|=B[F];B=D[S+1];Z=L;L=P;P=B[F-1]<<18|B[F]<<2|B[F+1]>>14;0!==(S&1)&&(ca=Z,Z=P,P=ca);Q=c[Z>>7&7936|P>>11&224|L>>15&31]<<15;Q|=c[P>>6&7936|Z>>10&224|L>>14&31]<<14;Q|=c[Z>>5&7936|P>>9&224|L>>13&31]<<13;Q|=c[P>>4&7936|Z>>8&224|L>>12&31]<<
12;Q|=c[Z>>3&7936|P>>7&224|L>>11&31]<<11;Q|=c[P>>2&7936|Z>>6&224|L>>10&31]<<10;Q|=c[Z>>1&7936|P>>5&224|L>>9&31]<<9;Q|=c[P>>0&7936|Z>>4&224|L>>8&31]<<8;Q|=c[Z<<1&7936|P>>3&224|L>>7&31]<<7;Q|=c[P<<2&7936|Z>>2&224|L>>6&31]<<6;Q|=c[Z<<3&7936|P>>1&224|L>>5&31]<<5;Q|=c[P<<4&7936|Z>>0&224|L>>4&31]<<4;Q|=c[Z<<5&7936|P<<1&224|L>>3&31]<<3;Q|=c[P<<6&7936|Z<<2&224|L>>2&31]<<2;Q|=c[Z<<7&7936|P<<3&224|L>>1&31]<<1;Q|=c[P<<8&7936|Z<<4&224|L>>0&31]<<0;0!==(S&1)&&(P=ca=Z);if(E[S][F]=Q)r|=Q,S<h&&(h=S),S>l&&(l=S);S+=
1}U|=B[F];B=S===this.height-1?this.Ld:D[S+1];Z=L;L=P;P=B[F-1]<<18|B[F]<<2|B[F+1]>>14;0!==(S&1)&&(ca=Z,Z=P,P=ca);Q=c[Z>>7&7936|P>>11&224|L>>15&31]<<15;Q|=c[P>>6&7936|Z>>10&224|L>>14&31]<<14;Q|=c[Z>>5&7936|P>>9&224|L>>13&31]<<13;Q|=c[P>>4&7936|Z>>8&224|L>>12&31]<<12;Q|=c[Z>>3&7936|P>>7&224|L>>11&31]<<11;Q|=c[P>>2&7936|Z>>6&224|L>>10&31]<<10;Q|=c[Z>>1&7936|P>>5&224|L>>9&31]<<9;Q|=c[P>>0&7936|Z>>4&224|L>>8&31]<<8;Q|=c[Z<<1&7936|P>>3&224|L>>7&31]<<7;Q|=c[P<<2&7936|Z>>2&224|L>>6&31]<<6;Q|=c[Z<<3&7936|P>>
1&224|L>>5&31]<<5;Q|=c[P<<4&7936|Z>>0&224|L>>4&31]<<4;Q|=c[Z<<5&7936|P<<1&224|L>>3&31]<<3;Q|=c[P<<6&7936|Z<<2&224|L>>2&31]<<2;Q|=c[Z<<7&7936|P<<3&224|L>>1&31]<<1;Q|=c[P<<8&7936|Z<<4&224|L>>0&31]<<0;if(E[S][F]=Q)r|=Q,S<h&&(h=S),S>l&&(l=S),0!==(Q&49152)&&(aa|=k.Me),0!==(Q&3)&&(aa|=k.bd),aa|=k.cd;r&&(0!==(r&49152)&&(aa|=k.Td),0!==(r&3)&&(aa|=k.Dc));q[F]|=r;if(r||U)R|=1<<f,aa&&(0!==(aa&k.Td)&&(15>f?R|=1<<f+1:0<g&&0<F&&(I[g-1]|=1)),0!==(aa&k.Dc)&&(0<f?R|=1<<f-1:g<A-1&&F<y-1&&(I[g+1]|=32768)),0!==(aa&k.Md)&&
(da|=1<<f),0!==(aa&k.cd)&&(W|=1<<f),0!==(aa&k.Be)&&(15>f?da|=1<<f+1:0<g&&0<F&&(M[g-1]|=1)),0!==(aa&k.Ce)&&(0<f?da|=1<<f-1:g<A-1&&F<y-1&&(M[g+1]|=32768)),0!==(aa&k.Me)&&(15>f?W|=1<<f+1:0<g&&0<F&&(N[g-1]|=1)),0!==(aa&k.bd)&&(0<f?W|=1<<f-1:g<A-1&&F<y-1&&(N[g+1]|=32768)))}F+=1}I[g]|=R;0<d&&(M[g]|=da);d<t-1&&(N[g]|=W)}else F+=16;K+=16;O+=16}for(g=0;g<y;g+=1)q[g]&&(g<v&&(v=g),g>x&&(x=g));v=(v<<4)+this.od(q[v]);x=(x<<4)+this.rd(q[x]);0>l&&(l=w-1);h>=w&&(h=0);v>=u&&(v=0);0>x&&(x=u-1);l>w-1&&(l=w-1);0>h&&
(h=0);0>v&&(v=0);x>u-1&&(x=u-1);a.u=l;a.m=h;a.j=v;a.s=x;if(arrayFill)z.fill(0);else for(d=0;d<z.length;d+=1)z[d]=0};b.prototype.pu=function(){var c=this.mg,f,d,g,m,q,r,w=this.ic,u,y=this.Jg,a,h=this.Lg,l=0,v=0,x=0,t=this.height,A=this.width,z=A>>4,B=this.H,C=t,D=-1,E=A,H=-1,G=this.ya,K=this.ta>>4,O=this.Ye;if(0!==(this.v&1)){var J=this.Lb;var F=this.cb;var I=this.Ka;var M=this.oa;this.kc&&(c=this.rf)}else J=this.cb,F=this.Lb,I=this.oa,M=this.Ka;if(arrayFill)w.fill(0);else for(f=0;f<w.length;f+=1)w[f]=
0;if(arrayFill)y.fill(0);else for(f=0;f<y.length;f+=1)y[f]=0;var N=0;var R=N+16;if(arrayFill)M.sb.fill(0);else for(g=0;g<M.length;g+=1){var da=M[g];for(m=0;m<da.length;m+=1)da[m]=0}for(g=0;g<I.length;g+=1){var W=0;da=I[g];var aa=M[g];var S=0<g?M[g-1]:O;var Z=g<G-1?M[g+1]:O;for(m=0;m<K;m+=1)if(q=da[m]){var ca=aa[m];var U=S[m];var L=Z[m];for(f=15;0<=f;--f){if(0!==(q&1<<f)){var P=a=u=0;var Q=N;var V=32768;var Y=0===Q?this.Ld:J[Q-1];var T=J[Q];var X=J[Q+1];var ea=r=T[W];if(W)if(W>=z-1){Y=(Y[W-1]&1)<<
17|Y[W]<<1;T=(T[W-1]&1)<<17|r<<1;var ba=(X[W-1]&1)<<17|X[W]<<1;if(d=Y|T|ba)if(d=c[Y>>12|T>>12<<6|ba&258048]<<12,d|=c[Y>>8&63|T>>2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&4032|ba<<8&258048]<<4,d|=c[Y&63|(T&63)<<6|(ba&63)<<12])u|=d,a|=V,l+=h[d],0!==(d&32768)&&(P|=k.Be),P|=k.Md;F[Q][W]=d;d|r&&(v+=h[d&~r],x+=h[r&~d]);Q+=1;for(V>>=1;Q<R-1;){r=X[W];ea|=r;X=J[Q+1];Y=T;T=ba;ba=(X[W-1]&1)<<17|X[W]<<1;if(d=Y|T|ba)if(d=c[Y>>12|T>>12<<6|ba&258048]<<12,d|=c[Y>>8&63|T>>2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&
4032|ba<<8&258048]<<4,d|=c[Y&63|(T&63)<<6|(ba&63)<<12])u|=d,a|=V,l+=h[d];F[Q][W]=d;d|r&&(v+=h[d&~r],x+=h[r&~d]);Q+=1;V>>=1}r=X[W];ea|=r;X=Q===this.height-1?this.Ld:J[Q+1];Y=T;T=ba;ba=(X[W-1]&1)<<17|X[W]<<1;if(d=Y|T|ba)if(d=c[Y>>12|T>>12<<6|ba&258048]<<12,d|=c[Y>>8&63|T>>2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&4032|ba<<8&258048]<<4,d|=c[Y&63|(T&63)<<6|(ba&63)<<12])u|=d,a|=V,l+=h[d],0!==(d&32768)&&(P|=k.Me),P|=k.cd}else{Y=(Y[W-1]&1)<<17|Y[W]<<1|Y[W+1]>>15;T=(T[W-1]&1)<<17|r<<1|T[W+1]>>15;ba=(X[W-
1]&1)<<17|X[W]<<1|X[W+1]>>15;if(d=Y|T|ba)if(d=c[Y>>12|T>>12<<6|ba&258048]<<12,d|=c[Y>>8&63|T>>2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&4032|ba<<8&258048]<<4,d|=c[Y&63|(T&63)<<6|(ba&63)<<12])u|=d,a|=V,l+=h[d],0!==(d&32768)&&(P|=k.Be),0!==(d&1)&&(P|=k.Ce),P|=k.Md;F[Q][W]=d;d|r&&(v+=h[d&~r],x+=h[r&~d]);Q+=1;V>>=1;r=X[W];ea|=r;X=J[Q+1];Y=T;T=ba;ba=(X[W-1]&1)<<17|X[W]<<1|X[W+1]>>15;if(d=Y|T|ba)if(d=c[Y>>12|T>>12<<6|ba&258048]<<12,d|=c[Y>>8&63|T>>2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&4032|ba<<8&258048]<<
4,d|=c[Y&63|(T&63)<<6|(ba&63)<<12])u|=d,a|=V,l+=h[d];F[Q][W]=d;d|r&&(v+=h[d&~r],x+=h[r&~d]);Q+=1;V>>=1;r=X[W];ea|=r;X=J[Q+1];Y=T;T=ba;ba=(X[W-1]&1)<<17|X[W]<<1|X[W+1]>>15;if(d=Y|T|ba)if(d=c[Y>>12|T>>12<<6|ba&258048]<<12,d|=c[Y>>8&63|T>>2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&4032|ba<<8&258048]<<4,d|=c[Y&63|(T&63)<<6|(ba&63)<<12])u|=d,a|=V,l+=h[d];F[Q][W]=d;d|r&&(v+=h[d&~r],x+=h[r&~d]);Q+=1;V>>=1;r=X[W];ea|=r;X=J[Q+1];Y=T;T=ba;ba=(X[W-1]&1)<<17|X[W]<<1|X[W+1]>>15;if(d=Y|T|ba)if(d=c[Y>>12|T>>12<<
6|ba&258048]<<12,d|=c[Y>>8&63|T>>2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&4032|ba<<8&258048]<<4,d|=c[Y&63|(T&63)<<6|(ba&63)<<12])u|=d,a|=V,l+=h[d];F[Q][W]=d;d|r&&(v+=h[d&~r],x+=h[r&~d]);Q+=1;V>>=1;r=X[W];ea|=r;X=J[Q+1];Y=T;T=ba;ba=(X[W-1]&1)<<17|X[W]<<1|X[W+1]>>15;if(d=Y|T|ba)if(d=c[Y>>12|T>>12<<6|ba&258048]<<12,d|=c[Y>>8&63|T>>2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&4032|ba<<8&258048]<<4,d|=c[Y&63|(T&63)<<6|(ba&63)<<12])u|=d,a|=V,l+=h[d];F[Q][W]=d;d|r&&(v+=h[d&~r],x+=h[r&~d]);Q+=1;V>>=1;r=X[W];
ea|=r;X=J[Q+1];Y=T;T=ba;ba=(X[W-1]&1)<<17|X[W]<<1|X[W+1]>>15;if(d=Y|T|ba)if(d=c[Y>>12|T>>12<<6|ba&258048]<<12,d|=c[Y>>8&63|T>>2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&4032|ba<<8&258048]<<4,d|=c[Y&63|(T&63)<<6|(ba&63)<<12])u|=d,a|=V,l+=h[d];F[Q][W]=d;d|r&&(v+=h[d&~r],x+=h[r&~d]);Q+=1;V>>=1;r=X[W];ea|=r;X=J[Q+1];Y=T;T=ba;ba=(X[W-1]&1)<<17|X[W]<<1|X[W+1]>>15;if(d=Y|T|ba)if(d=c[Y>>12|T>>12<<6|ba&258048]<<12,d|=c[Y>>8&63|T>>2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&4032|ba<<8&258048]<<4,d|=c[Y&63|(T&
63)<<6|(ba&63)<<12])u|=d,a|=V,l+=h[d];F[Q][W]=d;d|r&&(v+=h[d&~r],x+=h[r&~d]);Q+=1;V>>=1;r=X[W];ea|=r;X=J[Q+1];Y=T;T=ba;ba=(X[W-1]&1)<<17|X[W]<<1|X[W+1]>>15;if(d=Y|T|ba)if(d=c[Y>>12|T>>12<<6|ba&258048]<<12,d|=c[Y>>8&63|T>>2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&4032|ba<<8&258048]<<4,d|=c[Y&63|(T&63)<<6|(ba&63)<<12])u|=d,a|=V,l+=h[d];F[Q][W]=d;d|r&&(v+=h[d&~r],x+=h[r&~d]);Q+=1;V>>=1;r=X[W];ea|=r;X=J[Q+1];Y=T;T=ba;ba=(X[W-1]&1)<<17|X[W]<<1|X[W+1]>>15;if(d=Y|T|ba)if(d=c[Y>>12|T>>12<<6|ba&258048]<<12,
d|=c[Y>>8&63|T>>2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&4032|ba<<8&258048]<<4,d|=c[Y&63|(T&63)<<6|(ba&63)<<12])u|=d,a|=V,l+=h[d];F[Q][W]=d;d|r&&(v+=h[d&~r],x+=h[r&~d]);Q+=1;V>>=1;r=X[W];ea|=r;X=J[Q+1];Y=T;T=ba;ba=(X[W-1]&1)<<17|X[W]<<1|X[W+1]>>15;if(d=Y|T|ba)if(d=c[Y>>12|T>>12<<6|ba&258048]<<12,d|=c[Y>>8&63|T>>2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&4032|ba<<8&258048]<<4,d|=c[Y&63|(T&63)<<6|(ba&63)<<12])u|=d,a|=V,l+=h[d];F[Q][W]=d;d|r&&(v+=h[d&~r],x+=h[r&~d]);Q+=1;V>>=1;r=X[W];ea|=r;X=J[Q+1];
Y=T;T=ba;ba=(X[W-1]&1)<<17|X[W]<<1|X[W+1]>>15;if(d=Y|T|ba)if(d=c[Y>>12|T>>12<<6|ba&258048]<<12,d|=c[Y>>8&63|T>>2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&4032|ba<<8&258048]<<4,d|=c[Y&63|(T&63)<<6|(ba&63)<<12])u|=d,a|=V,l+=h[d];F[Q][W]=d;d|r&&(v+=h[d&~r],x+=h[r&~d]);Q+=1;V>>=1;r=X[W];ea|=r;X=J[Q+1];Y=T;T=ba;ba=(X[W-1]&1)<<17|X[W]<<1|X[W+1]>>15;if(d=Y|T|ba)if(d=c[Y>>12|T>>12<<6|ba&258048]<<12,d|=c[Y>>8&63|T>>2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&4032|ba<<8&258048]<<4,d|=c[Y&63|(T&63)<<6|(ba&63)<<
12])u|=d,a|=V,l+=h[d];F[Q][W]=d;d|r&&(v+=h[d&~r],x+=h[r&~d]);Q+=1;V>>=1;r=X[W];ea|=r;X=J[Q+1];Y=T;T=ba;ba=(X[W-1]&1)<<17|X[W]<<1|X[W+1]>>15;if(d=Y|T|ba)if(d=c[Y>>12|T>>12<<6|ba&258048]<<12,d|=c[Y>>8&63|T>>2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&4032|ba<<8&258048]<<4,d|=c[Y&63|(T&63)<<6|(ba&63)<<12])u|=d,a|=V,l+=h[d];F[Q][W]=d;d|r&&(v+=h[d&~r],x+=h[r&~d]);Q+=1;V>>=1;r=X[W];ea|=r;X=J[Q+1];Y=T;T=ba;ba=(X[W-1]&1)<<17|X[W]<<1|X[W+1]>>15;if(d=Y|T|ba)if(d=c[Y>>12|T>>12<<6|ba&258048]<<12,d|=c[Y>>8&63|T>>
2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&4032|ba<<8&258048]<<4,d|=c[Y&63|(T&63)<<6|(ba&63)<<12])u|=d,a|=V,l+=h[d];F[Q][W]=d;d|r&&(v+=h[d&~r],x+=h[r&~d]);Q+=1;V>>=1;r=X[W];ea|=r;X=J[Q+1];Y=T;T=ba;ba=(X[W-1]&1)<<17|X[W]<<1|X[W+1]>>15;if(d=Y|T|ba)if(d=c[Y>>12|T>>12<<6|ba&258048]<<12,d|=c[Y>>8&63|T>>2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&4032|ba<<8&258048]<<4,d|=c[Y&63|(T&63)<<6|(ba&63)<<12])u|=d,a|=V,l+=h[d];F[Q][W]=d;d|r&&(v+=h[d&~r],x+=h[r&~d]);Q+=1;V>>=1;r=X[W];ea|=r;X=Q===this.height-1?this.Ld:
J[Q+1];Y=T;T=ba;ba=(X[W-1]&1)<<17|X[W]<<1|X[W+1]>>15;if(d=Y|T|ba)if(d=c[Y>>12|T>>12<<6|ba&258048]<<12,d|=c[Y>>8&63|T>>2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&4032|ba<<8&258048]<<4,d|=c[Y&63|(T&63)<<6|(ba&63)<<12])u|=d,a|=V,l+=h[d],0!==(d&32768)&&(P|=k.Me),0!==(d&1)&&(P|=k.bd),P|=k.cd}else{Y=Y[W]<<1|Y[W+1]>>15;T=r<<1|T[W+1]>>15;ba=X[W]<<1|X[W+1]>>15;if(d=Y|T|ba)if(d=c[Y>>12|T>>12<<6|ba&258048]<<12,d|=c[Y>>8&63|T>>2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&4032|ba<<8&258048]<<4,d|=c[Y&63|(T&63)<<6|
(ba&63)<<12])u|=d,a|=V,0!==(d&1)&&(P|=k.Ce),P|=k.Md,l+=h[d];F[Q][W]=d;d|r&&(v+=h[d&~r],x+=h[r&~d]);Q+=1;for(V>>=1;Q<R-1;){r=X[W];ea|=r;X=J[Q+1];Y=T;T=ba;ba=X[W]<<1|X[W+1]>>15;if(d=Y|T|ba)if(d=c[Y>>12|T>>12<<6|ba&258048]<<12,d|=c[Y>>8&63|T>>2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&4032|ba<<8&258048]<<4,d|=c[Y&63|(T&63)<<6|(ba&63)<<12])u|=d,a|=V,l+=h[d];F[Q][W]=d;d|r&&(v+=h[d&~r],x+=h[r&~d]);Q+=1;V>>=1}r=X[W];ea|=r;X=Q===this.height-1?this.Ld:J[Q+1];Y=T;T=ba;ba=X[W]<<1|X[W+1]>>15;if(d=Y|T|ba)if(d=
c[Y>>12|T>>12<<6|ba&258048]<<12,d|=c[Y>>8&63|T>>2&4032|ba<<4&258048]<<8,d|=c[Y>>4&63|T<<2&4032|ba<<8&258048]<<4,d|=c[Y&63|(T&63)<<6|(ba&63)<<12])u|=d,a|=V,l+=h[d],0!==(d&1)&&(P|=k.bd),P|=k.cd}F[Q][W]=d;d|r&&(v+=h[d&~r],x+=h[r&~d]);u&&(0!==(u&32768)&&(P|=k.Td),0!==(u&1)&&(P|=k.Dc));w[W]|=u;if(u||ea)ca|=1<<f,P&&(0!==(P&k.Td)&&(15>f?ca|=1<<f+1:0<m&&0<W&&(aa[m-1]|=1)),0!==(P&k.Dc)&&(0<f?ca|=1<<f-1:m<K-1&&W<z-1&&(aa[m+1]|=32768)),0!==(P&k.Md)&&(U|=1<<f),0!==(P&k.cd)&&(L|=1<<f),0!==(P&k.Be)&&(15>f?U|=1<<
f+1:0<m&&0<W&&(S[m-1]|=1)),0!==(P&k.Ce)&&(0<f?U|=1<<f-1:m<K-1&&W<z-1&&(S[m+1]|=32768)),0!==(P&k.Me)&&(15>f?L|=1<<f+1:0<m&&0<W&&(Z[m-1]|=1)),0!==(P&k.bd)&&(0<f?L|=1<<f-1:m<K-1&&W<z-1&&(Z[m+1]|=32768)));y[g]|=a}W+=1}aa[m]|=ca;0<g&&(S[m]|=U);g<G-1&&(Z[m]|=L)}else W+=16;N+=16;R+=16}for(m=0;m<z;m+=1)w[m]&&(m<E&&(E=m),m>H&&(H=m));for(g=0;g<y.length;g+=1)y[g]&&(g<C&&(C=g),g>D&&(D=g));E=(E<<4)+this.od(w[E]);H=(H<<4)+this.rd(w[H]);C=(C<<4)+this.od(y[C]);D=(D<<4)+this.rd(y[D]);0>D&&(D=t-1);C>=t&&(C=0);E>=A&&
(E=0);0>H&&(H=A-1);D>t-1&&(D=t-1);0>C&&(C=0);0>E&&(E=0);H>A-1&&(H=A-1);B.u=D;B.m=C;B.j=E;B.s=H;if(arrayFill)O.fill(0);else for(f=0;f<O.length;f+=1)O[f]=0;this.sa=l;this.lc=v;this.ed=x};b.prototype.mu=function(){var c=this.mg,f,d,g,m,q,r=this.ic,w,u=this.Jg,y,a=this.height,h=this.width,l=h>>4,v=this.H,x=a,t=-1,A=h,z=-1,B=this.ya,C=this.ta>>4,D=this.Ye;if(0!==(this.v&1)){var E=this.Lb;var H=this.cb;var G=this.Ka;var K=this.oa;this.kc&&(c=this.rf)}else E=this.cb,H=this.Lb,G=this.oa,K=this.Ka;if(arrayFill)r.fill(0);
else for(f=0;f<r.length;f+=1)r[f]=0;if(arrayFill)u.fill(0);else for(f=0;f<u.length;f+=1)u[f]=0;var O=0;var J=O+16;if(K.sb.fill)K.sb.fill(0);else for(g=0;g<K.length;g+=1){var F=K[g];for(m=0;m<F.length;m+=1)F[m]=0}for(g=0;g<G.length;g+=1){var I=0;F=G[g];var M=K[g];var N=0<g?K[g-1]:D;var R=g<B-1?K[g+1]:D;for(m=0;m<C;m+=1)if(q=F[m]){var da=M[m];var W=N[m];var aa=R[m];for(f=15;0<=f;--f){if(0!==(q&1<<f)){var S=y=w=0;var Z=O;var ca=32768;var U=0===Z?this.Ld:E[Z-1];var L=E[Z];var P=E[Z+1];var Q=L[I];if(I)if(I>=
l-1){U=(U[I-1]&1)<<17|U[I]<<1;L=(L[I-1]&1)<<17|Q<<1;var V=(P[I-1]&1)<<17|P[I]<<1;if(d=U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|(L&63)<<6|(V&63)<<12])w|=d,y|=ca,0!==(d&32768)&&(S|=k.Be),S|=k.Md;H[Z][I]=d;Z+=1;for(ca>>=1;Z<J-1;){Q|=P[I];P=E[Z+1];U=L;L=V;V=(P[I-1]&1)<<17|P[I]<<1;if(d=U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|
(L&63)<<6|(V&63)<<12])w|=d,y|=ca;H[Z][I]=d;Z+=1;ca>>=1}Q|=P[I];P=Z===this.height-1?this.Ld:E[Z+1];U=L;L=V;V=(P[I-1]&1)<<17|P[I]<<1;if(d=U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|(L&63)<<6|(V&63)<<12])w|=d,y|=ca,0!==(d&32768)&&(S|=k.Me),S|=k.cd}else{U=(U[I-1]&1)<<17|U[I]<<1|U[I+1]>>15;L=(L[I-1]&1)<<17|Q<<1|L[I+1]>>15;V=(P[I-1]&1)<<17|P[I]<<1|P[I+1]>>15;if(d=U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|
L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|(L&63)<<6|(V&63)<<12])w|=d,y|=ca,0!==(d&32768)&&(S|=k.Be),0!==(d&1)&&(S|=k.Ce),S|=k.Md;H[Z][I]=d;Z+=1;ca>>=1;Q|=P[I];P=E[Z+1];U=L;L=V;V=(P[I-1]&1)<<17|P[I]<<1|P[I+1]>>15;if(d=U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|(L&63)<<6|(V&63)<<12])w|=d,y|=ca;H[Z][I]=d;Z+=1;ca>>=1;Q|=P[I];P=E[Z+1];U=L;L=V;V=(P[I-1]&1)<<17|P[I]<<1|P[I+1]>>15;if(d=
U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|(L&63)<<6|(V&63)<<12])w|=d,y|=ca;H[Z][I]=d;Z+=1;ca>>=1;Q|=P[I];P=E[Z+1];U=L;L=V;V=(P[I-1]&1)<<17|P[I]<<1|P[I+1]>>15;if(d=U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|(L&63)<<6|(V&63)<<12])w|=d,y|=ca;H[Z][I]=d;Z+=1;ca>>=1;Q|=P[I];P=E[Z+1];U=L;L=V;V=(P[I-1]&1)<<17|P[I]<<1|P[I+1]>>15;if(d=
U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|(L&63)<<6|(V&63)<<12])w|=d,y|=ca;H[Z][I]=d;Z+=1;ca>>=1;Q|=P[I];P=E[Z+1];U=L;L=V;V=(P[I-1]&1)<<17|P[I]<<1|P[I+1]>>15;if(d=U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|(L&63)<<6|(V&63)<<12])w|=d,y|=ca;H[Z][I]=d;Z+=1;ca>>=1;Q|=P[I];P=E[Z+1];U=L;L=V;V=(P[I-1]&1)<<17|P[I]<<1|P[I+1]>>15;if(d=
U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|(L&63)<<6|(V&63)<<12])w|=d,y|=ca;H[Z][I]=d;Z+=1;ca>>=1;Q|=P[I];P=E[Z+1];U=L;L=V;V=(P[I-1]&1)<<17|P[I]<<1|P[I+1]>>15;if(d=U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|(L&63)<<6|(V&63)<<12])w|=d,y|=ca;H[Z][I]=d;Z+=1;ca>>=1;Q|=P[I];P=E[Z+1];U=L;L=V;V=(P[I-1]&1)<<17|P[I]<<1|P[I+1]>>15;if(d=
U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|(L&63)<<6|(V&63)<<12])w|=d,y|=ca;H[Z][I]=d;Z+=1;ca>>=1;Q|=P[I];P=E[Z+1];U=L;L=V;V=(P[I-1]&1)<<17|P[I]<<1|P[I+1]>>15;if(d=U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|(L&63)<<6|(V&63)<<12])w|=d,y|=ca;H[Z][I]=d;Z+=1;ca>>=1;Q|=P[I];P=E[Z+1];U=L;L=V;V=(P[I-1]&1)<<17|P[I]<<1|P[I+1]>>15;if(d=
U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|(L&63)<<6|(V&63)<<12])w|=d,y|=ca;H[Z][I]=d;Z+=1;ca>>=1;Q|=P[I];P=E[Z+1];U=L;L=V;V=(P[I-1]&1)<<17|P[I]<<1|P[I+1]>>15;if(d=U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|(L&63)<<6|(V&63)<<12])w|=d,y|=ca;H[Z][I]=d;Z+=1;ca>>=1;Q|=P[I];P=E[Z+1];U=L;L=V;V=(P[I-1]&1)<<17|P[I]<<1|P[I+1]>>15;if(d=
U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|(L&63)<<6|(V&63)<<12])w|=d,y|=ca;H[Z][I]=d;Z+=1;ca>>=1;Q|=P[I];P=E[Z+1];U=L;L=V;V=(P[I-1]&1)<<17|P[I]<<1|P[I+1]>>15;if(d=U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|(L&63)<<6|(V&63)<<12])w|=d,y|=ca;H[Z][I]=d;Z+=1;ca>>=1;Q|=P[I];P=E[Z+1];U=L;L=V;V=(P[I-1]&1)<<17|P[I]<<1|P[I+1]>>15;if(d=
U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|(L&63)<<6|(V&63)<<12])w|=d,y|=ca;H[Z][I]=d;Z+=1;ca>>=1;Q|=P[I];P=Z===this.height-1?this.Ld:E[Z+1];U=L;L=V;V=(P[I-1]&1)<<17|P[I]<<1|P[I+1]>>15;if(d=U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|(L&63)<<6|(V&63)<<12])w|=d,y|=ca,0!==(d&32768)&&(S|=k.Me),0!==(d&1)&&(S|=k.bd),S|=k.cd}else{U=
U[I]<<1|U[I+1]>>15;L=Q<<1|L[I+1]>>15;V=P[I]<<1|P[I+1]>>15;if(d=U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|(L&63)<<6|(V&63)<<12])w|=d,y|=ca,0!==(d&1)&&(S|=k.Ce),S|=k.Md;H[Z][I]=d;Z+=1;for(ca>>=1;Z<J-1;){Q|=P[I];P=E[Z+1];U=L;L=V;V=P[I]<<1|P[I+1]>>15;if(d=U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|(L&63)<<6|(V&63)<<12])w|=d,y|=ca;
H[Z][I]=d;Z+=1;ca>>=1}Q|=P[I];P=Z===this.height-1?this.Ld:E[Z+1];U=L;L=V;V=P[I]<<1|P[I+1]>>15;if(d=U|L|V)if(d=c[U>>12|L>>12<<6|V&258048]<<12,d|=c[U>>8&63|L>>2&4032|V<<4&258048]<<8,d|=c[U>>4&63|L<<2&4032|V<<8&258048]<<4,d|=c[U&63|(L&63)<<6|(V&63)<<12])w|=d,y|=ca,0!==(d&1)&&(S|=k.bd),S|=k.cd}H[Z][I]=d;w&&(0!==(w&32768)&&(S|=k.Td),0!==(w&1)&&(S|=k.Dc));r[I]|=w;if(w||Q)da|=1<<f,S&&(0!==(S&k.Td)&&(15>f?da|=1<<f+1:0<m&&0<I&&(M[m-1]|=1)),0!==(S&k.Dc)&&(0<f?da|=1<<f-1:m<C-1&&I<l-1&&(M[m+1]|=32768)),0!==(S&
k.Md)&&(W|=1<<f),0!==(S&k.cd)&&(aa|=1<<f),0!==(S&k.Be)&&(15>f?W|=1<<f+1:0<m&&0<I&&(N[m-1]|=1)),0!==(S&k.Ce)&&(0<f?W|=1<<f-1:m<C-1&&I<l-1&&(N[m+1]|=32768)),0!==(S&k.Me)&&(15>f?aa|=1<<f+1:0<m&&0<I&&(R[m-1]|=1)),0!==(S&k.bd)&&(0<f?aa|=1<<f-1:m<C-1&&I<l-1&&(R[m+1]|=32768)));u[g]|=y}I+=1}M[m]|=da;0<g&&(N[m]|=W);g<B-1&&(R[m]|=aa)}else I+=16;O+=16;J+=16}for(m=0;m<l;m+=1)r[m]&&(m<A&&(A=m),m>z&&(z=m));for(g=0;g<u.length;g+=1)u[g]&&(g<x&&(x=g),g>t&&(t=g));A=(A<<4)+this.od(r[A]);z=(z<<4)+this.rd(r[z]);x=(x<<
4)+this.od(u[x]);t=(t<<4)+this.rd(u[t]);0>t&&(t=a-1);x>=a&&(x=0);A>=h&&(A=0);0>z&&(z=h-1);t>a-1&&(t=a-1);0>x&&(x=0);0>A&&(A=0);z>h-1&&(z=h-1);v.u=t;v.m=x;v.j=A;v.s=z;if(arrayFill)D.fill(0);else for(f=0;f<D.length;f+=1)D[f]=0};b.prototype.nt=function(c,f){var d,g=this.Ga,m,q,r,w,u=this.ya,y=this.ta>>4;var a=0;var h=a+16;for(m=0;m<u;m+=1){var l=0;var v=g[m];for(q=0;q<y;q+=1)if(w=v[q])for(r=15;0<=r;--r){if(0!==(w&1<<r))for(d=a;d<h;d+=2){var x=f[d];var t=c[d];var A=c[d+1];var z=l<<3;var B=t[z];B|=A[z];
x[z+z]=B|B>>8;z+=1;B=t[z];B|=A[z];x[z+z]=B|B>>8;z+=1;B=t[z];B|=A[z];x[z+z]=B|B>>8;z+=1;B=t[z];B|=A[z];x[z+z]=B|B>>8;z+=1;B=t[z];B|=A[z];x[z+z]=B|B>>8;z+=1;B=t[z];B|=A[z];x[z+z]=B|B>>8;z+=1;B=t[z];B|=A[z];x[z+z]=B|B>>8;z+=1;B=t[z];B|=A[z];x[z+z]=B|B>>8}l+=1}else l+=16;a+=16;h+=16}};b.prototype.Ym=function(c,f){var d,g=this.Ga,m,q,r,w,u=this.ya,y=this.ta>>4;var a=0;var h=a+16;for(m=0;m<u;m+=1){var l=0;var v=g[m];for(q=0;q<y;q+=1)if(w=v[q])for(r=15;0<=r;--r){if(0!==(w&1<<r))for(d=a;d<h;d+=2){var x=f[d];
var t=c[d];var A=c[d+1];var z=l<<3;var B=t[z];var C=B&255;B>>=8;C-=C-(B&255)&C-(B&255)>>255;B=A[z];C-=C-(B&255)&C-(B&255)>>255;B>>=8;x[z+z]=C-(C-(B&255)&C-(B&255)>>255);z+=1;B=t[z];C=B&255;B>>=8;C-=C-(B&255)&C-(B&255)>>255;B=A[z];C-=C-(B&255)&C-(B&255)>>255;B>>=8;x[z+z]=C-(C-(B&255)&C-(B&255)>>255);z+=1;B=t[z];C=B&255;B>>=8;C-=C-(B&255)&C-(B&255)>>255;B=A[z];C-=C-(B&255)&C-(B&255)>>255;B>>=8;x[z+z]=C-(C-(B&255)&C-(B&255)>>255);z+=1;B=t[z];C=B&255;B>>=8;C-=C-(B&255)&C-(B&255)>>255;B=A[z];C-=C-(B&255)&
C-(B&255)>>255;B>>=8;x[z+z]=C-(C-(B&255)&C-(B&255)>>255);z+=1;B=t[z];C=B&255;B>>=8;C-=C-(B&255)&C-(B&255)>>255;B=A[z];C-=C-(B&255)&C-(B&255)>>255;B>>=8;x[z+z]=C-(C-(B&255)&C-(B&255)>>255);z+=1;B=t[z];C=B&255;B>>=8;C-=C-(B&255)&C-(B&255)>>255;B=A[z];C-=C-(B&255)&C-(B&255)>>255;B>>=8;x[z+z]=C-(C-(B&255)&C-(B&255)>>255);z+=1;B=t[z];C=B&255;B>>=8;C-=C-(B&255)&C-(B&255)>>255;B=A[z];C-=C-(B&255)&C-(B&255)>>255;B>>=8;x[z+z]=C-(C-(B&255)&C-(B&255)>>255);z+=1;B=t[z];C=B&255;B>>=8;C-=C-(B&255)&C-(B&255)>>255;
B=A[z];C-=C-(B&255)&C-(B&255)>>255;B>>=8;x[z+z]=C-(C-(B&255)&C-(B&255)>>255)}l+=1}else l+=16;a+=16;h+=16}};b.prototype.xt=function(c,f){var d,g=this.Ga,m,q,r,w,u=this.ya,y=this.ta>>4;var a=0;var h=a+16;for(m=0;m<u;m+=1){var l=0;var v=g[m];for(q=0;q<y;q+=1)if(w=v[q])for(r=15;0<=r;--r){if(0!==(w&1<<r))for(d=a;d<h;d+=4){var x=f[d];var t=c[d];var A=c[d+1];var z=c[d+2];var B=c[d+3];var C=l<<2;var D=l<<4;var E=t[C]|A[C]|z[C]|B[C];x[D]=(0<E)<<6;C+=1;D+=4;E=t[C]|A[C]|z[C]|B[C];x[D]=(0<E)<<6;C+=1;D+=4;E=t[C]|
A[C]|z[C]|B[C];x[D]=(0<E)<<6;C+=1;D+=4;E=t[C]|A[C]|z[C]|B[C];x[D]=(0<E)<<6}l+=1}else l+=16;a+=16;h+=16}};b.prototype.Zm=function(c,f){var d,g,m=this.Ga,q,r,w,u,y,a=this.ya,h=this.ta>>4;var l=0;var v=l+16;for(r=0;r<a;r+=1){var x=0;var t=m[r];for(w=0;w<h;w+=1)if(y=t[w])for(u=15;0<=u;--u){if(0!==(y&1<<u))for(d=l;d<v;d+=4){var A=f[d];var z=c[d];var B=c[d+1];var C=c[d+2];var D=c[d+3];var E=x<<2;var H=x<<4;for(g=0;4>g;g+=1){var G=0;if(q=z[E])G-=G-(q&255)&G-(q&255)>>255,q>>=8,G-=G-(q&255)&G-(q&255)>>255,
q>>=8,G-=G-(q&255)&G-(q&255)>>255,q>>=8,G-=G-(q&255)&G-(q&255)>>255;if(q=B[E])G-=G-(q&255)&G-(q&255)>>255,q>>=8,G-=G-(q&255)&G-(q&255)>>255,q>>=8,G-=G-(q&255)&G-(q&255)>>255,q>>=8,G-=G-(q&255)&G-(q&255)>>255;if(q=C[E])G-=G-(q&255)&G-(q&255)>>255,q>>=8,G-=G-(q&255)&G-(q&255)>>255,q>>=8,G-=G-(q&255)&G-(q&255)>>255,q>>=8,G-=G-(q&255)&G-(q&255)>>255;if(q=D[E])G-=G-(q&255)&G-(q&255)>>255,q>>=8,G-=G-(q&255)&G-(q&255)>>255,q>>=8,G-=G-(q&255)&G-(q&255)>>255,q>>=8,G-=G-(q&255)&G-(q&255)>>255;A[H]=G;E+=1;H+=
4}}x+=1}else x+=16;l+=16;v+=16}};b.prototype.Ht=function(c,f){var d,g=this.Ga,m,q,r,w,u=this.ya,y=this.ta>>4;var a=0;var h=a+16;for(m=0;m<u;m+=1){var l=0;var v=g[m];for(q=0;q<y;q+=1)if(w=v[q])for(r=15;0<=r;--r){if(0!==(w&1<<r))for(d=a;d<h;d+=8){var x=f[d];var t=c[d];var A=c[d+1];var z=c[d+2];var B=c[d+3];var C=c[d+4];var D=c[d+5];var E=c[d+6];var H=c[d+7];var G=l<<2;var K=l<<4;var O=t[G]|t[G+1];O|=A[G]|A[G+1];O|=z[G]|z[G+1];O|=B[G]|B[G+1];0===O&&(O|=C[G]|C[G+1],O|=D[G]|D[G+1],O|=E[G]|E[G+1],O|=H[G]|
H[G+1]);x[K]=(0<O)<<6;G+=2;K+=8;O=t[G]|t[G+1];O|=A[G]|A[G+1];O|=z[G]|z[G+1];O|=B[G]|B[G+1];0===O&&(O|=C[G]|C[G+1],O|=D[G]|D[G+1],O|=E[G]|E[G+1],O|=H[G]|H[G+1]);x[K]=(0<O)<<6}l+=1}else l+=16;a+=16;h+=16}};b.prototype.$m=function(c,f){var d,g,m=this.Ga,q,r,w,u,y,a=this.ya,h=this.ta>>4;var l=0;var v=l+16;for(r=0;r<a;r+=1){var x=0;var t=m[r];for(w=0;w<h;w+=1)if(y=t[w])for(u=15;0<=u;--u){if(0!==(y&1<<u))for(d=l;d<v;d+=8){var A=f[d];var z=c[d];var B=c[d+1];var C=c[d+2];var D=c[d+3];var E=c[d+4];var H=c[d+
5];var G=c[d+6];var K=c[d+7];var O=x<<2;var J=x<<4;for(g=0;2>g;g+=1){var F=0;if(q=z[O])F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255;if(q=z[O+1])F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255;if(q=B[O])F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255;if(q=
B[O+1])F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255;if(q=C[O])F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255;if(q=C[O+1])F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255;if(q=D[O])F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-
(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255;if(q=D[O+1])F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255;if(q=E[O])F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255;if(q=E[O+1])F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255;if(q=H[O])F-=F-(q&255)&
F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255;if(q=H[O+1])F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255;if(q=G[O])F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255;if(q=G[O+1])F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>
255,q>>=8,F-=F-(q&255)&F-(q&255)>>255;if(q=K[O])F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255;if(q=K[O+1])F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255,q>>=8,F-=F-(q&255)&F-(q&255)>>255;A[J]=F;O+=2;J+=8}}x+=1}else x+=16;l+=16;v+=16}};b.prototype.ft=function(c,f){var d=this.Ga,g,m,q,r,w,u=this.ya,y=this.ta>>4;for(g=r=0;g<u;g+=1){var a=0;var h=d[g];for(m=0;m<y;m+=1)if(w=
h[m])for(q=15;0<=q;--q){if(0!==(w&1<<q)){var l=f[r];var v=c[r];var x=c[r+1];var t=c[r+2];var A=c[r+3];var z=c[r+4];var B=c[r+5];var C=c[r+6];var D=c[r+7];var E=c[r+8];var H=c[r+9];var G=c[r+10];var K=c[r+11];var O=c[r+12];var J=c[r+13];var F=c[r+14];var I=c[r+15];var M=a<<2;var N=a<<4;v=v[M]|v[M+1]|v[M+2]|v[M+3];v|=x[M]|x[M+1]|x[M+2]|x[M+3];v|=t[M]|t[M+1]|t[M+2]|t[M+3];v|=A[M]|A[M+1]|A[M+2]|A[M+3];0===v&&(v|=z[M]|z[M+1]|z[M+2]|z[M+3],v|=B[M]|B[M+1]|B[M+2]|B[M+3],v|=C[M]|C[M+1]|C[M+2]|C[M+3],v|=D[M]|
D[M+1]|D[M+2]|D[M+3],0===v&&(v|=E[M]|E[M+1]|E[M+2]|E[M+3],v|=H[M]|H[M+1]|H[M+2]|H[M+3],v|=G[M]|G[M+1]|G[M+2]|G[M+3],v|=K[M]|K[M+1]|K[M+2]|K[M+3],0===v&&(v|=O[M]|O[M+1]|O[M+2]|O[M+3],v|=J[M]|J[M+1]|J[M+2]|J[M+3],v|=F[M]|F[M+1]|F[M+2]|F[M+3],v|=I[M]|I[M+1]|I[M+2]|I[M+3])));l[N]=(0<v)<<6}a+=1}else a+=16;r+=16}};b.prototype.Xm=function(c,f){var d=this.Ga,g,m,q,r,w,u,y=this.ya,a=this.ta>>4;var h=0;var l=h+16;for(m=0;m<y;m+=1){var v=0;var x=d[m];for(q=0;q<a;q+=1)if(u=x[q])for(r=15;0<=r;--r){if(0!==(u&1<<
r)){var t=0;for(w=h;w<l;w+=1){var A=c[w];var z=v<<2;if(g=A[z])t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255;if(g=A[z+1])t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255;if(g=A[z+2])t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255;if(g=A[z+3])t-=t-(g&255)&
t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255,g>>=8,t-=t-(g&255)&t-(g&255)>>255}A=f[h];z=v<<4;A[z]=t}v+=1}else v+=16;h+=16;l+=16}};b.prototype.Nt=function(c,f){var d=this.Ba;.5<=d&&1>d?this.qk||this.xa||this.M?this.Ym(c,this.A):this.nt(c,this.A):.25<=d&&.5>d?this.qk||this.xa||this.M?this.Zm(f,this.A):this.xt(f,this.A):.125<=d&&.25>d?this.qk||this.xa||this.M?this.$m(f,this.A):this.Ht(f,this.A):.125>d&&(this.qk||this.xa||this.M?this.Xm(f,this.A):this.ft(f,this.A));
this.Pg&&(.5<=d&&1>d?this.Ym(this.kh,this.la):.25<=d&&.5>d?this.Zm(this.Pf,this.la):.125<=d&&.25>d?this.$m(this.Pf,this.la):.125>d&&this.Xm(this.Pf,this.la))};b.prototype.ju=function(){var c=this.ca,f=this.Ga,d=this.ab,g,m,q,r,w,u=0,y=0,a=0;var h=this.ya;var l=this.ta>>4;var v=0;var x=h,t=this.g+this.I-1,A=this.I,z=0<this.I?1:0;this.ea=0;if(0!==(this.v&1)){var B=this.Lb;var C=this.Ka}else B=this.cb,C=this.oa;0>v&&(v=0);x>h&&(x=h);h=v<<4;var D=h+16;for(m=v;m<x;m+=1){var E=0;var H=C[m];var G=d[m];var K=
f[m];for(q=0;q<l;q+=1){var O=H[q]|G[q];var J=0;if(O)for(r=15;0<=r;--r){if(0!==(O&1<<r)){var F=0;for(v=h;v<D;v+=1){var I=B[v];var M=c[v];var N=E<<4;var R=I[E];for(w=32768;0<w;w>>=1){var da=g=M[N];(g<=A||g===t)&&0!==(R&w)?g=t:(R&=~w,g>z&&--g);M[N]=g;g>z&&(F=1,g===t&&(u+=1,da!==t&&(y+=1)));da===t&&g!==t&&(a+=1);N+=1}I[E]=R;this.ea|=R}F&&(J|=1<<r)}E+=1}else E+=16;G[q]=J;K[q]|=J}h+=16;D+=16}this.sa=u;this.lc=y;this.ed=a};b.prototype.Yt=function(){var c=this.ca,f=this.Ga,d,g,m,q,r;var w=this.ya;var u=this.ta>>
4;var y=0;var a=w,h=0<this.I?1:0;0>y&&(y=0);a>w&&(a=w);w=y<<4;var l=w+16;for(d=y;d<a;d+=1){var v=0;var x=f[d];for(g=0;g<u;g+=1)if(r=x[g])for(m=15;0<=m;--m){if(0!==(r&1<<m))for(y=w;y<l;y+=1){var t=c[y];var A=v<<4;for(q=15;0<=q;--q){var z=t[A];z>h&&(--z,t[A]=z);A+=1}}v+=1}else v+=16;w+=16;l+=16}};b.prototype.tf=function(){this.ub||this.M||(-1===this.g?this.qk?this.Ws():this.Ns():this.ea||this.Yt(),this.oi&&this.ls())};b.prototype.Bs=function(){var c,f=this.Oj,d=this.Ga,g,m,q,r=0,w,u=this.ya,y=this.ta>>
4;var a=16;for(g=0;g<u;g+=1){var h=0;var l=d[g];for(m=0;m<y;m+=1)if(w=l[m])for(q=15;0<=q;--q){if(0!==(w&1<<q))for(c=r;c<a;){var v=f[c];var x=h<<3;v[x]&=16448;x+=1;v[x]&=16448;x+=1;v[x]&=16448;x+=1;v[x]&=16448;x+=1;v[x]&=16448;x+=1;v[x]&=16448;x+=1;v[x]&=16448;x+=1;v[x]&=16448;c+=1}h+=1}else h+=16;r+=16;a+=16}};b.prototype.ou=function(){var c=this.pd,f=this.H,d=this.Ed,g=d.j;var m=d.m;var q=d.s,r=d.u,w=0,u=0,y=0,a=this.width,h=this.height,l=0,v=0,x=this.width,t=this.height,A=0,z=0,B=this.Ga,C,D=this.Lg,
E=this.I,H=0<this.I?1:0;var G=this.ha;var K=this.ma;var O=Math.round((this.width-G)/2);var J=Math.round((this.height-K)/2);-1!==this.ua&&(g=O+1,m=J+1,q=O+G-1-1,r=J+K-1-1);this.$c&&(this.Cc=!this.Cc,this.$c=!1);this.ea=0;0!==(this.v&1)?(G=this.Zb,K=this.ca,this.Cc&&(c=this.Vc)):(G=this.ca,K=this.Zb,this.kc&&(c=this.Se),this.Cc&&(c=this.kc?this.qd:this.Vc));1>m&&(m=1);r>this.height-2&&(r=this.height-2);1>g&&(g=1);q>this.width-2&&(q=this.width-2);for(--m;m<=r+1;m+=1){J=G[m-1];var F=G[m];var I=G[m+1];
var M=B[m>>4];var N=K[m];var R=C=!1;var da=F[g-2];for(O=g-1;O<=q+1;O+=1){var W=I[O];var aa=F[O+1];var S=J[O];0<E&&(W=W<=E?0:W-E,aa=aa<=E?0:aa-E,S=S<=E?0:S-E,da=da<=E?0:da-E);da=da|W<<4|aa<<8|S<<12;W=c[da];da=F[O];0<W?(w+=D[W],N[O]=W+E,C=!0,M[O>>8]=65535,O<a&&(a=O),O>l&&(l=O),da<=E&&(u+=1)):(W=da,W>E?(y+=1,W=E):W>H&&--W,N[O]=W,0<W&&(C=!0,O<a&&(a=O),O>l&&(l=O)),W=0);0<W&&(O<x&&(x=O),O>A&&(A=O),R=!0)}C&&(m<h&&(h=m),m>v&&(v=m));R&&(m<t&&(t=m),m>z&&(z=m))}this.sa=w;this.lc=u;this.ed=y;this.ea=w;d.j=a;
d.m=h;d.s=l;d.u=v;f.j=x;f.m=t;f.s=A;f.u=z};b.prototype.Ns=function(){var c=this.Oj,f=this.Ga,d=this.ab,g,m,q;var r=this.ya;var w=this.ta>>4;var u=0;var y=r;this.ea=0;if(0!==(this.v&1)){var a=this.Lb;var h=this.Ka}else a=this.cb,h=this.oa;0>u&&(u=0);y>r&&(y=r);r=u<<4;var l=r+16;for(g=u;g<y;g+=1){var v=0;var x=h[g];var t=d[g];var A=f[g];for(m=0;m<w;m+=1){var z=x[m]|A[m];var B=0;if(z)for(q=15;0<=q;--q){if(0!==(z&1<<q)){var C=0;for(u=r;u<l;){var D=a[u];var E=c[u];var H=v<<3;D=D[v];this.ea|=D;C|=D;E[H]=
(D&32768)>>9|D&16384;H+=1;E[H]=(D&8192)>>7|(D&4096)<<2;H+=1;E[H]=(D&2048)>>5|(D&1024)<<4;H+=1;E[H]=(D&512)>>3|(D&256)<<6;H+=1;E[H]=(D&128)>>1|(D&64)<<8;H+=1;E[H]=(D&32)<<1|(D&16)<<10;H+=1;E[H]=(D&8)<<3|(D&4)<<12;H+=1;E[H]=(D&2)<<5|(D&1)<<14;u+=1}C&&(B|=1<<q)}v+=1}else v+=16;t[m]=B;A[m]|=B}r+=16;l+=16}};b.prototype.Ws=function(){var c=this.Oj,f=this.Ga,d=this.ab,g=this.br,m,q,r;var w=this.ya;var u=this.ta>>4;var y=0;var a=w;this.ea=0;if(0!==(this.v&1)){var h=this.Lb;var l=this.Ka}else h=this.cb,l=
this.oa;0>y&&(y=0);a>w&&(a=w);w=y<<4;var v=w+16;for(m=y;m<a;m+=1){var x=0;var t=l[m];var A=d[m];var z=f[m];for(q=0;q<u;q+=1){var B=t[q]|A[q];var C=0;if(B)for(r=15;0<=r;--r){if(0!==(B&1<<r)){var D=0;for(y=w;y<v;){var E=h[y];var H=c[y];var G=x<<3;E=E[x];this.ea|=E;var K=g[H[G]|(E&32768)>>8|(E&16384)<<1];D|=K;H[G]=K;G+=1;K=g[H[G]|(E&8192)>>6|(E&4096)<<3];D|=K;H[G]=K;G+=1;K=g[H[G]|(E&2048)>>4|(E&1024)<<5];D|=K;H[G]=K;G+=1;K=g[H[G]|(E&512)>>2|(E&256)<<7];D|=K;H[G]=K;G+=1;K=g[H[G]|E&128|(E&64)<<9];D|=K;
H[G]=K;G+=1;K=g[H[G]|(E&32)<<2|(E&16)<<11];D|=K;H[G]=K;G+=1;K=g[H[G]|(E&8)<<4|(E&4)<<13];D|=K;H[G]=K;G+=1;K=g[H[G]|(E&2)<<6|(E&1)<<15];D|=K;H[G]=K;y+=1}if(1<(D&255)||1<D>>8)C|=1<<r}x+=1}else x+=16;A[q]=C;z[q]|=C}w+=16;v+=16}};b.prototype.xD=function(c,f,d,g,m,q,r,w,u,y){var a=this.df;g=g*c+a.u;d=d*c+a.s;f=f*c+a.m;m=m*c+a.j;a=d-m+1;c=g-f+1;this.V&&(a=d-f/2-(m-g/2)+1);0===a&&(a=1);0===c&&(c=1);q/=a;r/=c;y=Math.round(1E3*(q>r?r:q)/y)/1E3;y<w?y=w:y>u&&(y=u);return y};b.prototype.iu=function(c){var f=
c;1>c&&(f=1/c);var d=Math.round(f);(d<f?d/f:f/d)>=ViewConstants.jG&&(c=1>c?1/d:d);return c};b.prototype.Bh=function(c,f,d,g,m,q,r,w,u,y,a,h,l,v,x,t,A){var z=this.H,B=this.df,C=this.Ed,D=this.wn;a?(D.u=v*c+B.u,D.s=l*c+B.s,D.m=h*c+B.m,D.j=x*c+B.j,y&&(C.j<D.j&&(D.j=C.j),C.m<D.m&&(D.m=C.m),C.s>D.s&&(D.s=C.s),C.u>D.u&&(D.u=C.u)),z=D):y?z=C:this.xa&&(z=this.za);c=z.j;y=z.s;a=z.u;z=z.m;this.ib&&!t&&(B.j<c&&(c=B.j),B.s>y&&(y=B.s),B.u>a&&(a=B.u),B.m<z&&(z=B.m));-1!==this.ua&&(t=this.ha,B=this.ma,0<t&&(this.width/
2-t/2<c&&(c=this.width/2-t/2),this.width/2+t/2>y&&(y=this.width/2+t/2)),0<B&&(this.height/2-B/2<z&&(z=this.height/2-B/2),this.height/2+B/2>a&&(a=this.height/2+B/2)));u?(t=r,B=w,c=this.width/2-t/2,y=this.width/2+t/2,a=this.height/2+B/2,z=this.height/2-B/2):(t=y-c+1,B=a-z+1);this.V&&(c-=a/2,t=y-z/2-c+1);0===t&&(t=1);0===B&&(B=1);f/=t;d/=B;q=Math.round(1E3*(f>d?d:f)/q)/1E3;q/=this.tc;q<g?q=g:q>m&&(q=m);g=z-this.wb+B/2;m=c-this.Db+t/2;A||(q=this.iu(q));return[q,m,g]};b.prototype.Tt=function(c,f,d,g){var m=
this.Fe,q=this.D,r=this.C;if(c>f){var w=f;f=c;c=w}0>c?c=0:c>=q&&(c=q-1);0>f?f=0:f>=q&&(f=q-1);c=d*q+c;f=d*q+f;q=f-15;if(0<=d&&d<r)if(arrayFill)m.fill(g,c,f);else{for(;c<=q;)m[c]=g,c+=1,m[c]=g,c+=1,m[c]=g,c+=1,m[c]=g,c+=1,m[c]=g,c+=1,m[c]=g,c+=1,m[c]=g,c+=1,m[c]=g,c+=1,m[c]=g,c+=1,m[c]=g,c+=1,m[c]=g,c+=1,m[c]=g,c+=1,m[c]=g,c+=1,m[c]=g,c+=1,m[c]=g,c+=1,m[c]=g,c+=1;for(;c<=f;)m[c]=g,c+=1}};b.prototype.Xt=function(c,f,d,g){var m=this.Fe,q=this.D,r=this.C;if(f>d){var w=d;d=f;f=w}0>f?f=0:f>=r&&(f=r-1);
0>d?d=0:d>=r&&(d=r-1);f=f*q+c;d=d*q+c;r=d-15*q;if(0<=c&&c<q){for(;f<=r;)m[f]=g,f+=q,m[f]=g,f+=q,m[f]=g,f+=q,m[f]=g,f+=q,m[f]=g,f+=q,m[f]=g,f+=q,m[f]=g,f+=q,m[f]=g,f+=q,m[f]=g,f+=q,m[f]=g,f+=q,m[f]=g,f+=q,m[f]=g,f+=q,m[f]=g,f+=q,m[f]=g,f+=q,m[f]=g,f+=q,m[f]=g,f+=q;for(;f<=d;)m[f]=g,f+=q}};b.prototype.Qt=function(c,f,d,g,m){var q=Math.abs(d-c),r=Math.abs(g-f),w=c<d?1:-1,u=f<g?1:-1,y=q-r,a=this.D,h=this.C,l=this.Fe;if(!(0>c&&0>d||c>=a&&d>=a||0>f&&0>g||f>=h&&g>=h))if(0<=c&&c<a&&0<=f&&f<h&&0<=d&&d<a&&
0<=g&&g<h)for(l[f*a+c]=m;c!==d||f!==g;){var v=y+y;v>-r&&(y-=r,c+=w);v<q&&(y+=q,f+=u);l[f*a+c]=m}else for(0<=c&&c<a&&0<=f&&f<h&&(l[f*a+c]=m);c!==d||f!==g;)v=y+y,v>-r&&(y-=r,c+=w),v<q&&(y+=q,f+=u),0<=c&&c<a&&0<=f&&f<h&&(l[f*a+c]=m)};b.prototype.ii=function(c,f,d,g,m){var q=this.D/2,r=this.C/2;if(0!==this.Ra){c-=q;f-=r;var w=Math.sqrt(c*c+f*f);var u=180/Math.PI*Math.atan2(f,c);u+=this.Ra;c=Math.round(w*Math.cos(Math.PI/180*u)+q);f=Math.round(w*Math.sin(Math.PI/180*u)+r);d-=q;g-=r;w=Math.sqrt(d*d+g*g);
u=180/Math.PI*Math.atan2(g,d);u+=this.Ra;d=Math.round(w*Math.cos(Math.PI/180*u)+q);g=Math.round(w*Math.sin(Math.PI/180*u)+r)}c===d?this.Xt(c,f,g,m):f===g?this.Tt(c,d,f,m):this.Qt(c,f,d,g,m)};b.prototype.bn=function(c,f,d,g,m){var q=c.Le,r=c.Ke,w=0,u=0,y=this.context;var a=this.zoom;var h=this.zoom*(this.ba&&4<=a?ViewConstants.vj:1);var l=(this.width>>1)-(c.qb>>1);var v=(this.height>>1)-(c.xb>>1);var x=c.vc-this.ka,t=c.uc-this.pa-(this.V?this.ka/2:0),A=[0,0];switch(g){case ViewConstants.RB:f-=q>>1;
break;case ViewConstants.SB:f-=q-1;break;case ViewConstants.WB:d-=r>>1;break;case ViewConstants.QB:f-=q>>1;d-=r>>1;break;case ViewConstants.PB:f-=q-1;d-=r>>1;break;case ViewConstants.VB:d-=r-1;break;case ViewConstants.TB:f-=q>>1;d-=r-1;break;case ViewConstants.UB:f-=q-1,d-=r-1}var z=h*(d-v+x-this.wb+c.vc)+c.C/2;g=a*(f-l+t-this.Db+c.uc)+c.D/2+(this.V?(c.C/2-z)/2:0);var B=h*(d+r-v+x-this.wb+c.vc)+c.C/2;var C=a*(f+q-l+t-this.Db+c.uc)+c.D/2+(this.V?(c.C/2-B)/2:0);y.fillStyle=m;y.globalAlpha=.5;if(this.V)if(this.$d&&
4<=this.zoom)this.Wm(f,d,f+q-1,d+r-1,l,v);else{y.beginPath();for(m=0;m<r;m+=1)y.moveTo(g,z),y.lineTo(g+q*a+1,z),y.lineTo(g+q*a+1,z+h+1),y.lineTo(g,z+h+1),g-=h/2,z+=h;y.fill()}else this.ba&&4<=this.zoom?this.en(f,d,f+q-1,d+r-1,l,v):(y.beginPath(),this.ge(g,z,A),y.moveTo(A[0],A[1]),this.ge(C+1,z,A),y.lineTo(A[0],A[1]),this.ge(C+1,B+1,A),y.lineTo(A[0],A[1]),this.ge(g,B+1,A),y.lineTo(A[0],A[1]),y.fill());if(1<=this.zoom){if(0<this.Ra){var D=Math.cos(this.Ra/180*Math.PI)*this.Ba;var E=Math.sin(this.Ra/
180*Math.PI)*this.Ba;var H=Math.cos((this.Ra+90)/180*Math.PI)*this.Ba;var G=Math.sin((this.Ra+90)/180*Math.PI)*this.Ba}else D=this.Ba,H=E=0,G=D;z=h*(d+u-v+x-this.wb+c.vc)+c.C/2;g=a*(f+w-l+t-this.Db+c.uc)+c.D/2+(this.V?(c.C/2-z)/2:0);0!==this.Ra&&(this.ge(g,z,A),g=A[0],z=A[1]);C=g;B=z;y.fillStyle="rgb(255, 128, 0)";if(this.V&&this.$d&&4<=this.zoom)this.Vt(f,d,f+q-1,d+r-1,l,v,c.Xa);else if(this.ba&&4<=this.zoom)this.Wt(f,d,f+q-1,d+r-1,l,v,c.Xa);else{y.beginPath();for(u=m=0;u<r;u+=1){g=C;for(w=0;w<q;w+=
1)f=c.Xa[m],m+=1,f&&(f=g+D,d=z+E,a=f+H,h=d+G,l=a-D,v=h-E,0>g&&0>f&&0>a&&0>l||g>=c.D&&f>=c.D&&a>=c.D&&l>=c.D||0>z&&0>d&&0>h&&0>v||z>=c.C&&d>=c.C&&h>=c.C&&v>=c.C||(y.moveTo(g,z),y.lineTo(f,d),y.lineTo(a,h),y.lineTo(l,v))),g+=D,z+=E;C+=H;z=B+=G;this.V&&(C-=G/2)}y.fill()}}};b.prototype.ge=function(c,f,d){var g=this.D/2,m=this.C/2;if(0!==this.Ra){c-=g;f-=m;var q=Math.sqrt(c*c+f*f);f=180/Math.PI*Math.atan2(f,c);f+=this.Ra;c=Math.round(q*Math.cos(Math.PI/180*f)+g);f=Math.round(q*Math.sin(Math.PI/180*f)+
m)}d[0]=c;d[1]=f};b.prototype.vF=function(c){var f=c.Xf+.5|0,d=(this.width>>1)-(c.qb>>1)+(c.zb<<1),g=(this.height>>1)-(c.xb>>1)+(c.Ab<<1);(c.kb||c.cj)&&this.Pt(c,c.yb);c.ke&&this.bn(c,c.Lr.j,c.Lr.m,ViewConstants.Op,"rgb(255,255,0)");if(c.Nc){var m=c.o.dk;var q=c.o.ek;-1!==m&&(c.Gt(m,q),this.bn(c,c.Yi-d,c.Zi-g,f,"rgb(255,0,0)"))}};b.prototype.Pt=function(c,f){var d=this.context,g=this.zoom,m=this.zoom*(this.ba&&4<=g?ViewConstants.vj:1),q=f.j,r=f.m,w=f.s;f=f.u;var u=(this.width>>1)-(c.qb>>1),y=(this.height>>
1)-(c.xb>>1),a=c.vc-this.ka,h=c.uc-this.pa-(this.V?this.ka/2:0),l=[0,0],v=c.yb;if(q>w){var x=q;q=w;w=x}r>f&&(x=r,r=f,f=x);x=w-q+1;var t=f-r+1;r=m*(r-y+a-this.wb+c.vc)+c.C/2;q=g*(q-u+h-this.Db+c.uc)+c.D/2+(this.V?(c.C/2-r)/2:0);f=m*(f+1-y+a-this.wb+c.vc)+c.C/2;w=g*(w+1-u+h-this.Db+c.uc)+c.D/2+(this.V?(c.C/2-f)/2:0);d.fillStyle="rgb(0,255,0)";d.globalAlpha=.5;if(this.V)if(this.$d&&4<=this.zoom)this.Wm(v.j,v.m,v.s,v.u,u,y);else{d.beginPath();x*=g;for(c=0;c<t;c+=1)d.moveTo(q,r),d.lineTo(q+x+1,r),d.lineTo(q+
x+1,r+m+1),d.lineTo(q,r+m+1),q-=m/2,r+=m;d.fill()}else this.ba&&4<=this.zoom?this.en(v.j,v.m,v.s,v.u,u,y):(d.beginPath(),this.ge(q,r,l),d.moveTo(l[0],l[1]),this.ge(w+1,r,l),d.lineTo(l[0],l[1]),this.ge(w+1,f+1,l),d.lineTo(l[0],l[1]),this.ge(q,f+1,l),d.lineTo(l[0],l[1]),d.fill());d.globalAlpha=1};b.prototype.Te=function(){var c,f=this.D,d=this.C,g=this.dh,m=this.Zg,q=this.Ba,r=g,w,u=0<this.bf&&this.Yj,y=this.v&1,a=((this.height/2-(this.ka+this.wb))*q+d/2)%q,h=((this.width/2-(this.pa+this.Db))*q+f/2)%
q;if(this.Xb)var l=u?2:1;else l=1,u=!1,r=g=this.Rh[0];var v=g;for(this.Aa&&2===this.bf&&this.Jl||(y=0);l;){var x=-(f/2/q)-(this.width/2-this.pa-this.Db)|0;var t=22*-q;var A=f+q+22*q;var z=a-22*q;var B=d+22*q;var C=-f/1.5;var D=f+f/1.5;var E=-d/1.5;for(w=d+d/1.5;t<=A;t+=q)if(u&&(0===(x+y)%this.bf?r=m:r=g),x+=1,r===v)if(this.V){var H=-(d/2/q)-(this.height/2-this.ka-this.wb)|0;for(c=z;c<B;c+=q)0===(H&1)?this.ii(Math.round(t+h),Math.round(c),Math.round(t+h),Math.round(c+q-1),r):this.ii(Math.round(t+h+
q/2),Math.round(c),Math.round(t+h+q/2),Math.round(c+q-1),r),H+=1}else this.ii(Math.round(t+h),E,Math.round(t+h),w-1,r);x=-(d/2/q)-(this.height/2-this.ka-this.wb)|0;for(c=z;c<B;c+=q)u&&(0===(x+y)%this.bf?r=m:r=g),x+=1,r===v&&this.ii(C,Math.round(c),D-1,Math.round(c),r);--l;v=m}};b.prototype.Nj=function(){return 4<=this.Ba};b.prototype.vv=function(c,f){var d=this.ha,g=this.ma,m=Math.round((this.width-d)/2-1),q=m+d+1,r=Math.round((this.height-g)/2-1),w=r+g+1,u=c[r],y=c[w];if(0===d)if(arrayFill)u.fill(f,
0,this.width),y.fill(f,0,this.width);else for(d=0;d<this.width;d+=1)u[d]=f,y[d]=f;else if(0===g)for(d=0;d<this.height;d+=1)c[d][m]=f,c[d][q]=f;else{if(arrayFill)u.fill(f,m,q+1),y.fill(f,m,q+1);else for(d=m;d<=q;d+=1)u[d]=f,y[d]=f;for(d=r+1;d<=w-1;d+=1)c[d][m]=f,c[d][q]=f}};b.prototype.vH=function(){var c=this.Rh[0],f=this.Fe;var d=this.ca;var g=this.Oj;var m=this.Xg;this.M&&0!==(this.v&1)&&(d=this.Zb,g=this.tg,m=this.Nf);this.Rl&&(this.$z(),--this.Rl,this.Rl||(this.be.set(this.Gc),this.nb.set(this.Qa),
this.he.set(this.Jd),this.hg.set(this.qf),this.fe.set(this.nd),this.xg.set(this.Qf)));this.Ba=this.zoom*this.tc;this.Ba<ViewConstants.Kb?this.Ba=ViewConstants.Kb:this.Ba>ViewConstants.zc&&(this.Ba=ViewConstants.zc);this.Nd=this.pa+this.Db;this.Od=this.ka+this.wb;this.h=this.Sd/2+1;this.Ra=this.V||this.ba?0:this.angle;-1!==this.ua&&this.vv(d,this.Hc);if(4<=this.Ba&&(this.$d&&this.V||this.ba)){d=0;for(g=f.length;d<g;)f[d]=c,d+=1;this.Ee(1)}else 1>this.Ba&&this.Nt(g,m),.125>this.Ba?this.Pg?this.oh(this.la,
this.A,15):this.Ig(this.A,this.A,15):.25>this.Ba?this.Pg?this.oh(this.la,this.A,7):this.Ig(this.A,this.A,7):.5>this.Ba?this.Pg?this.oh(this.la,this.A,3):this.Ig(this.A,this.A,3):1>this.Ba?this.Pg?this.oh(this.la,this.A,1):this.Ig(this.A,this.A,1):this.Pg?this.oh(this.Ob,d,0):this.Ig(d,d,0)};b.prototype.bw=function(c,f,d){var g=this.D>>3,m=this.Rh,q=this.Fe,r,w,u=1,y=1,a=0,h=this.fb&~d,l=this.hb&~d,v=~d,x=~d,t=c,A=this.Ba;1<this.h&&(u=this.L);c=Math.sin(this.Ra/180*Math.PI)/this.Ba;var z=Math.cos(this.Ra/
180*Math.PI)/this.Ba;var B=-(this.D/2*-c+this.C/2*z)+this.Od;var C=-(this.D/2*z+this.C/2*c)+this.Nd;1<this.L&&1<this.h&&(a=.4/(this.L-1),y=.6);this.Ee(y);var D=this.width<this.$?m[0]|0:this.fn|0;var E=0;var H=B;for(r=0;r<this.C;r+=1){var G=C;for(w=0;w<g;w+=1){if((G&v)===(G&h)&&(H&x)===(H&l)){var K=t[H&l][G&h]|0;q[E]=m[K]}else q[E]=D;E+=1;G+=z;H-=c;(G&v)===(G&h)&&(H&x)===(H&l)?(K=t[H&l][G&h]|0,q[E]=m[K]):q[E]=D;E+=1;G+=z;H-=c;(G&v)===(G&h)&&(H&x)===(H&l)?(K=t[H&l][G&h]|0,q[E]=m[K]):q[E]=D;E+=1;G+=
z;H-=c;(G&v)===(G&h)&&(H&x)===(H&l)?(K=t[H&l][G&h]|0,q[E]=m[K]):q[E]=D;E+=1;G+=z;H-=c;(G&v)===(G&h)&&(H&x)===(H&l)?(K=t[H&l][G&h]|0,q[E]=m[K]):q[E]=D;E+=1;G+=z;H-=c;(G&v)===(G&h)&&(H&x)===(H&l)?(K=t[H&l][G&h]|0,q[E]=m[K]):q[E]=D;E+=1;G+=z;H-=c;(G&v)===(G&h)&&(H&x)===(H&l)?(K=t[H&l][G&h]|0,q[E]=m[K]):q[E]=D;E+=1;G+=z;H-=c;(G&v)===(G&h)&&(H&x)===(H&l)?(K=t[H&l][G&h]|0,q[E]=m[K]):q[E]=D;E+=1;G+=z;H-=c}C+=c;H=B+=z}(this.Xb||this.Pd)&&this.Nj()&&this.Te();t=f;for(f=1;f<u;f+=1)for(D=2<this.g?0===this.I?
this.g/this.L*f|0:f<u/2?this.I/this.L*f*2|0:this.I+this.g/this.L*f|0:(this.Kd+1)/this.L*f|0,y+=a,this.Ee(y),c/=this.h,z/=this.h,A*=this.h,h=d,d=.125>A?15:.25>A?7:.5>A?3:1>A?1:0,d!==h&&(t=this.ca),h=this.fb&~d,l=this.hb&~d,v=~d,x=~d,B=-(this.D/2*-c+this.C/2*z)+this.Od,C=-(this.D/2*z+this.C/2*c)+this.Nd,E=0,H=B,r=0;r<this.C;r+=1){G=C;for(w=0;w<g;w+=1)(G&v)===(G&h)&&(H&x)===(H&l)&&(K=t[H&l][G&h]|0,K>=D&&(q[E]=m[K])),E+=1,G+=z,H-=c,(G&v)===(G&h)&&(H&x)===(H&l)&&(K=t[H&l][G&h]|0,K>=D&&(q[E]=m[K])),E+=
1,G+=z,H-=c,(G&v)===(G&h)&&(H&x)===(H&l)&&(K=t[H&l][G&h]|0,K>=D&&(q[E]=m[K])),E+=1,G+=z,H-=c,(G&v)===(G&h)&&(H&x)===(H&l)&&(K=t[H&l][G&h]|0,K>=D&&(q[E]=m[K])),E+=1,G+=z,H-=c,(G&v)===(G&h)&&(H&x)===(H&l)&&(K=t[H&l][G&h]|0,K>=D&&(q[E]=m[K])),E+=1,G+=z,H-=c,(G&v)===(G&h)&&(H&x)===(H&l)&&(K=t[H&l][G&h]|0,K>=D&&(q[E]=m[K])),E+=1,G+=z,H-=c,(G&v)===(G&h)&&(H&x)===(H&l)&&(K=t[H&l][G&h]|0,K>=D&&(q[E]=m[K])),E+=1,G+=z,H-=c,(G&v)===(G&h)&&(H&x)===(H&l)&&(K=t[H&l][G&h]|0,K>=D&&(q[E]=m[K])),E+=1,G+=z,H-=c;C+=
c;H=B+=z}};b.prototype.ew=function(c,f,d){var g=this.D>>3,m=this.Rh,q=this.Fe,r,w,u=1,y=1,a=0,h=this.fb&~d,l=this.hb&~d,v=~d,x=~d,t=c,A=this.Ba;1<this.h&&(u=this.L);c=1/this.Ba;var z=-(this.C/2*c)+this.Od;var B=-(this.D/2*c)+this.Nd;1<this.L&&1<this.h&&(a=.4/(this.L-1),y=.6);this.Ee(y);var C=this.width<this.$?m[0]|0:this.fn|0;var D=0;var E=z;for(r=0;r<this.C;r+=1){if((E&x)===(E&l)){var H=t[E&l];var G=B;this.V&&(G+=.5*(E|0));for(w=0;w<g;w+=1){if((G&v)===(G&h)){var K=H[G&h]|0;q[D]=m[K]}else q[D]=C;
D+=1;G+=c;(G&v)===(G&h)?(K=H[G&h]|0,q[D]=m[K]):q[D]=C;D+=1;G+=c;(G&v)===(G&h)?(K=H[G&h]|0,q[D]=m[K]):q[D]=C;D+=1;G+=c;(G&v)===(G&h)?(K=H[G&h]|0,q[D]=m[K]):q[D]=C;D+=1;G+=c;(G&v)===(G&h)?(K=H[G&h]|0,q[D]=m[K]):q[D]=C;D+=1;G+=c;(G&v)===(G&h)?(K=H[G&h]|0,q[D]=m[K]):q[D]=C;D+=1;G+=c;(G&v)===(G&h)?(K=H[G&h]|0,q[D]=m[K]):q[D]=C;D+=1;G+=c;(G&v)===(G&h)?(K=H[G&h]|0,q[D]=m[K]):q[D]=C;D+=1;G+=c}}else if(arrayFill)q.fill(C,D,D+this.D+1),D+=this.D;else for(w=0;w<g;w+=1)q[D]=C,D+=1,q[D]=C,D+=1,q[D]=C,D+=1,q[D]=
C,D+=1,q[D]=C,D+=1,q[D]=C,D+=1,q[D]=C,D+=1,q[D]=C,D+=1;E=z+=c}(this.Xb||this.Pd)&&this.Nj()&&this.Te();t=f;for(f=1;f<u;f+=1)for(C=2<this.g?0===this.I?this.g/this.L*f|0:f<u/2?this.I/this.L*f*2|0:this.I+this.g/this.L*f|0:(this.Kd+1)/this.L*f|0,y+=a,this.Ee(y),c/=this.h,A*=this.h,h=d,d=.125>A?15:.25>A?7:.5>A?3:1>A?1:0,d!==h&&(t=this.ca),h=this.fb&~d,l=this.hb&~d,v=~d,x=~d,z=-(this.C/2*c)+this.Od,B=-(this.D/2*c)+this.Nd,D=0,E=z,r=0;r<this.C;r+=1){if((E&x)===(E&l))for(H=t[E&l],G=B,this.V&&(G+=.5*(E|0)),
w=0;w<g;w+=1)(G&v)===(G&h)&&(K=H[G&h]|0,K>=C&&(q[D]=m[K])),D+=1,G+=c,(G&v)===(G&h)&&(K=t[E&l][G&h]|0,K>=C&&(q[D]=m[K])),D+=1,G+=c,(G&v)===(G&h)&&(K=t[E&l][G&h]|0,K>=C&&(q[D]=m[K])),D+=1,G+=c,(G&v)===(G&h)&&(K=t[E&l][G&h]|0,K>=C&&(q[D]=m[K])),D+=1,G+=c,(G&v)===(G&h)&&(K=t[E&l][G&h]|0,K>=C&&(q[D]=m[K])),D+=1,G+=c,(G&v)===(G&h)&&(K=t[E&l][G&h]|0,K>=C&&(q[D]=m[K])),D+=1,G+=c,(G&v)===(G&h)&&(K=t[E&l][G&h]|0,K>=C&&(q[D]=m[K])),D+=1,G+=c,(G&v)===(G&h)&&(K=t[E&l][G&h]|0,K>=C&&(q[D]=m[K])),D+=1,G+=c;else D+=
g<<3;E=z+=c}};b.prototype.sw=function(c,f,d){var g=this.D>>3,m=this.Rh,q=this.Fe,r,w,u=1,y=1,a=0,h=this.fb&~d,l=this.hb&~d,v=c,x=this.Ba;1<this.h&&(u=this.L);c=Math.sin(this.Ra/180*Math.PI)/this.Ba;var t=Math.cos(this.Ra/180*Math.PI)/this.Ba;var A=-(this.D/2*-c+this.C/2*t)+this.Od;var z=-(this.D/2*t+this.C/2*c)+this.Nd;1<this.L&&1<this.h&&(a=.4/(this.L-1),y=.6);this.Ee(y);var B=0;var C=A;for(r=0;r<this.C;r+=1){var D=z;for(w=0;w<g;w+=1){var E=v[C&l][D&h]|0;q[B]=m[E];B+=1;D+=t;C-=c;E=v[C&l][D&h]|0;
q[B]=m[E];B+=1;D+=t;C-=c;E=v[C&l][D&h]|0;q[B]=m[E];B+=1;D+=t;C-=c;E=v[C&l][D&h]|0;q[B]=m[E];B+=1;D+=t;C-=c;E=v[C&l][D&h]|0;q[B]=m[E];B+=1;D+=t;C-=c;E=v[C&l][D&h]|0;q[B]=m[E];B+=1;D+=t;C-=c;E=v[C&l][D&h]|0;q[B]=m[E];B+=1;D+=t;C-=c;E=v[C&l][D&h]|0;q[B]=m[E];B+=1;D+=t;C-=c}z+=c;C=A+=t}(this.Xb||this.Pd)&&this.Nj()&&this.Te();v=f;for(f=1;f<u;f+=1){var H=2<this.g?0===this.I?this.g/this.L*f|0:f<u/2?this.I/this.L*f*2|0:this.I+this.g/this.L*f|0:(this.Kd+1)/this.L*f|0;y+=a;this.Ee(y);c/=this.h;t/=this.h;x*=
this.h;h=d;.125>x?d=15:.25>x?d=7:.5>x?d=3:1>x?d=1:(v=this.ca,d=0);d!==h&&(v=this.ca);h=this.fb&~d;l=this.hb&~d;A=-(this.D/2*-c+this.C/2*t)+this.Od;z=-(this.D/2*t+this.C/2*c)+this.Nd;B=0;C=A;for(r=0;r<this.C;r+=1){D=z;for(w=0;w<g;w+=1)E=v[C&l][D&h]|0,E>=H&&(q[B]=m[E]),B+=1,D+=t,C-=c,E=v[C&l][D&h]|0,E>=H&&(q[B]=m[E]),B+=1,D+=t,C-=c,E=v[C&l][D&h]|0,E>=H&&(q[B]=m[E]),B+=1,D+=t,C-=c,E=v[C&l][D&h]|0,E>=H&&(q[B]=m[E]),B+=1,D+=t,C-=c,E=v[C&l][D&h]|0,E>=H&&(q[B]=m[E]),B+=1,D+=t,C-=c,E=v[C&l][D&h]|0,E>=H&&
(q[B]=m[E]),B+=1,D+=t,C-=c,E=v[C&l][D&h]|0,E>=H&&(q[B]=m[E]),B+=1,D+=t,C-=c,E=v[C&l][D&h]|0,E>=H&&(q[B]=m[E]),B+=1,D+=t,C-=c;z+=c;C=A+=t}}};b.prototype.vw=function(c,f,d){var g=this.D>>3,m=this.Rh,q=this.Fe,r,w=1,u=1,y=0,a=this.fb&~d,h=this.hb&~d,l=c,v=this.Ba;1<this.h&&(w=this.L);c=1/this.Ba;var x=-(this.C/2*c)+this.Od;var t=-(this.D/2*c)+this.Nd;1<this.L&&1<this.h&&(y=.4/(this.L-1),u=.6);this.Ee(u);var A=0;var z=x;for(r=0;r<this.C;r+=1){var B=l[z&h];var C=t;this.V&&(C+=.5*(z|0));for(z=0;z<g;z+=
1){var D=B[C&a];q[A]=m[D];A+=1;C+=c;D=B[C&a];q[A]=m[D];A+=1;C+=c;D=B[C&a];q[A]=m[D];A+=1;C+=c;D=B[C&a];q[A]=m[D];A+=1;C+=c;D=B[C&a];q[A]=m[D];A+=1;C+=c;D=B[C&a];q[A]=m[D];A+=1;C+=c;D=B[C&a];q[A]=m[D];A+=1;C+=c;D=B[C&a];q[A]=m[D];A+=1;C+=c}z=x+=c}(this.Xb||this.Pd)&&this.Nj()&&this.Te();l=f;for(f=1;f<w;f+=1){var E=2<this.g?0===this.I?this.g/this.L*f|0:f<w/2?this.I/this.L*f*2|0:this.I+this.g/this.L*f|0:(this.Kd+1)/this.L*f|0;u+=y;this.Ee(u);c/=this.h;v*=this.h;a=d;d=.125>v?15:.25>v?7:.5>v?3:1>v?1:0;
d!==a&&(l=this.ca);a=this.fb&~d;h=this.hb&~d;x=-(this.C/2*c)+this.Od;t=-(this.D/2*c)+this.Nd;A=0;z=x;for(r=0;r<this.C;r+=1){B=l[z&h];C=t;this.V&&(C+=.5*(z|0));for(z=0;z<g;z+=1)D=B[C&a]|0,D>=E&&(q[A]=m[D]),A+=1,C+=c,D=B[C&a]|0,D>=E&&(q[A]=m[D]),A+=1,C+=c,D=B[C&a]|0,D>=E&&(q[A]=m[D]),A+=1,C+=c,D=B[C&a]|0,D>=E&&(q[A]=m[D]),A+=1,C+=c,D=B[C&a]|0,D>=E&&(q[A]=m[D]),A+=1,C+=c,D=B[C&a]|0,D>=E&&(q[A]=m[D]),A+=1,C+=c,D=B[C&a]|0,D>=E&&(q[A]=m[D]),A+=1,C+=c,D=B[C&a]|0,D>=E&&(q[A]=m[D]),A+=1,C+=c;z=x+=c}}};b.prototype.Ig=
function(c,f,d){var g=Math.sin(this.Ra/180*Math.PI)/this.Ba,m=Math.cos(this.Ra/180*Math.PI)/this.Ba,q=this.D,r=this.C,w=-(this.D/2*-g+this.C/2*m)+this.Od,u=-(this.D/2*m+this.C/2*g)+this.Nd,y=w+q*-g,a=u+q*m,h=w+r*m;r=u+r*g;g=h+q*-g;m=r+q*m;q=w;var l=u;a<l&&(l=a);r<l&&(l=r);m<l&&(l=r);a>u&&(u=a);r>u&&(u=r);m>u&&(u=m);y<q&&(q=y);h<q&&(q=h);g<q&&(q=g);y>w&&(w=y);h>w&&(w=h);g>w&&(w=g);0>(l|0)||(u|0)>=this.width||0>(q|0)||(w|0)>=this.height?0===this.Ra?this.ew(c,f,d):this.bw(c,f,d):0===this.Ra?this.vw(c,
f,d):this.sw(c,f,d)};b.prototype.Gv=function(c,f,d){var g=this.D>>3,m=this.Rh,q=this.Fe,r,w,u=ViewConstants.Ma[3]+128,y=ViewConstants.Ma[4]+128,a=ViewConstants.Ma[5]+128,h=ViewConstants.Ma[6]+128,l=1,v=1,x=0,t=this.gb,A=this.fb&~d,z=this.hb&~d,B=~d,C=~d,D=f,E=this.Ba;1<this.h&&(l=this.L);var H=Math.sin(this.Ra/180*Math.PI)/this.Ba;var G=Math.cos(this.Ra/180*Math.PI)/this.Ba;var K=-(this.D/2*-H+this.C/2*G)+this.Od;var O=-(this.D/2*G+this.C/2*H)+this.Nd;1<this.L&&1<this.h&&(x=.4/(this.L-1),v=.6);this.Ee(v);
var J=this.width<this.$?m[0]|0:this.fn|0;var F=0;var I=K;for(r=0;r<this.C;r+=1){var M=O;for(w=0;w<g;w+=1){if((M&B)===(M&A)&&(I&C)===(I&z)){var N=D[I&z][M&A];var R=c[I&z][M&A];R===y||R===h?(N>=t&&(R=u),N=m[R]|0):R===u||R===a?(N<t&&(R=y),N=m[R]|0):N=m[N]|0;q[F]=N}else q[F]=J;F+=1;M+=G;I-=H;(M&B)===(M&A)&&(I&C)===(I&z)?(N=D[I&z][M&A],R=c[I&z][M&A],R===y||R===h?(N>=t&&(R=u),N=m[R]|0):R===u||R===a?(N<t&&(R=y),N=m[R]|0):N=m[N]|0,q[F]=N):q[F]=J;F+=1;M+=G;I-=H;(M&B)===(M&A)&&(I&C)===(I&z)?(N=D[I&z][M&A],
R=c[I&z][M&A],R===y||R===h?(N>=t&&(R=u),N=m[R]|0):R===u||R===a?(N<t&&(R=y),N=m[R]|0):N=m[N]|0,q[F]=N):q[F]=J;F+=1;M+=G;I-=H;(M&B)===(M&A)&&(I&C)===(I&z)?(N=D[I&z][M&A],R=c[I&z][M&A],R===y||R===h?(N>=t&&(R=u),N=m[R]|0):R===u||R===a?(N<t&&(R=y),N=m[R]|0):N=m[N]|0,q[F]=N):q[F]=J;F+=1;M+=G;I-=H;(M&B)===(M&A)&&(I&C)===(I&z)?(N=D[I&z][M&A],R=c[I&z][M&A],R===y||R===h?(N>=t&&(R=u),N=m[R]|0):R===u||R===a?(N<t&&(R=y),N=m[R]|0):N=m[N]|0,q[F]=N):q[F]=J;F+=1;M+=G;I-=H;(M&B)===(M&A)&&(I&C)===(I&z)?(N=D[I&z][M&
A],R=c[I&z][M&A],R===y||R===h?(N>=t&&(R=u),N=m[R]|0):R===u||R===a?(N<t&&(R=y),N=m[R]|0):N=m[N]|0,q[F]=N):q[F]=J;F+=1;M+=G;I-=H;(M&B)===(M&A)&&(I&C)===(I&z)?(N=D[I&z][M&A],R=c[I&z][M&A],R===y||R===h?(N>=t&&(R=u),N=m[R]|0):R===u||R===a?(N<t&&(R=y),N=m[R]|0):N=m[N]|0,q[F]=N):q[F]=J;F+=1;M+=G;I-=H;(M&B)===(M&A)&&(I&C)===(I&z)?(N=D[I&z][M&A],R=c[I&z][M&A],R===y||R===h?(N>=t&&(R=u),N=m[R]|0):R===u||R===a?(N<t&&(R=y),N=m[R]|0):N=m[N]|0,q[F]=N):q[F]=J;F+=1;M+=G;I-=H}O+=H;I=K+=G}(this.Xb||this.Pd)&&this.Nj()&&
this.Te();D=f;for(c=1;c<l;c+=1)for(f=2<this.g?0===this.I?this.g/this.L*c|0:c<l/2?this.I/this.L*c*2|0:this.I+this.g/this.L*c|0:(this.Kd+1)/this.L*c|0,v+=x,this.Ee(v),H/=this.h,G/=this.h,E*=this.h,r=d,.125>E?d=15:.25>E?d=7:.5>E?d=3:1>E?d=1:(D=this.ca,d=0),d!==r&&(D=this.ca),A=this.fb&~d,z=this.hb&~d,B=~d,C=~d,K=-(this.D/2*-H+this.C/2*G)+this.Od,O=-(this.D/2*G+this.C/2*H)+this.Nd,F=0,I=K,r=0;r<this.C;r+=1){M=O;for(w=0;w<g;w+=1)(M&B)===(M&A)&&(I&C)===(I&z)&&(N=D[I&z][M&A]|0,N>=f&&(q[F]=m[N])),F+=1,M+=
G,I-=H,(M&B)===(M&A)&&(I&C)===(I&z)&&(N=D[I&z][M&A]|0,N>=f&&(q[F]=m[N])),F+=1,M+=G,I-=H,(M&B)===(M&A)&&(I&C)===(I&z)&&(N=D[I&z][M&A]|0,N>=f&&(q[F]=m[N])),F+=1,M+=G,I-=H,(M&B)===(M&A)&&(I&C)===(I&z)&&(N=D[I&z][M&A]|0,N>=f&&(q[F]=m[N])),F+=1,M+=G,I-=H,(M&B)===(M&A)&&(I&C)===(I&z)&&(N=D[I&z][M&A]|0,N>=f&&(q[F]=m[N])),F+=1,M+=G,I-=H,(M&B)===(M&A)&&(I&C)===(I&z)&&(N=D[I&z][M&A]|0,N>=f&&(q[F]=m[N])),F+=1,M+=G,I-=H,(M&B)===(M&A)&&(I&C)===(I&z)&&(N=D[I&z][M&A]|0,N>=f&&(q[F]=m[N])),F+=1,M+=G,I-=H,(M&B)===
(M&A)&&(I&C)===(I&z)&&(N=D[I&z][M&A]|0,N>=f&&(q[F]=m[N])),F+=1,M+=G,I-=H;O+=H;I=K+=G}};b.prototype.Ov=function(c,f,d){var g=this.D>>3,m=this.Rh,q=this.Fe,r,w,u=ViewConstants.Ma[3]+128,y=ViewConstants.Ma[4]+128,a=ViewConstants.Ma[5]+128,h=ViewConstants.Ma[6]+128,l=1,v=1,x=0,t=this.gb,A=this.fb&~d,z=this.hb&~d,B=f,C=this.Ba;1<this.h&&(l=this.L);var D=Math.sin(this.Ra/180*Math.PI)/this.Ba;var E=Math.cos(this.Ra/180*Math.PI)/this.Ba;var H=-(this.D/2*-D+this.C/2*E)+this.Od;var G=-(this.D/2*E+this.C/2*
D)+this.Nd;1<this.L&&1<this.h&&(x=.4/(this.L-1),v=.6);this.Ee(v);var K=0;var O=H;for(r=0;r<this.C;r+=1){var J=G;for(w=0;w<g;w+=1){var F=B[O&z][J&A];var I=c[O&z][J&A];I===y||I===h?(F>=t&&(I=u),F=m[I]|0):I===u||I===a?(F<t&&(I=y),F=m[I]|0):F=m[F]|0;q[K]=F;K+=1;J+=E;O-=D;F=B[O&z][J&A];I=c[O&z][J&A];I===y||I===h?(F>=t&&(I=u),F=m[I]|0):I===u||I===a?(F<t&&(I=y),F=m[I]|0):F=m[F]|0;q[K]=F;K+=1;J+=E;O-=D;F=B[O&z][J&A];I=c[O&z][J&A];I===y||I===h?(F>=t&&(I=u),F=m[I]|0):I===u||I===a?(F<t&&(I=y),F=m[I]|0):F=m[F]|
0;q[K]=F;K+=1;J+=E;O-=D;F=B[O&z][J&A];I=c[O&z][J&A];I===y||I===h?(F>=t&&(I=u),F=m[I]|0):I===u||I===a?(F<t&&(I=y),F=m[I]|0):F=m[F]|0;q[K]=F;K+=1;J+=E;O-=D;F=B[O&z][J&A];I=c[O&z][J&A];I===y||I===h?(F>=t&&(I=u),F=m[I]|0):I===u||I===a?(F<t&&(I=y),F=m[I]|0):F=m[F]|0;q[K]=F;K+=1;J+=E;O-=D;F=B[O&z][J&A];I=c[O&z][J&A];I===y||I===h?(F>=t&&(I=u),F=m[I]|0):I===u||I===a?(F<t&&(I=y),F=m[I]|0):F=m[F]|0;q[K]=F;K+=1;J+=E;O-=D;F=B[O&z][J&A];I=c[O&z][J&A];I===y||I===h?(F>=t&&(I=u),F=m[I]|0):I===u||I===a?(F<t&&(I=y),
F=m[I]|0):F=m[F]|0;q[K]=F;K+=1;J+=E;O-=D;F=B[O&z][J&A];I=c[O&z][J&A];I===y||I===h?(F>=t&&(I=u),F=m[I]|0):I===u||I===a?(F<t&&(I=y),F=m[I]|0):F=m[F]|0;q[K]=F;K+=1;J+=E;O-=D}G+=D;O=H+=E}(this.Xb||this.Pd)&&this.Nj()&&this.Te();B=f;for(c=1;c<l;c+=1)for(f=2<this.g?0===this.I?this.g/this.L*c|0:c<l/2?this.I/this.L*c*2|0:this.I+this.g/this.L*c|0:(this.Kd+1)/this.L*c|0,v+=x,this.Ee(v),D/=this.h,E/=this.h,C*=this.h,r=d,.125>C?d=15:.25>C?d=7:.5>C?d=3:1>C?d=1:(B=this.ca,d=0),d!==r&&(B=this.ca),A=this.fb&~d,z=
this.hb&~d,H=-(this.D/2*-D+this.C/2*E)+this.Od,G=-(this.D/2*E+this.C/2*D)+this.Nd,K=0,O=H,r=0;r<this.C;r+=1){J=G;for(w=0;w<g;w+=1)F=B[O&z][J&A]|0,F>=f&&(q[K]=m[F]),K+=1,J+=E,O-=D,F=B[O&z][J&A]|0,F>=f&&(q[K]=m[F]),K+=1,J+=E,O-=D,F=B[O&z][J&A]|0,F>=f&&(q[K]=m[F]),K+=1,J+=E,O-=D,F=B[O&z][J&A]|0,F>=f&&(q[K]=m[F]),K+=1,J+=E,O-=D,F=B[O&z][J&A]|0,F>=f&&(q[K]=m[F]),K+=1,J+=E,O-=D,F=B[O&z][J&A]|0,F>=f&&(q[K]=m[F]),K+=1,J+=E,O-=D,F=B[O&z][J&A]|0,F>=f&&(q[K]=m[F]),K+=1,J+=E,O-=D,F=B[O&z][J&A]|0,F>=f&&(q[K]=
m[F]),K+=1,J+=E,O-=D;G+=D;O=H+=E}};b.prototype.Vv=function(c,f,d){var g=this.D>>3,m=this.Rh,q=this.Fe,r,w=ViewConstants.Ma[3]+128,u=ViewConstants.Ma[4]+128,y=ViewConstants.Ma[5]+128,a=ViewConstants.Ma[6]+128,h=1,l=1,v=0,x=this.gb,t=this.fb&~d,A=this.hb&~d,z=f,B=this.Ba;1<this.h&&(h=this.L);var C=1/this.Ba;var D=-(this.C/2*C)+this.Od;var E=-(this.D/2*C)+this.Nd;1<this.L&&1<this.h&&(v=.4/(this.L-1),l=.6);this.Ee(l);var H=0;var G=D;for(r=0;r<this.C;r+=1){var K=z[G&A];var O=c[G&A];var J=E;this.V&&(J+=
.5*(G|0));for(G=0;G<g;G+=1){var F=K[J&t];var I=O[J&t];I===u||I===a?(F>=x&&(I=w),F=m[I]|0):I===w||I===y?(F<x&&(I=u),F=m[I]|0):F=m[F]|0;q[H]=F;H+=1;J+=C;F=K[J&t];I=O[J&t];I===u||I===a?(F>=x&&(I=w),F=m[I]|0):I===w||I===y?(F<x&&(I=u),F=m[I]|0):F=m[F]|0;q[H]=F;H+=1;J+=C;F=K[J&t];I=O[J&t];I===u||I===a?(F>=x&&(I=w),F=m[I]|0):I===w||I===y?(F<x&&(I=u),F=m[I]|0):F=m[F]|0;q[H]=F;H+=1;J+=C;F=K[J&t];I=O[J&t];I===u||I===a?(F>=x&&(I=w),F=m[I]|0):I===w||I===y?(F<x&&(I=u),F=m[I]|0):F=m[F]|0;q[H]=F;H+=1;J+=C;F=K[J&
t];I=O[J&t];I===u||I===a?(F>=x&&(I=w),F=m[I]|0):I===w||I===y?(F<x&&(I=u),F=m[I]|0):F=m[F]|0;q[H]=F;H+=1;J+=C;F=K[J&t];I=O[J&t];I===u||I===a?(F>=x&&(I=w),F=m[I]|0):I===w||I===y?(F<x&&(I=u),F=m[I]|0):F=m[F]|0;q[H]=F;H+=1;J+=C;F=K[J&t];I=O[J&t];I===u||I===a?(F>=x&&(I=w),F=m[I]|0):I===w||I===y?(F<x&&(I=u),F=m[I]|0):F=m[F]|0;q[H]=F;H+=1;J+=C;F=K[J&t];I=O[J&t];I===u||I===a?(F>=x&&(I=w),F=m[I]|0):I===w||I===y?(F<x&&(I=u),F=m[I]|0):F=m[F]|0;q[H]=F;H+=1;J+=C}G=D+=C}(this.Xb||this.Pd)&&this.Nj()&&this.Te();
z=f;for(c=1;c<h;c+=1)for(f=2<this.g?0===this.I?this.g/this.L*c|0:c<h/2?this.I/this.L*c*2|0:this.I+this.g/this.L*c|0:(this.Kd+1)/this.L*c|0,l+=v,this.Ee(l),C/=this.h,B*=this.h,r=d,.125>B?d=15:.25>B?d=7:.5>B?d=3:1>B?d=1:(z=this.ca,d=0),d!==r&&(z=this.ca),t=this.fb&~d,A=this.hb&~d,D=-(this.C/2*C)+this.Od,E=-(this.D/2*C)+this.Nd,H=0,G=D,r=0;r<this.C;r+=1){K=z[G&A];J=E;this.V&&(J+=.5*(G|0));for(G=0;G<g;G+=1)F=K[J&t]|0,F>=f&&(q[H]=m[F]),H+=1,J+=C,F=K[J&t]|0,F>=f&&(q[H]=m[F]),H+=1,J+=C,F=K[J&t]|0,F>=f&&
(q[H]=m[F]),H+=1,J+=C,F=K[J&t]|0,F>=f&&(q[H]=m[F]),H+=1,J+=C,F=K[J&t]|0,F>=f&&(q[H]=m[F]),H+=1,J+=C,F=K[J&t]|0,F>=f&&(q[H]=m[F]),H+=1,J+=C,F=K[J&t]|0,F>=f&&(q[H]=m[F]),H+=1,J+=C,F=K[J&t]|0,F>=f&&(q[H]=m[F]),H+=1,J+=C;G=D+=C}};b.prototype.Hv=function(c,f,d){var g=this.D>>3,m=this.Rh,q=this.Fe,r,w=ViewConstants.Ma[3]+128,u=ViewConstants.Ma[4]+128,y=ViewConstants.Ma[5]+128,a=ViewConstants.Ma[6]+128,h=1,l=1,v=0,x=this.gb,t=this.fb&~d,A=this.hb&~d,z=~d,B=~d,C=f,D=this.Ba;1<this.h&&(h=this.L);var E=1/this.Ba;
var H=-(this.C/2*E)+this.Od;var G=-(this.D/2*E)+this.Nd;1<this.L&&1<this.h&&(v=.4/(this.L-1),l=.6);this.Ee(l);var K=this.width<this.$?m[0]|0:this.fn|0;var O=0;var J=H;for(r=0;r<this.C;r+=1){if((J&B)===(J&A)){var F=C[J&A];var I=c[J&A];var M=G;this.V&&(M+=.5*(J|0));for(J=0;J<g;J+=1){if((M&z)===(M&t)){var N=F[M&t];var R=I[M&t];R===u||R===a?(N>=x&&(R=w),N=m[R]|0):R===w||R===y?(N<x&&(R=u),N=m[R]|0):N=m[N]|0}else N=K;q[O]=N;O+=1;M+=E;(M&z)===(M&t)?(N=F[M&t],R=I[M&t],R===u||R===a?(N>=x&&(R=w),N=m[R]|0):
R===w||R===y?(N<x&&(R=u),N=m[R]|0):N=m[N]|0):N=K;q[O]=N;O+=1;M+=E;(M&z)===(M&t)?(N=F[M&t],R=I[M&t],R===u||R===a?(N>=x&&(R=w),N=m[R]|0):R===w||R===y?(N<x&&(R=u),N=m[R]|0):N=m[N]|0):N=K;q[O]=N;O+=1;M+=E;(M&z)===(M&t)?(N=F[M&t],R=I[M&t],R===u||R===a?(N>=x&&(R=w),N=m[R]|0):R===w||R===y?(N<x&&(R=u),N=m[R]|0):N=m[N]|0):N=K;q[O]=N;O+=1;M+=E;(M&z)===(M&t)?(N=F[M&t],R=I[M&t],R===u||R===a?(N>=x&&(R=w),N=m[R]|0):R===w||R===y?(N<x&&(R=u),N=m[R]|0):N=m[N]|0):N=K;q[O]=N;O+=1;M+=E;(M&z)===(M&t)?(N=F[M&t],R=I[M&
t],R===u||R===a?(N>=x&&(R=w),N=m[R]|0):R===w||R===y?(N<x&&(R=u),N=m[R]|0):N=m[N]|0):N=K;q[O]=N;O+=1;M+=E;(M&z)===(M&t)?(N=F[M&t],R=I[M&t],R===u||R===a?(N>=x&&(R=w),N=m[R]|0):R===w||R===y?(N<x&&(R=u),N=m[R]|0):N=m[N]|0):N=K;q[O]=N;O+=1;M+=E;(M&z)===(M&t)?(N=F[M&t],R=I[M&t],R===u||R===a?(N>=x&&(R=w),N=m[R]|0):R===w||R===y?(N<x&&(R=u),N=m[R]|0):N=m[N]|0):N=K;q[O]=N;O+=1;M+=E}}else if(arrayFill)q.fill(K,O,O+this.D+1),O+=this.D;else for(J=0;J<g;J+=1)q[O]=K,O+=1,q[O]=K,O+=1,q[O]=K,O+=1,q[O]=K,O+=1,q[O]=
K,O+=1,q[O]=K,O+=1,q[O]=K,O+=1,q[O]=K,O+=1;J=H+=E}(this.Xb||this.Pd)&&this.Nj()&&this.Te();C=f;for(c=1;c<h;c+=1)for(f=2<this.g?0===this.I?this.g/this.L*c|0:c<h/2?this.I/this.L*c*2|0:this.I+this.g/this.L*c|0:(this.Kd+1)/this.L*c|0,l+=v,this.Ee(l),E/=this.h,D*=this.h,r=d,.125>D?d=15:.25>D?d=7:.5>D?d=3:1>D?d=1:(C=this.ca,d=0),d!==r&&(C=this.ca),t=this.fb&~d,A=this.hb&~d,z=~d,B=~d,H=-(this.C/2*E)+this.Od,G=-(this.D/2*E)+this.Nd,O=0,J=H,r=0;r<this.C;r+=1){if((J&B)===(J&A))for(F=C[J&A],M=G,this.V&&(M+=
.5*(J|0)),J=0;J<g;J+=1)(M&z)===(M&t)&&(N=F[M&t]|0,N>=f&&(q[O]=m[N])),O+=1,M+=E,(M&z)===(M&t)&&(N=F[M&t]|0,N>=f&&(q[O]=m[N])),O+=1,M+=E,(M&z)===(M&t)&&(N=F[M&t]|0,N>=f&&(q[O]=m[N])),O+=1,M+=E,(M&z)===(M&t)&&(N=F[M&t]|0,N>=f&&(q[O]=m[N])),O+=1,M+=E,(M&z)===(M&t)&&(N=F[M&t]|0,N>=f&&(q[O]=m[N])),O+=1,M+=E,(M&z)===(M&t)&&(N=F[M&t]|0,N>=f&&(q[O]=m[N])),O+=1,M+=E,(M&z)===(M&t)&&(N=F[M&t]|0,N>=f&&(q[O]=m[N])),O+=1,M+=E,(M&z)===(M&t)&&(N=F[M&t]|0,N>=f&&(q[O]=m[N])),O+=1,M+=E;else O+=g<<3;J=H+=E}};b.prototype.oh=
function(c,f,d){var g=Math.sin(this.Ra/180*Math.PI)/this.Ba,m=Math.cos(this.Ra/180*Math.PI)/this.Ba,q=this.D,r=this.C,w=-(this.D/2*-g+this.C/2*m)+this.Od,u=-(this.D/2*m+this.C/2*g)+this.Nd,y=w+q*-g,a=u+q*m,h=w+r*m;r=u+r*g;g=h+q*-g;m=r+q*m;q=w;var l=u;a<l&&(l=a);r<l&&(l=r);m<l&&(l=r);a>u&&(u=a);r>u&&(u=r);m>u&&(u=m);y<q&&(q=y);h<q&&(q=h);g<q&&(q=g);y>w&&(w=y);h>w&&(w=h);g>w&&(w=g);0>(l|0)||(u|0)>=this.width||0>(q|0)||(w|0)>=this.height?0===this.Ra?this.Hv(c,f,d):this.Gv(c,f,d):0===this.Ra?this.Vv(c,
f,d):this.Ov(c,f,d)};b.prototype.Gr=function(){var c;if(!this.Ve.data.buffer){var f=this.Ve.data;var d=this.Si;var g=d.length;for(c=0;c<g;)f[c]=d[c],c+=1,f[c]=d[c],c+=1,f[c]=d[c],c+=1,f[c]=d[c],c+=1}this.context.putImageData(this.Ve,0,0)};b.prototype.Hs=function(c){var f=0,d=this.C,g=this.D,m=this.Fe,q=this.bi;if(arrayFill)m.fill(c);else for(c=0;c<d;c+=1)m.set(q,f),f+=g};window.LifeConstants=k;window.Life=b}(),function(){function e(n,p){var b;n=n.replace(/&amp;/gi,"&");p&&(n=n.replace(/[=]/gm," = "),
n=n.replace(/\n/gm," _NEWLINE_ "));n=n.match(/\S+/g);this.h=[];for(b=0;b<n.length;b+=1){if(p&&"#"===n[b][0]){for(b+=1;b<n.length&&"_NEWLINE_"!==n[b];)b+=1;b<n.length&&(b+=1)}b<n.length&&(this.h[this.h.length]=n[b])}this.current=0}e.prototype.LG=function(){var n=!1;this.h&&this.current<this.h.length&&"_NEWLINE_"===this.h[this.current]&&(n=!0);return n};e.prototype.IA=function(n){var p=!1;"_NEWLINE_"===n&&(p=!0);return p};e.prototype.U=function(){var n="";this.h&&this.current<this.h.length&&(n=this.h[this.current],
this.current+=1);return n};e.prototype.Or=function(){var n;for(n=this.U();"_NEWLINE_"===n;)n=this.U();return n};e.prototype.ra=function(){var n="";this.h&&this.current<this.h.length&&(n=this.h[this.current]);return n};e.prototype.dm=function(n,p){var b=-1,k=this.current;-1!==p&&0<=p&&p<this.h.length&&(k=p);if(this.h)for(;k<this.h.length&&-1===b;)this.h[k]===n&&(b=k),k+=1;-1!==b&&(this.current=k);return b};e.prototype.En=function(n){return!isNaN(parseFloat(n))&&isFinite(Number(n))};e.prototype.A=function(n){var p=
!1,b=n.indexOf("/");-1!==b&&(p=n.substr(0,b),n=n.substr(b+1),p=this.En(p)&&this.En(n));return p};e.prototype.Mu=function(n){var p=0;if(this.A(n)){var b=n.indexOf("/");var k=n.substr(0,b);n=n.substr(b+1);0!==Number(n)&&(p=Number(k)/Number(n))}else this.En(n)&&(p=parseFloat(n));return p};e.prototype.J=function(){var n=this.U();return this.Mu(n)};e.prototype.G=function(){var n=!1;if(this.h&&this.current<this.h.length){var p=this.h[this.current];this.A(p)?n=!0:n=this.En(p)}return n};e.prototype.zF=function(){this.h&&
(this.current=this.h.length)};window.Script=e}(),function(){function e(f){this.na=f;this.Bm=this.Hh=this.Dn=!1;this.sg=c.Kw;this.nj=c.Wn;this.Fa=this.Eb=-1;this.angle=this.y=this.x=0;this.depth=this.L=this.zoom=1;this.hc=0;this.ec=60;this.step=1;this.hd=this.Sb=0;this.nf="";this.aq=this.Xj=this.ut=this.Mq=this.zk=this.xk=this.uy=this.SC=this.rq=this.Xk=this.Bl=this.Xh=this.Dh=this.Gf=this.zh=this.Kh=this.ae=this.qh=this.If=this.bg=this.Lc=this.xl=this.nh=this.lh=this.jh=this.af=!1}function n(f,d,
g,m,q,r,w,u,y,a,h,l,v,x,t,A,z){this.coords=f;this.$v=d;this.zoom=g;this.eg=m;this.alpha=q;this.size=r;this.Rb=w;this.Gg=u;this.gd=y;this.angle=a;this.Ck=h;this.nl=l;this.Hl=v;this.Il=x;this.mf=t;this.Kk=A;this.Lk=z}function p(f,d,g,m,q,r,w,u,y,a,h,l,v,x,t,A,z,B,C,D){this.rz=f;this.sz=d;this.vD=g;this.wD=m;this.zoom=q;this.eg=r;this.alpha=w;this.size=u;this.BA=y;this.Rb=a;this.Gg=h;this.gd=l;this.angle=v;this.Ck=x;this.nl=t;this.Hl=A;this.Il=z;this.mf=B;this.Kk=C;this.Lk=D}function b(f,d,g,m,q,r,w,
u,y,a,h,l,v,x,t,A,z){this.message="";this.x=f;this.y=d;this.zoom=g;this.eg=m;this.alpha=q;this.size=r;this.Rb=w;this.Gg=u;this.gd=y;this.angle=a;this.Ck=h;this.nl=l;this.Hl=v;this.Il=x;this.mf=t;this.Kk=A;this.Lk=z}function k(){this.Da=[];this.Vb=[];this.ef=[];this.Xe=[];this.hf=[];this.current=new e(this);this.wa=new e(this);this.A=new e(this);this.T=!1;this.pk=0;this.Z=!1}var c={Kw:0,play:1,stop:2,Wn:12,cC:0,bC:200};e.prototype.set=function(f){this.Dn=f.Dn;this.Hh=f.Hh;this.Bm=f.Bm;this.sg=f.sg;
this.nj=f.nj;this.Eb=f.Eb;this.Fa=f.Fa;this.x=f.x;this.y=f.y;this.jh=f.jh;this.lh=f.lh;this.nh=f.nh;this.af=f.af;this.angle=f.angle;this.zoom=f.zoom;this.L=f.L;this.depth=f.depth;this.hc=f.hc;this.ec=f.ec;this.Sb=f.Sb;this.hd=f.hd;this.nf=f.nf;this.xl=f.xl;this.Lc=f.Lc};e.prototype.h=function(){var f="";switch(this.sg){case c.play:f=Keywords.Xn;break;case c.stop:f=Keywords.Yn}return f};e.prototype.aI=function(f){this.Hh?(this.sg!==c.Kw&&(f[f.length]=[Keywords.Xn,"overwrites "+this.h()]),this.sg=c.play):
f[f.length]=[Keywords.Xn,"only valid at POI"]};e.prototype.hI=function(f){this.Hh?(this.sg!==c.Kw&&(f[f.length]=[Keywords.Yn,"overwrites "+this.h()]),this.sg=c.stop):f[f.length]=[Keywords.Yn,"only valid at POI"]};e.prototype.bI=function(f){this.Hh?(this.Bm&&(f[f.length]=[Keywords.Xp,"already defined"]),this.Bm=!0):f[f.length]=[Keywords.Xp,"only valid at POI"]};e.prototype.jI=function(f,d){this.Hh?(this.nj!==c.Wn&&(d[d.length]=[Keywords.Yp+" "+f,"overwrites "+this.nj]),this.nj=f):d[d.length]=[Keywords.Yp,
"only valid at POI"]};e.prototype.A=function(f,d,g){var m=f.hd+0,q=d.hd+0,r=f.angle+0,w=d.angle+0,u=1,y=1,a=1,h=1,l=1;g>q&&(g=q);q-m===ViewConstants.oI&&(m=q);q!==m&&(u=Math.round((g-m)/(q-m)*1E6)/1E6,y=this.na.Iz(u)+0);d.jh||d.af?a=u:a=y;d.lh||d.af?h=u:h=y;d.nh||d.af?l=u:l=y;this.x=f.x+a*(d.x-f.x);this.y=f.y+h*(d.y-f.y);this.zoom=f.zoom*Math.pow(d.zoom/f.zoom,l);180<w-r?r+=360:-180>w-r&&(w+=360);this.angle=(r+y*(w-r))%360;this.L=f.L+u*(d.L-f.L)|0;this.depth=f.depth+u*(d.depth-f.depth);this.hc=d.hc;
this.ec=d.ec;this.step=d.step;this.Sb=f.Sb+u*(d.Sb-f.Sb)|0;this.hd=g;this.nf=d.nf;this.af=d.af;this.Dn=d.Dn};k.prototype.VE=function(f,d,g,m,q,r,w,u,y,a,h,l,v,x,t,A,z){return new n(f,d,g,m,q,r,w,u,y,a,h,l,v,x,t,A,z)};k.prototype.nb=function(){this.hf=[]};k.prototype.eE=function(f){this.hf[this.hf.length]=f};k.prototype.PE=function(f,d,g,m,q,r,w,u,y,a,h,l,v,x,t,A,z,B,C,D){return new p(f,d,g,m,q,r,w,u,y,a,h,l,v,x,t,A,z,B,C,D)};k.prototype.Qa=function(){this.Xe=[]};k.prototype.bE=function(f){this.Xe[this.Xe.length]=
f};k.prototype.SE=function(f,d,g,m,q,r,w,u,y,a,h,l,v,x,t,A,z){return new b(f,d,g,m,q,r,w,u,y,a,h,l,v,x,t,A,z)};k.prototype.eb=function(){this.ef=[]};k.prototype.xz=function(f){this.ef[this.ef.length]=f};k.prototype.Nn=function(){return this.ef.length+this.Xe.length+this.hf.length};k.prototype.DE=function(){this.eb();this.Qa();this.nb()};k.prototype.dH=function(f){var d="",g="";0<=f&&f<this.hf.length&&(f=this.hf[f],f.nl&&(g="*"),d=f.$v?"FILL\t":"LINE\t",d+="X1"+g+" "+f.coords[0]+"\tY1"+g+" "+f.coords[1]);
return d};k.prototype.eH=function(f){var d="",g="";0<=f&&f<this.hf.length&&(d=this.hf[f],f=d.zoom,0<=f&&1>f&&(f=-1/f),d.Ck&&(g="*"),d="Z "+f.toFixed(1)+"\tA"+g+" "+d.angle.toFixed(1));return d};k.prototype.fH=function(f){var d="";0<=f&&f<this.hf.length&&(f=this.hf[f],d="Alpha "+f.alpha.toFixed(1),-1!==f.Rb&&(d+="\tT1 "+f.Rb+"\tT2 "+f.Gg,0<f.gd&&(d+="\tFade "+f.gd)));return d};k.prototype.gH=function(f){var d="";0<=f&&f<this.hf.length&&(d=this.hf[f].eg);return d};k.prototype.qE=function(f){var d="",
g="";0<=f&&f<this.Xe.length&&(f=this.Xe[f],f.nl&&(g="*"),d="X1"+g+" "+f.rz+"\tY1"+g+" "+f.sz,d+="\tX2"+g+" "+f.vD+"\tY2"+g+" "+f.wD);return d};k.prototype.rE=function(f){var d="",g="";0<=f&&f<this.Xe.length&&(d=this.Xe[f],f=d.zoom,0<=f&&1>f&&(f=-1/f),d.Ck&&(g="*"),d="Z "+f.toFixed(1)+"\tA"+g+" "+d.angle.toFixed(1));return d};k.prototype.sE=function(f){var d="";0<=f&&f<this.Xe.length&&(f=this.Xe[f],d="Alpha "+f.alpha.toFixed(1),-1!==f.Rb&&(d+="\tT1 "+f.Rb+"\tT2 "+f.Gg,0<f.gd&&(d+="\tFade "+f.gd)));
return d};k.prototype.Sq=function(f){var d="";0<=f&&f<this.Xe.length&&(d=this.Xe[f].eg);return d};k.prototype.qG=function(f){var d="",g="",m="";if(0<=f&&f<this.ef.length){var q=this.ef[f];f=q.zoom;0<=f&&1>f&&(f=-1/f);q.nl&&(g="*");q.Ck&&(m="*");d="X"+g+" "+q.x+"\tY"+g+" "+q.y;d+="\tZ "+f.toFixed(1)+"\tA"+m+" "+q.angle.toFixed(1)}return d};k.prototype.rG=function(f){var d="";0<=f&&f<this.ef.length&&(f=this.ef[f],d="Alpha "+f.alpha.toFixed(1),-1!==f.Rb&&(d+="\tT1 "+f.Rb+"\tT2 "+f.Gg,0<f.gd&&(d+="\tFade "+
f.gd)));return d};k.prototype.sG=function(f){var d="";0<=f&&f<this.ef.length&&(f=this.ef[f],d="Size "+f.size+'\t"'+f.message+'"');return d};k.prototype.tG=function(f){var d="";0<=f&&f<this.ef.length&&(d=this.ef[f].eg);return d};k.prototype.Gc=function(){this.ef.sort(function(f,d){return f.zoom-d.zoom})};k.prototype.jc=function(){this.Xe.sort(function(f,d){return f.zoom-d.zoom})};k.prototype.Hc=function(){this.hf.sort(function(f,d){return f.zoom-d.zoom})};k.prototype.qI=function(){this.Gc();this.jc();
this.Hc()};k.prototype.fa=function(f,d){var g,m=f.a,q=m.context,r=m.width/2-m.pa-m.Db,w=m.height/2-m.ka-m.wb,u=m.zoom*m.tc,y=m.D/2,a=m.C/2,h=f.a.v,l=m.V?-(m.height>>2):0,v=0,x=0,t=0,A=0,z=0;m.V&&(r+=w/2);d&&(q.strokeStyle=ViewConstants.uE);for(g=0;g<this.Xe.length;g+=1){var B=this.Xe[g];var C=!0;-1!==B.Rb&&(h<B.Rb||h>B.Gg)&&(C=!1);if(C){var D=B.size*u/B.zoom;var E=B.size/4;var H=4*B.size;d&&(v=1,24<=D&&(v=2,48<=D&&(v=3)));if(D>=E&&D<=H){E=Math.log(D/E)/Math.log(H/E);E=.25>=E?4*E:.75<=E?4*(1-E):1;
H=1;-1!==B.Rb&&0<B.gd&&(h-B.Rb<B.gd?H=(h-B.Rb+1)/B.gd:B.Gg-h<B.gd&&(H=(B.Gg-h+1)/B.gd));C=!0;var G=1;if(-1!==B.mf){var K=Math.sqrt((-(r+l)-B.Hl)*(-(r+l)-B.Hl)+(-w-B.Il)*(-w-B.Il));K>B.mf?C=!1:0<B.mf&&.75<K/B.mf&&(G=4*(1-K/B.mf))}C&&(q.globalAlpha=E*B.alpha*H*G,G=B.sz+w-(f.xb>>1)+.5,E=B.rz+r+l-(f.qb>>1)+.5,B.nl||(E+=m.Db,G+=m.wb),-1!==B.Rb?(E+=B.Kk*(f.bb-B.Rb),G+=B.Lk*(f.bb-B.Rb)):(E+=B.Kk*f.bb,G+=B.Lk*f.bb),0!==m.Ra&&(H=Math.sqrt(E*E+G*G),C=180/Math.PI*Math.atan2(G,E),C+=m.Ra,E=H*Math.cos(Math.PI/
180*C),G=H*Math.sin(Math.PI/180*C)),m.V&&(E-=G/2),C=G*u+a,K=E*u+y,E=(B.vD-B.rz)*u,H=(B.wD-B.sz)*u,m.V&&(E-=H/2),G=0===B.BA?0:Math.sqrt(E*E+H*H)*B.BA,q.save(),q.translate(K,C),C=B.angle,B.Ck||(C+=m.Ra),q.rotate(C/180*Math.PI),q.lineWidth=D,d||(q.strokeStyle=B.eg),q.lineCap="round",q.lineJoin="round",0<G&&(B=Math.atan2(H,E),x=Math.cos(.85*Math.PI+B),t=Math.sin(.85*Math.PI+B),A=Math.cos(.85*-Math.PI+B),z=Math.sin(.85*-Math.PI+B)),0<v&&q.translate(v,v),q.beginPath(),q.moveTo(0,0),q.lineTo(E,H),0<G&&(q.moveTo(E,
H),q.lineTo(E+G*x,H+G*t),q.moveTo(E,H),q.lineTo(E+G*A,H+G*z)),q.stroke(),q.restore())}}}q.globalAlpha=1};k.prototype.pb=function(f){this.fa(f,!0);this.fa(f,!1)};k.prototype.la=function(f,d){var g,m=f.a,q=m.context,r=m.width/2-m.pa-m.Db,w=m.height/2-m.ka-m.wb,u=m.zoom*m.tc,y=m.D/2,a=m.C/2,h=f.a.v,l=m.V?-(m.height>>2):0,v=0;d&&(q.strokeStyle=ViewConstants.eC,q.fillStyle=ViewConstants.eC);m.V&&(r+=w/2);for(g=0;g<this.hf.length;g+=1){var x=this.hf[g];var t=x.coords;var A=t.length;var z=!0;-1!==x.Rb&&
(h<x.Rb||h>x.Gg)&&(z=!1);if(z){var B=x.size*u/x.zoom;var C=x.size/4;var D=4*x.size;d&&(v=1,24<=B&&(v=2,48<=B&&(v=3)));if(B>=C&&B<=D){C=Math.log(B/C)/Math.log(D/C);C=.25>=C?4*C:.75<=C?4*(1-C):1;D=1;-1!==x.Rb&&0<x.gd&&(h-x.Rb<x.gd?D=(h-x.Rb+1)/x.gd:x.Gg-h<x.gd&&(D=(x.Gg-h+1)/x.gd));z=!0;var E=1;if(-1!==x.mf){var H=Math.sqrt((-(r+l)-x.Hl)*(-(r+l)-x.Hl)+(-w-x.Il)*(-w-x.Il));H>x.mf?z=!1:0<x.mf&&.75<H/x.mf&&(E=4*(1-H/x.mf))}if(z){q.globalAlpha=C*x.alpha*D*E;C=0;E=t[C]+r+l-(f.qb>>1)+.5;D=t[C+1]+w-(f.xb>>
1)+.5;C+=2;x.nl||(E+=m.Db,D+=m.wb);-1!==x.Rb?(E+=x.Kk*(f.bb-x.Rb),D+=x.Lk*(f.bb-x.Rb)):(E+=x.Kk*f.bb,D+=x.Lk*f.bb);0!==m.Ra&&(z=Math.sqrt(E*E+D*D),D=180/Math.PI*Math.atan2(D,E),D+=m.Ra,E=z*Math.cos(Math.PI/180*D),D=z*Math.sin(Math.PI/180*D));m.V&&(E-=D/2);D=D*u+a;H=E*u+y;E=(t[C]-t[0])*u;z=(t[C+1]-t[1])*u;m.V&&(E-=z/2);C+=2;q.save();q.translate(H,D);D=x.angle;x.Ck||(D+=m.Ra);q.rotate(D/180*Math.PI);q.lineWidth=B;d||(x.$v?q.fillStyle=x.eg:q.strokeStyle=x.eg);q.lineCap="round";q.lineJoin="round";0<v&&
q.translate(v,v);q.beginPath();q.moveTo(0,0);for(q.lineTo(E,z);C<A;)E=(t[C]-t[0])*u,z=(t[C+1]-t[1])*u,m.V&&(E-=z/2),C+=2,q.lineTo(E,z);x.$v?q.fill():q.stroke();q.restore()}}}}q.globalAlpha=1};k.prototype.Mb=function(f){this.la(f,!0);this.la(f,!1)};k.prototype.Fb=function(f){var d,g=f.a,m=g.context,q=g.width/2-g.pa-g.Db,r=g.height/2-g.ka-g.wb,w=g.zoom*g.tc,u=g.D/2,y=g.C/2,a=ViewConstants.wG,h="px "+ViewConstants.uG,l=f.a.v,v=g.V?-(g.height>>2):0;g.V&&(q+=r/2);for(d=0;d<this.ef.length;d+=1){var x=this.ef[d];
var t=!0;-1!==x.Rb&&(l<x.Rb||l>x.Gg)&&(t=!1);if(t){var A=x.size*w/x.zoom;var z=x.size/4;var B=4*x.size;var C=1;24<=A&&(C=2,48<=A&&(C=3));if(A>=z&&A<=B){z=Math.log(A/z)/Math.log(B/z);m.font=A+h;z=.25>=z?4*z:.75<=z?4*(1-z):1;B=1;-1!==x.Rb&&0<x.gd&&(l-x.Rb<x.gd?B=(l-x.Rb+1)/x.gd:x.Gg-l<x.gd&&(B=(x.Gg-l+1)/x.gd));t=!0;var D=1;if(-1!==x.mf){var E=Math.sqrt((-(q+v)-x.Hl)*(-(q+v)-x.Hl)+(-r-x.Il)*(-r-x.Il));E>x.mf?t=!1:0<x.mf&&.75<E/x.mf&&(D=4*(1-E/x.mf))}if(t){m.globalAlpha=z*x.alpha*B*D;t=x.x+q+v-(f.qb>>
1)+.5;D=x.y+r-(f.xb>>1)+.5;x.nl||(t+=g.Db,D+=g.wb);-1!==x.Rb?(t+=x.Kk*(f.bb-x.Rb),D+=x.Lk*(f.bb-x.Rb)):(t+=x.Kk*f.bb,D+=x.Lk*f.bb);0!==g.Ra&&(z=Math.sqrt(t*t+D*D),D=180/Math.PI*Math.atan2(D,t),D+=g.Ra,t=z*Math.cos(Math.PI/180*D),D=z*Math.sin(Math.PI/180*D));g.V&&(t-=D/2);z=x.message;B=z.indexOf("\\n");D=D*w+y;t=t*w+u;m.save();m.translate(t,D);D=x.angle;x.Ck||(D+=g.Ra);m.rotate(D/180*Math.PI);for(D=0;-1!==B;)t=z.substr(0,B),z=z.substr(B+2),B=m.measureText(t).width>>1,m.fillStyle=a,m.fillText(t,-B+
C,D+C),m.fillStyle=x.eg,m.fillText(t,-B,D),D+=A,B=z.indexOf("\\n");B=m.measureText(z).width>>1;m.fillStyle=a;m.fillText(z,-B+C,D+C);m.fillStyle=x.eg;m.fillText(z,-B,D);m.restore()}}}}m.globalAlpha=1};k.prototype.uv=function(f){this.Mb(f);this.pb(f);this.Fb(f)};k.prototype.sI=function(f){var d;for(d=this.Da.length-1;0<=d;--d){var g=this.Da[d];g.hd>f&&g.aq&&(this.pk=d,g.aq=!1)}};k.prototype.HH=function(){var f;for(f=0;f<this.Da.length;f+=1)this.Da[f].aq=!1;this.pk=0;this.Z=!1};k.prototype.hr=function(){return new e(this)};
k.prototype.Iz=function(f){return-2*Math.pow(f,3)+3*Math.pow(f,2)+0*f};k.prototype.reset=function(){this.Da=[];this.Vb=[];this.T=!1;this.pk=0};k.prototype.xG=function(){return this.Da[this.Da.length-1]};k.prototype.BF=function(f){var d=this.ic(f),g=this.Da[d];f>g.Sb?f=g.hd+1E3*(f-g.Sb)/(g.ec*g.step):0<d?(d=this.Da[d-1],f=d.hd+1E3*(f-d.Sb)/(g.ec*g.step)):f=1E3*f/(g.ec*g.step);return f};k.prototype.bF=function(f,d,g,m,q,r,w,u,y,a,h){var l=this.wa;l.x=f;l.y=d;l.zoom=g;l.angle=m;l.ec=u;l.step=y;l.L=q;
l.depth=r;l.hc=w;l.Sb=a;this.T&&(h=this.A.hd);l.hd=h-1E3;this.update(null,h,a);this.A.set(this.current);this.A.af=!1;this.A.hd=h;this.T=!0;return l.hd};k.prototype.Xo=function(){return this.Da[0]};k.prototype.NG=function(){return this.Da.length};k.prototype.add=function(f){f.Hh?this.Vb[this.Vb.length]=f:this.Da[this.Da.length]=f};k.prototype.Hz=function(f){var d=!1;this.pk>=this.Da.length-1&&f>=this.Da[this.pk].hd&&(d=!0);return d};k.prototype.h=function(f){return f===(f|0)?String(f|0):String(f.toFixed(1))};
k.prototype.ZG=function(f){var d="";0<=f&&f<this.Vb.length&&(f=this.Vb[f],f.bg&&(d+=" X "+-f.x),f.If&&(d+=" Y "+-f.y),f.ae&&(d+=" ZOOM "+this.h(f.zoom)),f.qh&&(d+=" ANGLE "+f.angle));return d.substr(1)};k.prototype.aC=function(f){var d="";0<=f&&f<this.Vb.length&&(f=this.Vb[f],f.Bm&&(d+=" POIRESET"),f.sg===c.play?d+=" POIPLAY":f.sg===c.stop&&(d+=" POISTOP"),f.nj!==c.Wn&&(d+=" POITRANS "+f.nj));return d.substr(1)};k.prototype.$G=function(f){var d="";0<=f&&f<this.Vb.length&&(f=this.Vb[f],f.Xk&&(d+=" LOOP "+
(-1===f.Fa?"OFF":f.Fa)),f.Bl&&(d+=" STOP "+(-1===f.Eb?"OFF":f.Eb)),f.Dh&&(d+=" GPS "+f.ec),f.Xh&&(d+=" STEP "+f.step));return d.substr(1)};k.prototype.aC=function(f){var d="";0<=f&&f<this.Vb.length&&(f=this.Vb[f],f.Bm&&(d+=" POIRESET"),f.sg===c.play?d+=" POIPLAY":f.sg===c.stop&&(d+=" POISTOP"),f.nj!==c.Wn&&(d+=" POITRANS "+f.nj));return d.substr(1)};k.prototype.cH=function(f){var d="";0<=f&&f<this.Vb.length&&(f=this.Vb[f],f.Gf&&(d+=" THEME "+f.hc),f.zh&&(d+=" DEPTH "+this.h(f.depth)),f.Kh&&(d+=" LAYERS "+
f.L));return d.substr(1)};k.prototype.bH=function(f){var d="";0<=f&&f<this.Vb.length&&(f=this.Vb[f],f.rq&&(d+=" POIT "+f.Sb));return d.substr(1)};k.prototype.aH=function(f){var d=Keywords.ad,g="";0<=f&&f<this.Vb.length&&(f=this.Vb[f],""!==f.nf&&(g+=" "+d+f.nf+d));return g.substr(1)};k.prototype.YI=function(f){var d=Keywords.ad,g="";if(0<=f&&f<this.Da.length){var m=this.Da[f];0<f?(f=this.Da[f-1],g=m.Sb===f.Sb?"P "+this.h((m.hd-f.hd|0)/1E3):"T "+m.Sb,m.af?g+=" F":(m.x!==f.x&&(g+=" X "+-m.x),m.y!==f.y&&
(g+=" Y "+-m.y),m.zoom!==f.zoom&&(g+=" Z "+this.h(m.zoom))),m.angle!==f.angle&&(g+=" A "+m.angle),m.L!==f.L&&(g+=" L "+m.L),m.depth!==f.depth&&(g+=" D "+this.h(m.depth)),m.hc!==f.hc&&(g+=" C "+m.hc),m.ec!==f.ec&&(g+=" G "+m.ec),m.step!==f.step&&(g+=" S "+m.step),""!==m.nf&&(g+=" "+d+m.nf+d)):g="T "+m.Sb+" X "+-m.x+" Y "+-m.y+" Z "+this.h(m.zoom)+" A "+m.angle+" L "+m.L+" D "+this.h(m.depth)+" C "+m.hc+" G "+m.ec+" S "+m.step}return g};k.prototype.update=function(f,d,g){var m=this.Da.length,q=!1,r=
this.pk,w=r,u=!1;if(this.T)this.current.A(this.wa,this.A,d),d>=this.A.hd&&(this.T=!1);else{for(;r<m&&!q;){var y=this.Da[r];y.hd>=d||!y.aq?q=!0:r+=1}q?(this.Da[r].aq=!0,0<r?(this.Da[r].af&&(this.Da[r].x=this.current.x,this.Da[r].y=this.current.y,this.Da[r].zoom=this.current.zoom),this.current.A(this.Da[r-1],this.Da[r],d)):(r=0,this.current.set(this.Da[r]))):(r=m-1,this.current.set(this.Da[r]),g>=this.current.Sb&&this.Z&&(u=!0),this.Z=!0);this.pk=r}this.pk!==w&&this.current.Dn&&f&&f.o.iE();return u};
k.prototype.ic=function(f){for(var d=0,g=!1,m=this.Da,q=this.Da.length;d<q&&!g;)m[d].Sb>=f?g=!0:d+=1;g||(d=q-1);return d};k.prototype.ud=function(f,d,g,m){if(0===this.Da.length)g[g.length]=[f+" "+Keywords.Jb,"no initial waypoint defined"];else switch(f){case Keywords.Qe:d.bg&&(g[g.length]=[f+" "+Keywords.Jb,m?"already defined":"overwrites "+-d.x]);d.x=this.Da[0].x;d.bg=!0;break;case Keywords.Re:d.If&&(g[g.length]=[f+" "+Keywords.Jb,m?"already defined":"overwrites "+-d.y]);d.y=this.Da[0].y;d.If=!0;
break;case Keywords.zd:d.ae&&(g[g.length]=[f+" "+Keywords.Jb,m?"already defined":"overwrites "+this.h(1>d.zoom?-(1/d.zoom):d.zoom)]);d.zoom=this.Da[0].zoom;d.ae=!0;break;case Keywords.Dk:d.qh&&(g[g.length]=[f+" "+Keywords.Jb,m?"already defined":"overwrites "+d.angle]);d.angle=this.Da[0].angle;d.qh=!0;break;case Keywords.Xl:d.zh&&(g[g.length]=[f+" "+Keywords.Jb,m?"already defined":"overwrites "+this.h(d.depth)]);d.depth=this.Da[0].depth;d.zh=!0;break;case Keywords.nm:d.Kh&&(g[g.length]=[f+" "+Keywords.Jb,
m?"already defined":"overwrites "+d.L]);d.L=this.Da[0].L;d.Kh=!0;break;case Keywords.rk:d.Gf&&(g[g.length]=[f+" "+Keywords.Jb,m?"already defined":"overwrites "+d.hc]);d.hc=this.Da[0].hc;d.Gf=!0;break;case Keywords.fm:d.Dh&&(g[g.length]=[f+" "+Keywords.Jb,m?"already defined":"overwrites "+d.ec]);d.ec=this.Da[0].ec;d.Dh=!0;break;case Keywords.Jm:d.Xh&&(g[g.length]=[f+" "+Keywords.Jb,m?"already defined":"overwrites "+d.step]);d.step=this.Da[0].step;d.Xh=!0;break;case Keywords.Mi:d.Bl&&(g[g.length]=[f+
" "+Keywords.Jb,m?"already defined":"overwrites "+(-1===d.Eb?"OFF":d.Eb)]);d.Eb=this.Da[0].Eb;d.Bl=!0;break;case Keywords.Ai:d.Xk&&(g[g.length]=[f+" "+Keywords.Jb,m?"already defined":"overwrites "+(-1===d.Fa?"OFF":d.Fa)]);d.Fa=this.Da[0].Fa;d.Xk=!0;break;default:g[g.length]=[f+" "+Keywords.Jb,"illegal command before "+Keywords.Jb]}};k.prototype.HE=function(f,d){this.ud(Keywords.Qe,f,d,!1);this.ud(Keywords.Re,f,d,!1);this.ud(Keywords.zd,f,d,!1);this.ud(Keywords.Dk,f,d,!1);this.ud(Keywords.nm,f,d,!1);
this.ud(Keywords.Xl,f,d,!1);this.ud(Keywords.rk,f,d,!1);this.ud(Keywords.fm,f,d,!1);this.ud(Keywords.Jm,f,d,!1);this.ud(Keywords.Ai,f,d,!1);this.ud(Keywords.Mi,f,d,!1)};k.prototype.iH=function(f){var d,g=this.Da,m=this.Da.length;for(d=1;d<m;d+=1){var q=g[d-1];var r=g[d];r.bg||(r.x=q.x);r.If||(r.y=q.y);r.xk||(r.jh=q.jh);r.zk||(r.lh=q.lh);r.Mq||(r.nh=q.nh);r.qh||(r.angle=q.angle);r.ae||(r.zoom=q.zoom);r.Kh||(r.L=q.L);r.zh||(r.depth=q.depth);r.Gf||(r.hc=q.hc);r.Dh||(r.ec=q.ec);r.Xh||(r.step=q.step);
r.rq?r.Sb<=q.Sb&&(f[f.length]=[Keywords.qq+" "+r.Sb,"target generation must be later than previous ("+q.Sb+")"]):r.Sb=q.Sb;r.hd=r.SC?1E3*r.hd+q.hd:q.hd+1E3*(r.Sb-q.Sb)/(r.ec*r.step);r.ut||(r.xl=q.xl);r.Xj||(r.Lc=q.Lc)}};window.Waypoint=e;window.WaypointManager=k;window.WaypointConstants=c}(),function(){function e(n,p){var b=this,k=n.getElementsByTagName("div")[0];this.xh=-1;this.Oe=1;this.uD=n;this.view=p;this.o=p.o;this.top=this.left=0;""!==n.style.left&&(this.left=parseInt(n.style.left,10));""!==
n.style.top&&(this.top=parseInt(n.style.top,10));this.Oc=this.Yl=!1;this.ek=this.dk=-1;this.Ox=0;registerEvent(k,"mousedown",function(c){b.A(b,c)},!1);registerEvent(document,"mousemove",function(c){b.T(b,c)},!1);registerEvent(document,"mouseup",function(c){b.Z(b,c)},!1);registerEvent(k,"touchstart",function(c){b.h(b,c)},!1);registerEvent(k,"touchmove",function(c){b.h(b,c)},!1);registerEvent(k,"touchend",function(c){b.h(b,c)},!1);registerEvent(window,"resize",function(){b.vC(b)},!1)}e.prototype.rn=
function(n,p){for(var b=null,k=0;null===b&&k<n.length;)n[k].identifier===p?b=n[k]:k+=1;return b};e.prototype.h=function(n,p){var b=p.changedTouches;switch(p.type){case "touchstart":-1===n.xh&&(b=b[0],n.xh=b.identifier,n.Tp(n,b.pageX,b.pageY));break;case "touchend":b=n.rn(b,n.xh);null!==b&&(n.Vp(n,b.pageX,b.pageY),n.xh=-1);break;case "touchmove":b=n.rn(b,n.xh),null!==b&&n.Up(n,b.pageX,b.pageY)}p.stopPropagation&&p.stopPropagation();p.cancelable&&p.preventDefault()};e.prototype.vC=function(n){var p=
this.view;p.D=p.Lp;p.C=p.Kp;p.HC();p.Wo.style.transform="scale("+p.Oe+","+p.Oe+")";p.Wo.style.transformOrigin="top left";p.Rs&&(this.o.Th(!0),p.resize());n.LC(n.left+n.Ox,n.top,n.uD);n.Ox=0};e.prototype.JI=function(n,p){this.LC(this.left+n,this.top+p,this.uD)};e.prototype.LC=function(n,p,b){var k=window.innerWidth-b.clientWidth*this.Oe,c=window.innerHeight-b.clientHeight*this.Oe;k-=(window.innerWidth-document.body.clientWidth)*this.Oe;n>k&&(n=k);p>c&&(p=c);0>n&&(n=0);0>p&&(p=0);b.style.left=n+"px";
b.style.top=p+"px";b.style.position="fixed";this.left=n;this.top=p};e.prototype.Tp=function(n,p,b){n.so(n,p,b);n.Oc=!0;n.o.vm=!0};e.prototype.Vp=function(n,p,b){n.so(n,p,b);n.Oc=!1;n.o.vm=!1};e.prototype.Up=function(n,p,b){n.Oc&&n.JI(p-n.dk,b-n.ek);n.dk=p;n.ek=b};e.prototype.A=function(n,p){if(p.pageX||p.pageY){var b=p.pageX;var k=p.pageY}else b=p.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,k=p.clientY+document.body.scrollTop+document.documentElement.scrollTop;n.Tp(n,b,k);
p.stopPropagation&&p.stopPropagation();p.preventDefault()};e.prototype.Z=function(n,p){if(n.Yl&&n.Oc){if(p.pageX||p.pageY){var b=p.pageX;var k=p.pageY}else b=p.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,k=p.clientY+document.body.scrollTop+document.documentElement.scrollTop;n.Vp(n,b,k);p.stopPropagation&&p.stopPropagation();p.preventDefault()}};e.prototype.T=function(n,p){if(n.Yl&&n.Oc){if(p.pageX||p.pageY){var b=p.pageX;var k=p.pageY}else b=p.clientX+document.body.scrollLeft+
document.documentElement.scrollLeft,k=p.clientY+document.body.scrollTop+document.documentElement.scrollTop;n.Up(n,b,k);p.stopPropagation&&p.stopPropagation();p.preventDefault()}};e.prototype.so=function(n,p,b){n.dk=p|0;n.ek=b|0};window.PopupWindow=e}(),function(){function e(){this.key=new Uint8Array(256);this.A=this.h=0}e.prototype.cf=function(n){var p,b,k=this.key;for(p=0;256>p;p+=1)k[p]=p;for(p=b=0;256>p;p+=1){b=b+k[p]+n.charCodeAt(p%n.length)&255;var c=k[p];k[p]=k[b];k[b]=c}this.A=this.h=0};e.prototype.random=
function(){var n,p=0,b=1,k=this.key,c=this.h,f=this.A;for(n=0;8>n;n+=1){c=c+1&255;f=f+k[c]&255;var d=k[c];k[c]=k[f];k[f]=d;p+=k[k[c]+k[f]&255]*b;b*=256}this.h=c;this.A=f;return p/1.8446744073709552E19};window.Random=e}(),function(){function e(n,p){this.Fs=n;this.x=p.F(Float32,0,"Stars.x");this.y=p.F(Float32,0,"Stars.y");this.h=p.F(Float32,0,"Stars.z");this.blue=this.green=this.red=255;this.Qb=new Random;this.Qb.cf(Date.now().toString());this.sin=p.F(Float32,0,"Stars.sin");this.cos=p.F(Float32,0,"Stars.cos");
this.A=Math.PI/180;this.Z=180/Math.PI;this.l=p;this.T=!1}e.prototype.cf=function(n,p,b){var k,c=this.Fs,f=n*n+p*p;this.x=this.l.F(Float32,c,"Stars.x");this.y=this.l.F(Float32,c,"Stars.y");this.h=this.l.F(Float32,c,"Stars.z");for(k=0;k<c;k+=1){var d=k/c*(k/c)*(k/c)*(k/c)*b+1;do{var g=3*(this.Qb.random()*n-n/2);var m=3*(this.Qb.random()*p-p/2)}while(g*g+m*m>f);this.x[k]=g;this.y[k]=m;this.h[k]=d}this.sin=this.l.F(Float32,2880,"Stars.sin");this.cos=this.l.F(Float32,2880,"Stars.cos");for(k=0;2880>k;)this.sin[k]=
Math.sin(k/8*this.A),this.cos[k]=Math.cos(k/8*this.A),k+=1};e.prototype.OE=function(n,p,b,k,c,f,d,g){var m;this.T||(this.cf(8192,8192,1024),this.T=!0);if(littleEndian){var q=g>>16&255;var r=g>>8&255;var w=g&255}else w=g>>24&255,r=g>>16&255,q=g>>8&255;for(m=0;m<this.Fs;m+=1){var u=this.x[m]+n;var y=this.y[m]+p;if(0!==k){var a=Math.sqrt(u*u+y*y);y=Math.atan2(y,u)*this.Z;y+=k;0>y?y+=360:360<=y&&(y-=360);y*=8;y|=0;u=a*this.cos[y];y=a*this.sin[y]}a=this.h[m]/b*2;u=c/2+u/a|0;y=f/2+y/a|0;if(0<u&&u<c-1&&
0<y&&y<f-1){u+=y*c;a=1536/a|0;255<a&&(a=255);a/=255;if(d[u]===g){y=w+(this.red-w)*a;var h=r+(this.green-r)*a;var l=q+(this.blue-q)*a;y=littleEndian?-16777216|l<<16|h<<8|y:y<<24|l<<16|h<<8|255;d[u]=y}a/=2;y=w+(this.red-w)*a;h=r+(this.green-r)*a;l=q+(this.blue-q)*a;y=littleEndian?-16777216|l<<16|h<<8|y:y<<24|l<<16|h<<8|255;--u;d[u]===g&&(d[u]=y);u+=2;d[u]===g&&(d[u]=y);--u;u-=c;d[u]===g&&(d[u]=y);u+=c+c;d[u]===g&&(d[u]=y)}}};window.Stars=e}(),function(){window.ScriptParser={wz:"",Ut:0,lm:function(e){switch(e){case Keywords.Jw:case Keywords.ty:case Keywords.Dv:case Keywords.fy:case Keywords.hy:case Keywords.Ev:case Keywords.gy:case Keywords.Iw:case Keywords.Tg:case Keywords.ni:case Keywords.Pv:case Keywords.jy:case Keywords.Kz:case Keywords.Gx:case Keywords.Ix:case Keywords.Dx:case Keywords.Cx:case Keywords.Ex:case Keywords.Hx:case Keywords.Bx:case Keywords.Xs:case Keywords.bt:case Keywords.qv:case Keywords.Ps:case Keywords.po:case Keywords.tx:case Keywords.Qs:case Keywords.rx:case Keywords.ux:case Keywords.vx:case Keywords.sx:case Keywords.wx:case Keywords.fC:case Keywords.zo:case Keywords.Fu:case Keywords.Hu:case Keywords.Iu:case Keywords.Gu:case Keywords.Ju:case Keywords.Ku:case Keywords.vp:case Keywords.gw:case Keywords.iw:case Keywords.jw:case Keywords.hw:case Keywords.kw:case Keywords.lw:case Keywords.Ew:case Keywords.Gw:case Keywords.Fw:case Keywords.Tv:case Keywords.Dq:case Keywords.Nv:case Keywords.Xp:case Keywords.Yn:case Keywords.Xn:case Keywords.Os:case Keywords.Yp:case Keywords.Jb:case Keywords.Lf:case Keywords.vb:case Keywords.oy:case Keywords.Rm:case Keywords.Cq:case Keywords.Pr:case Keywords.Ds:case Keywords.Kv:case Keywords.Lv:case Keywords.pq:case Keywords.uw:case Keywords.Uq:case Keywords.Uv:case Keywords.bs:case Keywords.qq:case Keywords.Jm:case Keywords.nx:case Keywords.$o:case Keywords.Zo:case Keywords.qy:case Keywords.Ea:case Keywords.Yu:case Keywords.Qe:case Keywords.Re:case Keywords.Mt:case Keywords.Ot:case Keywords.zd:case Keywords.Du:case Keywords.GA:case Keywords.Ai:case Keywords.Lq:case Keywords.Dw:case Keywords.Cw:case Keywords.Ey:case Keywords.By:case Keywords.zy:case Keywords.Dy:case Keywords.Wq:case Keywords.ql:case Keywords.eo:case Keywords.Dk:case Keywords.rk:case Keywords.fm:case Keywords.Mi:case Keywords.nm:case Keywords.Xl:case Keywords.uo:case Keywords.xn:case Keywords.$p:case Keywords.Zp:case Keywords.fw:case Keywords.ao:case Keywords.Cm:case Keywords.Js:case Keywords.Kr:case Keywords.Is:case Keywords.ex:case Keywords.kx:case Keywords.Ww:case Keywords.Rw:case Keywords.gx:case Keywords.Sw:case Keywords.jx:case Keywords.ix:case Keywords.dx:case Keywords.$w:case Keywords.fx:case Keywords.bx:case Keywords.Tw:case Keywords.ax:case Keywords.Uw:case Keywords.Zw:case Keywords.cx:case Keywords.Yw:e=
!0;break;default:e=!1}return e},sm:function(e,n,p,b,k){var c=e.ra();""===c||this.lm(c)?n[n.length]=[p,b+" missing"]:(n[n.length]=[p+" "+c,b+" must be "+k],e.U())},ac:function(e,n,p,b,k){var c=!0,f=0,d=0,g=0,m=n.U();if(n.G()){f=n.J()|0;if(0>f||255<f)p[p.length]=[k+" "+m+" "+f,"RED out of range"];if(n.G()){d=n.J();if(0>d||255<d)p[p.length]=[k+" "+m+" "+f+" "+d,"GREEN out of range"];n.G()?(g=n.J(),0>g||255<g?p[p.length]=[k+" "+m+" "+f+" "+d+" "+g,"BLUE out of range"]:c=!1):this.sm(n,p,k+" "+m+" "+f+
" "+d,"BLUE","numeric")}else this.sm(n,p,k+" "+m+" "+f,"GREEN","numeric")}else{var q=n.ra();var r=ColourManager.De[q.toLowerCase()];void 0!==r?(n.U(),f=r[1],d=r[2],g=r[3],c=!1):""===q||this.lm(q)?p[p.length]=[k+" "+m,"name missing"]:(p[p.length]=[k+" "+m+" "+q,"name not known"],n.U())}if(!c)switch(-1!==e.ia[b]&&b!==ViewConstants.No&&b!==ViewConstants.Jo&&b!==ViewConstants.Oo&&(p[p.length]=[k+" "+m+" "+f+" "+d+" "+g,"overwrites "+(e.ia[b]>>16)+" "+(e.ia[b]>>8&255)+" "+(e.ia[b]&255)]),e.ia[b]=f<<16|
d<<8|g,b){case ViewConstants.Lo:e.bA=e.ia[b];e.Og=!0;break;case ViewConstants.Mo:e.cA=e.ia[b];e.Og=!0;break;case ViewConstants.yr:e.nk.red=f;e.nk.green=d;e.nk.blue=g;break;case ViewConstants.zr:e.Ng=[f,d,g];break;case ViewConstants.sr:e.Qj=[f,d,g];e.ti="rgb("+f+","+d+","+g+")";break;case ViewConstants.No:e.gv="rgb("+f+","+d+","+g+")";break;case ViewConstants.Jo:e.fv="rgb("+f+","+d+","+g+")";break;case ViewConstants.Oo:e.hv="rgb("+f+","+d+","+g+")";break;case ViewConstants.qr:e.Ik=[f,d,g];e.a.fn=e.a.Lh?
-16777216|g<<16|d<<8|f:f<<24|d<<16|g<<8|255;break;case ViewConstants.vr:e.a.xi=[f,d,g];break;case ViewConstants.ur:e.a.wi=[f,d,g];break;case ViewConstants.tr:e.a.vi=[f,d,g];break;case ViewConstants.wr:e.a.yi=[f,d,g];break;case ViewConstants.xr:e.a.zi=[f,d,g];break;case ViewConstants.Ro:case ViewConstants.Po:case ViewConstants.So:case ViewConstants.Uo:case ViewConstants.To:case ViewConstants.Qo:break;default:e.Og=!0}},mI:function(e){var n=e.a.$a[e.a.pe],p=e.ia;n.gm=e.a.bf;-1===p[ViewConstants.ri]&&
(e=p[ViewConstants.yh],-1!==e?p[ViewConstants.ri]=16777215-e:(e=p[ViewConstants.gg],p[ViewConstants.ri]=-1!==e?16777215-e:16777215));-1===p[ViewConstants.gg]&&-1===p[ViewConstants.yh]&&(p[ViewConstants.gg]=16777215-p[ViewConstants.ri]);e=p[ViewConstants.gg];-1===e&&(e=p[ViewConstants.yh]);n.Na.red=e>>16;n.Na.green=e>>8&255;n.Na.blue=e&255;e=p[ViewConstants.ri];n.Ua.O.red=e>>16;n.Ua.O.green=e>>8&255;n.Ua.O.blue=e&255;e=p[ViewConstants.pr];-1===e&&(e=p[ViewConstants.ri]);n.Ua.P.red=e>>16;n.Ua.P.green=
e>>8&255;n.Ua.P.blue=e&255;e=p[ViewConstants.yh];-1===e&&(e=p[ViewConstants.gg]);n.Oa.P.red=e>>16;n.Oa.P.green=e>>8&255;n.Oa.P.blue=e&255;e=p[ViewConstants.Ko];-1===e&&(e=p[ViewConstants.yh],-1===e&&(e=p[ViewConstants.gg]));n.Oa.O.red=e>>16;n.Oa.O.green=e>>8&255;n.Oa.O.blue=e&255;e=p[ViewConstants.gg];-1===e&&(e=p[ViewConstants.yh]);n.Zh.red=e>>16;n.Zh.green=e>>8&255;n.Zh.blue=e&255;e=p[ViewConstants.ri];n.Kf.red=e>>16;n.Kf.green=e>>8&255;n.Kf.blue=e&255;e=p[ViewConstants.yh];-1===e&&(e=p[ViewConstants.gg]);
n.mc.P.red=e>>16;n.mc.P.green=e>>8&255;n.mc.P.blue=e&255;e=p[ViewConstants.Ko];-1===e&&(e=p[ViewConstants.yh],-1===e&&(e=p[ViewConstants.gg]));n.mc.O.red=e>>16;n.mc.O.green=e>>8&255;n.mc.O.blue=e&255;e=p[ViewConstants.rr];-1===e?n.Mk=!0:(n.Mk=!1,n.Bb.P.red=e>>16,n.Bb.P.green=e>>8&255,n.Bb.P.blue=e&255);e=p[ViewConstants.iv];-1===e&&(e=p[ViewConstants.rr],-1===e&&(e=p[ViewConstants.gg]));n.Bb.O.red=e>>16;n.Bb.O.green=e>>8&255;n.Bb.O.blue=e&255;n.YH(p[ViewConstants.Lo],p[ViewConstants.Mo])},st:function(e,
n){var p=e;e.length>n&&(p=e.substr(0,n-1)+"...");return p},fD:function(e,n,p,b){var k=e.indexOf("\\n");-1!==k&&(p?n[n.length]=[Keywords.po+" "+Keywords.ad+this.st(e,23)+Keywords.ad,"only one line allowed"]:(k=e.substr(k+2).indexOf("\\n"),-1===k||b||(n[n.length]=[Keywords.ad+this.st(e,23),"only two lines allowed"])))},Ax:function(e,n,p,b){var k=Keywords.rk+" ",c="overwrites ";k=p>=e.a.pe?k+Keywords.oo:k+p;c=b>=e.a.pe?c+Keywords.oo:c+b;n[n.length]=[k,c]},Vo:function(e,n,p,b,k,c,f){var d=0,g=0,m=0;if(n.G())if(d=
n.J()|0,0>d||255<d)p[p.length]=[k+" "+f+" "+d,"RED out of range"],c=!0;else if(n.G())if(g=n.J()|0,0>g||255<g)p[p.length]=[k+" "+f+" "+d+" "+g,"GREEN out of range"],c=!0;else if(n.G()){if(m=n.J()|0,0>m||255<m)p[p.length]=[k+" "+f+" "+d+" "+g+" "+m,"BLUE out of range"],c=!0}else this.sm(n,p,k+" "+f+" "+d+" "+g,"BLUE","numeric"),c=!0;else this.sm(n,p,k+" "+f+" "+d,"GREEN","numeric"),c=!0;else{var q=n.ra();var r=ColourManager.De[q.toLowerCase()];void 0!==r?(n.U(),d=r[1],g=r[2],m=r[3]):(c=!0,""===q||this.lm(q)?
p[p.length]=[k+" "+f,"name missing"]:(p[p.length]=[k+" "+f+" "+q,"name not known"],n.U()))}c||(-1!==e.Hb[b]&&(p[p.length]=[k+" "+f+" "+d+" "+g+" "+m,"overwrites "+(e.Hb[b]>>16)+" "+(e.Hb[b]>>8&255)+" "+(e.Hb[b]&255)]),e.Hb[b]=d<<16|g<<8|m)},yj:function(e,n){var p=Keywords.Hf+String(n);e=e.o.TF(n);-1!==e&&(p=e.toFixed(1));return p},no:function(e,n){var p="",b=n.indexOf(Keywords.Hf);if(-1===b)p=n;else{for(;-1!==b;)if(p+=n.substr(0,b),b+1<n.length){var k=n[b+1];n=n.substr(b+2);switch(k){case "B":p+=
ViewConstants.ez;break;case "N":p+=e.Tn;break;case "R":p+=e.Yc;break;case "A":p=""===e.Xc?p+e.Yc:p+e.Xc;break;case "O":p+=e.Pp;break;case "T":p+=ViewConstants.FF;break;case "0":p+=this.yj(e,0);break;case "1":p+=this.yj(e,1);break;case "2":p+=this.yj(e,2);break;case "3":p+=this.yj(e,3);break;case "4":p+=this.yj(e,4);break;case "5":p+=this.yj(e,5);break;case "6":p+=this.yj(e,6);break;case "7":p+=this.yj(e,7);break;case "8":p+=this.yj(e,8);break;case "9":p+=this.yj(e,9);break;case Keywords.Hf:p+=Keywords.Hf;
break;default:p+=Keywords.Hf+k}b=n.indexOf(Keywords.Hf)}else n=n.substr(b+1),b=-1;p+=n}return p},Oh:function(e,n,p,b){b[b.length]=e?n===Keywords.Tg?[n+" "+p,"already defined"]:[n+" "+p,"overwrites "+Keywords.Tg]:n===Keywords.Tg?[n+" "+p,"overwrites "+Keywords.ni]:[n+" "+p,"already defined"]},Yh:function(e,n){var p="";e===(e|0)?p=String(e):p=e.toFixed(n);return p},SI:function(e){var n=e.substr(0,1);e=e.substr(1);var p=!1;if("B"===n||"S"===n){this.wz=n;n=0;for(p=!0;p&&n<e.length;)"0"<=e[n]&&"9">=e[n]?
n+=1:p=!1;p&&(this.Ut=Number(e))}return p},RH:function(e,n){if("B"===this.wz){var p=e.Yg.length;e.Yg[p]=this.Ut;e.Yg[p+1]=n}else p=e.Hi.length,e.Hi[p]=this.Ut,e.Hi[p+1]=n},SG:function(e,n,p){var b=new Script(n,!1),k=!1,c=!1,f="",d="",g="",m="",q=!1,r="",w=0,u=!1,y=!1,a=e.Sc,h=null,l=0,v=0,x="",t=e.N.hr(),A=null,z=!1,B=!1,C=null,D=1,E=ViewConstants.Fz,H=-1,G=-1,K=0,O=0,J=!1,F=!1,I=0,M=0,N=-1,R=0,da=0,W=null,aa=1,S=ViewConstants.Fz,Z=ViewConstants.tE,ca=-1,U=-1,L=0,P=0,Q=!1,V=!1,Y=0,T=0,X=-1,ea=0,ba=
0,ra=null,ab=1,bb=ViewConstants.vG,Ba=-1,Ca=-1,Da=0,cb=0,Ea=!1,Fa=!1,Ga=0,Ha=0,Ia=-1,Ja=0,Ka=0,la=!1,La=!1,Ma="numeric",Aa=-1,na=-1,oa=-1,Na=-1,pa=-1,qa=-1,sa=0,ta=0,ua=0,va=0,fa=0,ia=0,ha=0,db=0,eb=0,ma=[],ja=0,fb=new Pattern("decode",e.na),Oa=!1,Pa=!1,Qa=!1,Ra=!1,Sa=!1,Ta=!1,wa=!1,Ua=!1,Va=!1,xa=!1,ya=!1,Wa=!1,Xa=!1,Ya=!1,Za=!1;e.Ip=0;e.Lw=0;e.nr=!1;e.Og=!1;e.ia[ViewConstants.gg]=-1;e.ia[ViewConstants.ri]=-1;e.ia[ViewConstants.pr]=-1;e.ia[ViewConstants.yh]=-1;e.ia[ViewConstants.Ko]=-1;e.ia[ViewConstants.Lo]=
-1;e.ia[ViewConstants.Mo]=-1;e.ia[ViewConstants.yr]=-1;e.ia[ViewConstants.zr]=-1;e.ia[ViewConstants.qr]=-1;e.ia[ViewConstants.vr]=-1;e.ia[ViewConstants.ur]=-1;e.ia[ViewConstants.tr]=-1;e.ia[ViewConstants.wr]=-1;e.ia[ViewConstants.xr]=-1;e.ia[ViewConstants.sr]=-1;e.ia[ViewConstants.No]=-1;e.ia[ViewConstants.Ro]=-1;e.ia[ViewConstants.Po]=-1;e.ia[ViewConstants.So]=-1;e.ia[ViewConstants.Uo]=-1;e.ia[ViewConstants.To]=-1;e.ia[ViewConstants.Qo]=-1;e.ia[ViewConstants.Jo]=-1;e.ia[ViewConstants.Oo]=-1;e.Hb=
null;if(-1!==b.dm(Keywords.ql,-1)){e.Hb=e.a.l.F(Int32,256,"View.customColours");if(arrayFill)e.Hb.fill(-1);else for(ja=0;ja<e.Hb.length;ja+=1)e.Hb[ja]=-1;for(f=b.U();""!==f;){Ma="numeric";if(q)f[f.length-1]===Keywords.ad?(r=r+" "+f.substr(0,f.length-1),q=!1,this.fD(r,a,c,la),c?(""!==e.$h&&(a[a.length]=[Keywords.po+" "+Keywords.ad+this.st(r,20)+Keywords.ad,"overwrites "+Keywords.ad+e.$h+Keywords.ad]),e.$h=r,c=!1):la?(ra.message=this.no(e,r),la=!1,e.N.xz(ra)):(t.nf=this.no(e,r),t.uy=!0)):r=r+" "+f;
else if(f[0]===Keywords.ad)r=f.substr(1),q=!0,f[f.length-1]===Keywords.ad&&(q=!1,r=r.substr(0,r.length-1),this.fD(r,a,c,la),c?(""!==e.$h&&(a[a.length]=[Keywords.po+" "+Keywords.ad+this.st(r,20)+Keywords.ad,"overwrites "+Keywords.ad+e.$h+Keywords.ad]),e.$h=r,c=!1):la?(ra.message=this.no(e,r),la=!1,e.N.xz(ra)):(t.nf=this.no(e,r),t.uy=!0));else{u=y=!1;e.Ip+=1;switch(f){case Keywords.po:u=c=!0;break;case Keywords.ux:b.G()&&(y=!0,w=b.J(),w>=ViewConstants.As&&w<=ViewConstants.vs&&(E=w,u=!0));break;case Keywords.fC:b.G()?
(y=!0,w=b.J(),w>=ViewConstants.rg&&w<=ViewConstants.qg&&(fa=w,y=!1,b.G()&&(y=!0,w=b.J(),w>=ViewConstants.rg&&w<=ViewConstants.qg&&(R=fa,da=w,u=!0)))):(d=b.ra(),d===Keywords.Ge&&(d=b.U(),da=R=0,u=!0));break;case Keywords.wx:b.G()?(y=!0,w=b.J(),w>=-e.a.$/2&&w<=e.a.$/2&&(y=!1,fa=w,b.G()&&(y=!0,w=b.J(),w>=-e.a.$/2&&w<=e.a.$/2&&(y=!1,ia=w,b.G()&&(y=!0,w=b.J(),0<=w&&w<=e.a.$/2&&(I=fa,M=ia,N=w,u=!0)))))):(d=b.ra(),d===Keywords.vb&&(d=b.U(),M=I=0,N=-1,u=!0));break;case Keywords.sx:b.G()&&(y=!0,w=b.J(),0<=
w&&360>w&&(O=w,J=!1,d=b.ra(),d===Keywords.Ge&&(d=b.U(),J=!0),u=!0));break;case Keywords.vx:b.G()?(y=!0,w=b.J()|0,0<=w&&(fa=w,b.G()?(w=b.J()|0,w>=fa?(ia=w,b.G()?(w=b.J()|0,0<=w&&w<=ia-fa>>1?(H=fa,G=ia,K=w,u=!0):(u=!0,a[a.length]=[f+" "+fa+" "+ia+" "+w,"third argument must from 0 to "+(ia-fa>>1)])):y=!1):(u=!0,a[a.length]=[f+" "+fa+" "+w,"second argument must be >= first"])):y=!1)):(d=b.ra(),d===Keywords.Lf?(d=b.U(),G=H=-1,K=0,u=!0):y=!1);break;case Keywords.rx:b.G()&&(y=!0,w=b.J(),0<=w&&1>=w&&(D=w,
u=!0));break;case Keywords.tx:case Keywords.Qs:ma=[];u=!0;for(ha=-1E3;u&&b.G();)fa=b.J(),b.G()?(ia=b.J(),fa>=-e.a.$&&fa<2*e.a.$&&ia>=-e.a.$&&ia<2*e.a.$?(ma[ma.length]=fa,ma[ma.length]=ia):(a[a.length]=[f+" "+fa+" "+ia,"coordinate out of range"],ha=0,u=!1)):fa>=ViewConstants.Kb&&fa<=ViewConstants.zc?ha=fa:fa>=ViewConstants.Ep&&fa<=ViewConstants.Dp?ha=-(1/fa):(a[a.length]=[f+" "+fa,"zoom out of range"],ha=0,u=!1);-1E3===ha&&(a[a.length]=[f,"missing zoom value"]);4>ma.length&&(a[a.length]=[f,"requires at least 2 coordinate pairs"],
u=!1);u?(d=b.ra(),F=!1,d===Keywords.Ge&&(d=b.U(),F=!0,d=b.ra()),C=e.N.VE(ma,f===Keywords.Qs,ha,e.hv,D,E,H,G,K,O,J,F,I,M,N,R,da),e.N.eE(C)):u=!0;break;case Keywords.Hu:b.G()&&(y=!0,w=b.J(),w>=ViewConstants.As&&w<=ViewConstants.vs&&(fa=w,y=!1,b.G()&&(y=!0,w=b.J(),0<=w&&1>=w&&(Z=w,S=fa,u=!0))));break;case Keywords.Ku:b.G()?(y=!0,w=b.J(),w>=ViewConstants.rg&&w<=ViewConstants.qg&&(fa=w,y=!1,b.G()&&(y=!0,w=b.J(),w>=ViewConstants.rg&&w<=ViewConstants.qg&&(ea=fa,ba=w,u=!0)))):(d=b.ra(),d===Keywords.Ge&&(d=
b.U(),ba=ea=0,u=!0));break;case Keywords.Ju:b.G()?(y=!0,w=b.J(),w>=-e.a.$/2&&w<=e.a.$/2&&(y=!1,fa=w,b.G()&&(y=!0,w=b.J(),w>=-e.a.$/2&&w<=e.a.$/2&&(y=!1,ia=w,b.G()&&(y=!0,w=b.J(),0<=w&&w<=e.a.$/2&&(Y=fa,T=ia,X=w,u=!0)))))):(d=b.ra(),d===Keywords.vb&&(d=b.U(),T=Y=0,X=-1,u=!0));break;case Keywords.Gu:b.G()&&(y=!0,w=b.J(),0<=w&&360>w&&(P=w,Q=!1,d=b.ra(),d===Keywords.Ge&&(d=b.U(),Q=!0),u=!0));break;case Keywords.Iu:b.G()?(y=!0,w=b.J()|0,0<=w&&(fa=w,b.G()?(w=b.J()|0,w>=fa?(ia=w,b.G()?(w=b.J()|0,0<=w&&w<=
ia-fa>>1?(ca=fa,U=ia,L=w,u=!0):(u=!0,a[a.length]=[f+" "+fa+" "+ia+" "+w,"third argument must from 0 to "+(ia-fa>>1)])):y=!1):(u=!0,a[a.length]=[f+" "+fa+" "+w,"second argument must be >= first"])):y=!1)):(d=b.ra(),d===Keywords.Lf?(d=b.U(),U=ca=-1,L=0,u=!0):y=!1);break;case Keywords.Fu:b.G()&&(y=!0,w=b.J(),0<=w&&1>=w&&(aa=w,u=!0));break;case Keywords.zo:b.G()&&(y=!0,w=b.J(),w>=-e.a.$&&w<2*e.a.$&&(y=!1,fa=w,b.G()&&(y=!0,w=b.J(),w>=-e.a.$&&w<2*e.a.$&&(y=!1,ia=w,b.G()&&(y=!0,w=b.J(),w>=-e.a.$&&w<2*e.a.$&&
(y=!1,db=w,b.G()&&(y=!0,w=b.J(),w>=-e.a.$&&w<2*e.a.$&&(y=!1,eb=w,b.G()&&(y=!0,w=b.J(),ha=-1E3,w>=ViewConstants.Kb&&w<=ViewConstants.zc?ha=w:w>=ViewConstants.Ep&&w<=ViewConstants.Dp&&(ha=-(1/w)),-1E3!==ha&&(d=b.ra(),V=!1,d===Keywords.Ge&&(d=b.U(),V=!0,d=b.ra()),W=e.N.PE(fa,ia,db,eb,ha,e.fv,aa,S,Z,ca,U,L,P,Q,V,Y,T,X,ea,ba),e.N.bE(W),u=!0))))))))));break;case Keywords.iw:b.G()&&(y=!0,w=b.J(),w>=ViewConstants.kB&&w<=ViewConstants.bB&&(bb=w,u=!0));break;case Keywords.lw:b.G()?(y=!0,w=b.J(),w>=ViewConstants.rg&&
w<=ViewConstants.qg&&(fa=w,y=!1,b.G()&&(y=!0,w=b.J(),w>=ViewConstants.rg&&w<=ViewConstants.qg&&(Ja=fa,Ka=w,u=!0)))):(d=b.ra(),d===Keywords.Ge&&(d=b.U(),Ka=Ja=0,u=!0));break;case Keywords.kw:b.G()?(y=!0,w=b.J(),w>=-e.a.$/2&&w<=e.a.$/2&&(y=!1,fa=w,b.G()&&(y=!0,w=b.J(),w>=-e.a.$/2&&w<=e.a.$/2&&(y=!1,ia=w,b.G()&&(y=!0,w=b.J(),0<=w&&w<=e.a.$/2&&(Ga=fa,Ha=ia,Ia=w,u=!0)))))):(d=b.ra(),d===Keywords.vb&&(d=b.U(),Ha=Ga=0,Ia=-1,u=!0));break;case Keywords.hw:b.G()&&(y=!0,w=b.J(),0<=w&&360>w&&(cb=w,Ea=!1,d=b.ra(),
d===Keywords.Ge&&(d=b.U(),Ea=!0),u=!0));break;case Keywords.jw:b.G()?(y=!0,w=b.J()|0,0<=w&&(fa=w,b.G()?(w=b.J()|0,w>=fa?(ia=w,b.G()?(w=b.J()|0,0<=w&&w<=ia-fa>>1?(Ba=fa,Ca=ia,Da=w,u=!0):(u=!0,a[a.length]=[f+" "+fa+" "+ia+" "+w,"third argument must from 0 to "+(ia-fa>>1)])):y=!1):(u=!0,a[a.length]=[f+" "+fa+" "+w,"second argument must be >= first"])):y=!1)):(d=b.ra(),d===Keywords.Lf?(d=b.U(),Ca=Ba=-1,Da=0,u=!0):y=!1);break;case Keywords.gw:b.G()&&(y=!0,w=b.J(),0<=w&&1>=w&&(ab=w,u=!0));break;case Keywords.vp:b.G()&&
(y=!0,w=b.J(),w>=-e.a.$&&w<2*e.a.$&&(y=!1,fa=w,b.G()&&(y=!0,w=b.J(),w>=-e.a.$&&w<2*e.a.$&&(y=!1,ia=w,b.G()&&(y=!0,w=b.J(),ha=-1E3,w>=ViewConstants.Kb&&w<=ViewConstants.zc?ha=w:w>=ViewConstants.Ep&&w<=ViewConstants.Dp&&(ha=-(1/w)),-1E3!==ha&&(d=b.ra(),Fa=!1,d===Keywords.Ge&&(d=b.U(),Fa=!0,d=b.ra()),d[0]===Keywords.ad?(ra=e.N.SE(fa,ia,ha,e.gv,ab,bb,Ba,Ca,Da,cb,Ea,Fa,Ga,Ha,Ia,Ja,Ka),u=la=!0):y=!1))))));break;case Keywords.fw:u=e.a.oi=!0;break;case Keywords.ao:u=!1;d=b.U();if(""!==d){for(e.$n=[];b.G();)w=
b.J(),e.$n[e.$n.length]=w;e.dE(a,d,e.$n);e.$n=[];u=!0}break;case Keywords.Cm:u=!1;d=b.U();if(""!==d&&(g=b.ra(),""!==g)){b.U();for(m=b.ra();""!==m&&!this.lm(m)&&!b.G()&&-1!==PatternManager.kn(fb,m,!1,e.a.l);)b.U(),g+=m,m=b.ra();ia=fa=0;b.G()&&(y=!0,fa=b.J());b.G()&&(y=!0,ia=b.J());ha=-1;m=b.ra();if(""!==m){switch(m){case Keywords.Ty:ha=ViewConstants.Eq;break;case Keywords.Qy:ha=ViewConstants.Jy;break;case Keywords.Ry:ha=ViewConstants.Ky;break;case Keywords.Sy:ha=ViewConstants.Ly;break;case Keywords.Wy:ha=
ViewConstants.Oy;break;case Keywords.Xy:ha=ViewConstants.Py;break;case Keywords.Vy:ha=ViewConstants.Ny;break;case Keywords.Uy:ha=ViewConstants.My}-1!==ha&&b.U()}-1===ha&&(ha=ViewConstants.Eq);e.cE(a,d,g,fa,ia,ha);u=!0}break;case Keywords.Js:g=b.ra();if(""!==g){b.U();for(m=b.ra();""!==m&&!this.lm(m)&&!b.G()&&-1!==PatternManager.kn(fb,m,!1,e.a.l);)b.U(),g+=m,m=b.ra();ia=fa=0;b.G()&&(y=!0,fa=b.J());b.G()&&(y=!0,ia=b.J());ha=-1;m=b.ra();if(""!==m){switch(m){case Keywords.Ty:ha=ViewConstants.Eq;break;
case Keywords.Qy:ha=ViewConstants.Jy;break;case Keywords.Ry:ha=ViewConstants.Ky;break;case Keywords.Sy:ha=ViewConstants.Ly;break;case Keywords.Wy:ha=ViewConstants.Oy;break;case Keywords.Xy:ha=ViewConstants.Py;break;case Keywords.Vy:ha=ViewConstants.Ny;break;case Keywords.Uy:ha=ViewConstants.My}-1!==ha&&b.U()}-1===ha&&(ha=ViewConstants.Eq);e.gE(e.Sn,e.Mp,e.Rn,e.Np,e.Pb,g,fa,ia,ha)||(a[a.length]=[Keywords.Js+" "+g,"invalid name or rle"]);u=!0}break;case Keywords.Is:if(b.G()){if(y=!0,w=b.J(),0<=w){e.Sn=
w;e.Np=0;e.Mp=-1;e.Rn=[];for(k=!0;k;)b.G()?(w=b.J(),e.Rn[e.Rn.length]=w):(d=b.ra(),e.hE(d,e.Rn)?b.U():k=!1);u=!0}}else d=b.ra(),d===Keywords.Kr&&(d=b.U(),b.G()&&(y=!0,w=b.J(),1<=w&&(e.Np=w,e.Sn=0,e.Mp=-1,b.G()?(w=b.J(),0<=w&&(e.Sn=w,b.G()?(w=b.J(),w>=e.Sn+e.Np&&(e.Mp=w,u=!0)):u=!0)):u=!0)));break;case Keywords.UC:u=t.Dn=!0;break;case Keywords.ex:u=!0;y=!1;Ma="paste mode";d=b.ra();switch(d){case Keywords.kx:e.Pb=ViewConstants.OB;break;case Keywords.Ww:e.Pb=ViewConstants.Vw;break;case Keywords.Rw:e.Pb=
ViewConstants.CB;break;case Keywords.gx:e.Pb=ViewConstants.LB;break;case Keywords.Sw:e.Pb=ViewConstants.DB;break;case Keywords.jx:e.Pb=ViewConstants.NB;break;case Keywords.ix:e.Pb=ViewConstants.hx;break;case Keywords.dx:e.Pb=ViewConstants.xm;break;case Keywords.$w:e.Pb=ViewConstants.HB;break;case Keywords.fx:e.Pb=ViewConstants.MB;break;case Keywords.bx:e.Pb=ViewConstants.JB;break;case Keywords.Tw:e.Pb=ViewConstants.EB;break;case Keywords.ax:e.Pb=ViewConstants.IB;break;case Keywords.Uw:e.Pb=ViewConstants.FB;
break;case Keywords.Zw:e.Pb=ViewConstants.GB;break;case Keywords.cx:e.Pb=ViewConstants.KB;break;case Keywords.Yw:e.Pb=ViewConstants.Xw;break;default:if(4===d.length){for(ja=w=0;4>ja&&u;){w<<=1;switch(d.substr(ja,1)){case "1":w|=1;break;case "0":break;default:u=!1}ja+=1}u&&(e.Pb=w)}else b.G()?(y=!0,w=b.J()|0,0<=w&&15>=w?e.Pb=w:u=!1):u=!1}u&&!y&&b.U();break;case Keywords.Tv:u=e.dj=!0;break;case Keywords.Fw:e.Fi=!1;u=!0;break;case Keywords.Ew:u=e.Je=!0;break;case Keywords.Gw:e.un=!1;u=!0;break;case Keywords.uw:b.G()&&
(y=!0,w=b.J()|0,w>=ViewConstants.jB&&w<=ViewConstants.aB&&(e.a.$=1<<w,u=!0));break;case Keywords.pq:d=b.ra();d===Keywords.vb?(d=b.U(),t.xl=!1):t.xl=!0;u=t.ut=!0;break;case Keywords.Uq:d=b.ra();d===Keywords.vb?(d=b.U(),t.af=!1):t.af=!0;u=!0;break;case Keywords.bs:b.G()&&(y=!0,w=b.J()|0,0<=w&&w<=e.ts&&(e.I=w,u=!0));break;case Keywords.Uv:d=b.ra();d===Keywords.vb?(d=b.U(),e.Fh=!1):e.Fh=!0;u=!0;break;case Keywords.$o:d=b.ra();d===Keywords.vb?(d=b.U(),t.Lc=!1):t.Lc=!0;u=t.Xj=!0;break;case Keywords.Zo:b.G()&&
(y=!0,w=b.J()|0,w>=ViewConstants.CG&&w<=ViewConstants.zG&&(e.a.bf=w,u=e.nr=!0));break;case Keywords.Ea:case Keywords.Yu:x=f;La=!1;if(b.G()){v=b.J()|0;if(0>v||255<v)a[a.length]=[f+" "+v,"STATE out of range"],La=!0;this.Vo(e,b,a,v,f,La,v)}else switch(d=b.ra(),d){case Keywords.xB:this.ac(e,b,a,ViewConstants.gg,x);break;case Keywords.yB:this.ac(e,b,a,ViewConstants.ri,x);break;case Keywords.CA:this.ac(e,b,a,ViewConstants.yh,x);break;case Keywords.SA:d=b.U();this.Vo(e,b,a,ViewConstants.TA,f,!1,d);break;
case Keywords.WA:d=b.U();this.Vo(e,b,a,ViewConstants.XA,f,!1,d);break;case Keywords.UA:d=b.U();this.Vo(e,b,a,ViewConstants.VA,f,!1,d);break;case Keywords.KA:d=b.U();this.Vo(e,b,a,ViewConstants.LA,f,!1,d);break;case Keywords.zt:this.ac(e,b,a,ViewConstants.gg,x);break;case Keywords.yt:this.ac(e,b,a,ViewConstants.ri,x);break;case Keywords.vy:this.ac(e,b,a,ViewConstants.pr,x);break;case Keywords.Bt:this.ac(e,b,a,ViewConstants.yh,x);break;case Keywords.At:this.ac(e,b,a,ViewConstants.Ko,x);break;case Keywords.xy:this.ac(e,
b,a,ViewConstants.rr,x);break;case Keywords.wy:this.ac(e,b,a,ViewConstants.iv,x);break;case Keywords.$o:this.ac(e,b,a,ViewConstants.Lo,x);break;case Keywords.Zo:this.ac(e,b,a,ViewConstants.Mo,x);break;case Keywords.pq:this.ac(e,b,a,ViewConstants.yr,x);break;case Keywords.ty:this.ac(e,b,a,ViewConstants.zr,x);break;case Keywords.Dv:this.ac(e,b,a,ViewConstants.sr,x);break;case Keywords.vp:this.ac(e,b,a,ViewConstants.No,x);break;case Keywords.zo:this.ac(e,b,a,ViewConstants.Jo,x);break;case Keywords.gC:this.ac(e,
b,a,ViewConstants.Oo,x);break;case Keywords.Lz:this.ac(e,b,a,ViewConstants.qr,x);break;case Keywords.tA:this.ac(e,b,a,ViewConstants.vr,x);break;case Keywords.sA:this.ac(e,b,a,ViewConstants.ur,x);break;case Keywords.rA:this.ac(e,b,a,ViewConstants.tr,x);break;case Keywords.uA:this.ac(e,b,a,ViewConstants.wr,x);break;case Keywords.vA:this.ac(e,b,a,ViewConstants.xr,x);break;case Keywords.$C:this.ac(e,b,a,ViewConstants.Ro,x);break;case Keywords.YC:this.ac(e,b,a,ViewConstants.Po,x);break;case Keywords.aD:this.ac(e,
b,a,ViewConstants.So,x);break;case Keywords.cD:this.ac(e,b,a,ViewConstants.Uo,x);break;case Keywords.bD:this.ac(e,b,a,ViewConstants.To,x);break;case Keywords.ZC:this.ac(e,b,a,ViewConstants.Qo,x);break;default:a[a.length]=[f+" "+d,"illegal element"],d=b.U()}u=!0;break;case Keywords.eo:-1===b.dm(Keywords.ql,-1)&&b.zF();u=!0;--e.Ip;break;case Keywords.Lq:u=e.Ia=!0;break;case Keywords.Iw:u=e.Hw=!0;break;case Keywords.Jw:e.Gk=!1;u=!0;break;case Keywords.Dw:e.sc=!0;u=e.Cs=!0;break;case Keywords.Cw:u=e.fk=
!0;break;case Keywords.qy:u=Za=Ya=Xa=Wa=ya=xa=Va=Ua=wa=Ta=Sa=Ra=Qa=Pa=Oa=!0;break;case Keywords.vb:a[a.length]=[Keywords.vb,"must follow LOOP or STOP"];u=!0;break;case Keywords.Lf:d=b.ra();d===Keywords.Jb?(d=b.U(),t.Hh?(e.N.HE(t,a),e.$H()):a[a.length]=[Keywords.Lf+" "+Keywords.Jb,"only valid at a POI"]):a[a.length]=[Keywords.Lf,"must be followed by INITIAL"];u=!0;break;case Keywords.Jb:a[a.length]=[Keywords.Jb,"must follow POI, ALL or a POI setting"];u=!0;break;case Keywords.Wq:d=b.ra();d===Keywords.vb?
(d=b.U(),e.ze=!1):e.va&&(e.ze=!0);u=!0;break;case Keywords.Os:b.G()&&(y=!0,w=b.J()|0,0<=w&&(t.Hh?(t.Sb=w,t.rq=!0):a[a.length]=[Keywords.Os+" "+w,"only valid at a POI"],u=!0));break;case Keywords.Xn:t.aI(a);u=!0;break;case Keywords.Yn:t.hI(a);u=!0;break;case Keywords.Xp:t.bI(a);u=!0;break;case Keywords.Yp:b.G()&&(y=!0,w=b.J(),w>=WaypointConstants.cC&&w<=WaypointConstants.bC&&(t.jI(w,a),u=!0));break;case Keywords.Nv:u=e.Vr=!0;break;case Keywords.oy:d=b.ra();d===Keywords.vb?(d=b.U(),e.Wh=!1):e.Wh=!0;
u=!0;break;case Keywords.Dq:b.G()&&(y=!0,w=b.J(),w>=ViewConstants.rg&&w<=ViewConstants.qg&&(pa=w,y=!1,f+=" "+w,b.G()&&(y=!0,w=b.J(),w>=ViewConstants.rg&&w<=ViewConstants.qg&&(qa=w,u=!0,e.jd&&(a[a.length]=[Keywords.Dq+" "+pa+" "+qa,"overwrites "+na+" "+oa]),na=pa,oa=qa,e.jd=!0))));break;case Keywords.Cq:b.G()&&(y=!0,w=b.J()|0,0<w&&(Na=w,y=!1,f+=" "+w,b.G()&&(y=!0,w=b.J(),w>=ViewConstants.rg&&w<=ViewConstants.qg&&(pa=w,y=!1,f+=" "+w,b.G()&&(y=!0,w=b.J(),w>=ViewConstants.rg&&w<=ViewConstants.qg&&(qa=
w,u=!0,e.Sm&&(a[a.length]=[Keywords.Cq+" "+Na+" "+pa+" "+qa,"overwrites "+Aa+" "+na+" "+oa]),Aa=Na,na=pa,oa=qa,e.Sm=!0,e.jd=!0))))));break;case Keywords.Rm:b.G()&&(y=!0,w=b.J(),w>=ViewConstants.rg&&w<=ViewConstants.qg&&(ua=w,y=!1,f+=" "+w,b.G()&&(y=!0,w=b.J(),w>=ViewConstants.rg&&w<=ViewConstants.qg&&(ta=w,y=!1,f+=" "+w,b.G()&&(y=!0,w=b.J(),w>=ViewConstants.rg&&w<=ViewConstants.qg&&(va=w,y=!1,f+=" "+w,b.G()&&(y=!0,w=b.J(),w>=ViewConstants.rg&&w<=ViewConstants.qg&&(sa=w,u=!0,va>ua?a[a.length]=[Keywords.Rm+
" W "+this.Yh(va,2)+" E "+this.Yh(ua,2),"W is greater than E"]:sa>ta?a[a.length]=[Keywords.Rm+" N "+this.Yh(sa,2)+" S "+this.Yh(ta,2),"N is greater than S"]:(e.Qm&&(a[a.length]=[Keywords.Rm+" "+this.Yh(ua,2)+" "+this.Yh(ta,2)+" "+this.Yh(va,2)+" "+this.Yh(sa,2),"overwrites "+this.Yh(e.Aj,2)+" "+this.Yh(e.Bj,2)+" "+this.Yh(e.uk,2)+" "+this.Yh(e.tk,2)]),e.Qm=!0,e.jd=!0,e.tk=sa,e.Aj=ua,e.Bj=ta,e.uk=va)))))))));break;case Keywords.Mi:A=t;!t.Hh&&0<e.N.NG&&(t=e.N.Xo());b.G()?(y=!0,w=b.J()|0,0<w&&(!t.Bl||
e.Vk||ya||(a[a.length]=-1===t.Eb?[Keywords.Mi+" "+w,"overwrites "+Keywords.vb]:[Keywords.Mi+" "+w,"overwrites "+t.Eb]),t.Eb=w,t.Bl=!0,ya=e.Vk=!1,u=!0)):(d=b.ra(),d===Keywords.vb?(d=b.U(),!t.Bl||e.Vk||ya||(a[a.length]=-1!==t.Eb||e.Vk?[Keywords.Mi+" "+Keywords.vb,"overwrites "+t.Eb]:[Keywords.Mi+" "+Keywords.vb,"overwrites "+Keywords.vb]),t.Eb=-1,t.Bl=!0,ya=e.Vk=!1,u=!0):d===Keywords.Jb&&(d=b.U(),e.N.ud(Keywords.Mi,t,a,e.Vk),u=e.Vk=!0));t=A;break;case Keywords.Ai:A=t;!t.Hh&&0<e.N.Da.length&&(t=e.N.Xo());
b.G()?(y=!0,w=b.J()|0,0<w&&(!t.Xk||e.im||xa||(a[a.length]=-1===t.Fa?[Keywords.Ai+" "+w,"overwrites "+Keywords.vb]:[Keywords.Ai+" "+w,"overwrites "+t.Fa]),t.Fa=w,t.Xk=!0,xa=e.im=!1,u=!0)):(d=b.ra(),d===Keywords.vb?(d=b.U(),!t.Xk||e.im||xa||(a[a.length]=-1===t.Fa?[Keywords.Ai+" "+Keywords.vb,"overwrites "+Keywords.vb]:[Keywords.Ai+" "+Keywords.vb,"overwrites "+t.Fa]),t.Fa=-1,t.Xk=!0,xa=e.im=!1,u=!0):d===Keywords.Jb&&(d=b.U(),e.N.ud(Keywords.Ai,t,a,e.im),u=e.im=!0));t=A;break;case Keywords.Dk:b.G()?
(y=!0,w=b.J()|0,0<=w&&359>=w&&(!t.qh||e.mp||Ra||(a[a.length]=[Keywords.Dk+" "+w,"overwrites "+t.angle]),t.angle=w,t.qh=!0,Ra=e.mp=!1,u=!0)):(d=b.ra(),d===Keywords.Jb&&(d=b.U(),e.N.ud(Keywords.Dk,t,a,e.mp),u=e.mp=!0));break;case Keywords.nm:b.G()?(y=!0,w=b.J()|0,w>=ViewConstants.zs&&w<=ViewConstants.us&&(!t.Kh||e.pp||Sa||(a[a.length]=[Keywords.nm+" "+w,"overwrites "+t.L]),t.L=w,t.Kh=!0,Sa=e.pp=!1,u=!0)):(d=b.ra(),d===Keywords.Jb&&(d=b.U(),e.N.ud(Keywords.nm,t,a,e.pp),u=e.pp=!0));break;case Keywords.Xl:b.G()?
(y=!0,w=b.J(),w>=ViewConstants.ys&&w<=ViewConstants.$A&&(!t.zh||e.np||Ta||(a[a.length]=[Keywords.Xl+" "+w,"overwrites "+t.depth]),t.depth=w,t.zh=!0,Ta=e.np=!1,u=!0)):(d=b.ra(),d===Keywords.Jb&&(d=b.U(),e.N.ud(Keywords.Xl,t,a,e.np),u=e.np=!0));break;case Keywords.Mt:b.G()&&(y=!0,w=b.J(),w>=-e.a.$/2&&w<=e.a.$/2&&(e.zb=w,u=!0));break;case Keywords.Ot:b.G()&&(y=!0,w=b.J(),w>=-e.a.$/2&&w<=e.a.$/2&&(e.Ab=w,u=!0));break;case Keywords.Qe:b.G()?(y=!0,w=b.J(),w>=-e.a.$/2&&w<=e.a.$/2&&(!t.bg||e.rp||Oa||(a[a.length]=
[Keywords.Qe+" "+w,"overwrites "+-t.x]),t.x=-w,t.bg=!0,Oa=e.rp=!1,u=!0)):(d=b.ra(),d===Keywords.Jb&&(d=b.U(),e.N.ud(Keywords.Qe,t,a,e.rp),u=e.rp=!0));break;case Keywords.Re:b.G()?(y=!0,w=b.J(),w>=-e.a.$/2&&w<=e.a.$/2&&(!t.If||e.sp||Pa||(a[a.length]=[Keywords.Re+" "+w,"overwrites "+-t.y]),t.y=-w,t.If=!0,Pa=e.sp=!1,u=!0)):(d=b.ra(),d===Keywords.Jb&&(d=b.U(),e.N.ud(Keywords.Re,t,a,e.sp),u=e.sp=!0));break;case Keywords.GA:u=e.FA=!0;break;case Keywords.Dy:b.G()&&(y=!0,w=b.J(),w>=ViewConstants.Kb&&w<=ViewConstants.zc?
(e.Dt=!0,e.Cy=w,u=!0):w>=ViewConstants.Ep&&w<=ViewConstants.Dp&&(e.Dt=!0,e.Cy=-(1/w),u=!0));break;case Keywords.Du:case Keywords.zd:b.G()?(y=!0,w=b.J(),w>=ViewConstants.Kb&&w<=ViewConstants.zc?(!t.ae||e.jm||Qa||(a[a.length]=1>t.zoom?[Keywords.zd+" "+w,"overwrites "+-(1/t.zoom)]:[Keywords.zd+" "+w,"overwrites "+t.zoom]),t.zoom=w,t.ae=!0,Qa=e.jm=!1,u=!0):w>=ViewConstants.Ep&&w<=ViewConstants.Dp&&(t.ae&&!e.jm&&(a[a.length]=1>t.zoom?[Keywords.zd+" "+w,"overwrites "+-(1/t.zoom)]:[Keywords.zd+" "+w,"overwrites "+
t.zoom]),t.zoom=-(1/w),t.ae=!0,e.jm=!1,u=!0)):(d=b.ra(),d===Keywords.Jb&&(d=b.U(),e.N.ud(Keywords.zd,t,a,e.jm),u=e.jm=!0));break;case Keywords.fm:b.G()?(y=!0,w=b.J()|0,w>=ViewConstants.Wd&&w<=ViewConstants.Nh&&(!t.Dh||e.op||Ua||(a[a.length]=[Keywords.fm+" "+w,"overwrites "+t.ec]),t.ec=w,t.Dh=!0,Ua=e.op=!1,u=!0)):(d=b.ra(),d===Keywords.Jb&&(d=b.U(),e.N.ud(Keywords.fm,t,a,e.op),u=e.op=!0));break;case Keywords.Ey:d=b.ra();d===Keywords.vb?(d=b.U(),e.Rd||(e.Sa=!1,e.sk=!1)):e.Rd||(e.Sa=!0,e.sk=!0);u=!0;
break;case Keywords.zy:d=b.ra();d===Keywords.vb?(d=b.U(),e.Rd||(e.Sa=!1,e.sk=!1,e.Oi=!1,e.o.Oi=!1)):e.Rd||(e.Sa=!0,e.sk=!0,e.Oi=!0,e.o.Oi=!0);u=!0;break;case Keywords.By:b.G()&&(y=!0,w=b.J()|0,w>=ViewConstants.pB&&w<=ViewConstants.gB&&(e.Zd=w,u=!0));break;case Keywords.rk:b.G()?(y=!0,w=b.J()|0,0<=w&&w<e.a.pe&&(!t.Gf||e.ak||wa||this.Ax(e,a,w,t.hc),t.hc=w,t.Gf=!0,wa=e.ak=!1,u=!0)):(d=b.ra(),d===Keywords.oo?(d=b.U(),e.Og?(t.Gf&&!e.ak&&this.Ax(e,a,e.a.pe,t.hc),t.hc=e.a.pe,t.Gf=!0,e.ak=!1):a[a.length]=
[Keywords.rk+" "+Keywords.oo,"no custom THEME defined"],u=!0):(w=e.xI(d),-1!==w?(d=b.U(),!t.Gf||e.ak||wa||this.Ax(e,a,w,t.hc),t.hc=w,t.Gf=!0,wa=e.ak=!1,u=!0):d===Keywords.Jb&&(d=b.U(),e.N.ud(Keywords.rk,t,a,e.ak),u=e.ak=!0)));break;case Keywords.ql:a[a.length]=[f,"already in a script block"];u=!0;break;case Keywords.gy:e.Mc=!e.Mc;u=!0;break;case Keywords.hy:e.sn.current=e.to([!0],!0,e);u=!0;break;case Keywords.Ev:e.yq.current=e.mz([!0],!0,e);u=!0;break;case Keywords.fy:e.Jt([!0],!0,e);e.He&&(e.He.current=
[e.Eg],e.o.eh=!0);u=!0;break;case Keywords.qv:b.G()&&(y=!0,w=b.J()|0,w>=ViewConstants.iB&&w<=ViewConstants.ZA&&(u=!0,e.a.eq=w));break;case Keywords.Ds:u=e.xc=!0;break;case Keywords.Pr:u=e.Bc=!0;break;case Keywords.Kv:b.G()&&(y=!0,w=b.J(),0<=w&&1>=w&&(u=!0,e.Zc=w));break;case Keywords.Lv:e.yg=!1;u=!0;break;case Keywords.Pv:u=e.a.$d=!0;break;case Keywords.jy:e.a.$d=!1;u=!0;break;case Keywords.Kz:u=e.a.Pd=!0;break;case Keywords.Ix:b.G()&&(y=!0,w=b.J()|0,w>=ViewConstants.oB&&w<=ViewConstants.fB&&(e.et=
w,u=!0));break;case Keywords.Dx:b.G()&&(y=!0,w=b.J()|0,w>=ViewConstants.nB&&w<=ViewConstants.eB&&(e.$s=w,u=!0));break;case Keywords.Cx:b.G()&&(y=!0,w=b.J()|0,w>=ViewConstants.mB&&w<=ViewConstants.dB&&(e.Zs=w,u=!0));break;case Keywords.Ex:u=e.at=!0;break;case Keywords.Hx:u=e.dt=!0;break;case Keywords.Bx:d=b.ra();switch(d){case Keywords.Lf:d=b.U();b.G()&&(y=!0,w=b.J()|0,0<=w&&100>=w&&(e.hk=w,u=!0));break;case Keywords.Xs:d=b.U();b.G()&&(y=!0,w=b.J()|0,0<=w&&100>=w&&(e.ik=w,u=!0));break;case Keywords.bt:d=
b.U();b.G()&&(y=!0,w=b.J()|0,0<=w&&100>=w&&(e.ol=w,u=!0));break;default:this.SI(d)&&(d=b.U(),b.G()&&(y=!0,w=b.J()|0,0<=w&&100>=w&&(this.RH(e,w),u=!0)))}break;case Keywords.Gx:e.ct=b.U();u=e.Fx=!0;break;case Keywords.Tg:d=b.ra();switch(d){case Keywords.Qe:t.xk&&this.Oh(t.jh,Keywords.Tg,Keywords.Qe,a);t.jh=!0;t.xk=!0;d=b.U();break;case Keywords.Re:t.zk&&this.Oh(t.lh,Keywords.Tg,Keywords.Re,a);t.lh=!0;t.zk=!0;d=b.U();break;case Keywords.zd:t.uz&&this.Oh(t.nh,Keywords.Tg,Keywords.zd,a);t.nh=!0;t.Mq=!0;
d=b.U();break;case Keywords.Lf:t.xk&&this.Oh(t.jh,Keywords.Tg,Keywords.Qe,a);t.zk&&this.Oh(t.lh,Keywords.Tg,Keywords.Re,a);t.uz&&this.Oh(t.nh,Keywords.Tg,Keywords.zd,a);t.jh=!0;t.xk=!0;t.lh=!0;t.zk=!0;t.nh=!0;t.Mq=!0;d=b.U();break;default:this.sm(b,a,Keywords.Tg,"argument",Keywords.Lf+", "+Keywords.Qe+", "+Keywords.Re+" or "+Keywords.zd)}u=!0;break;case Keywords.ni:d=b.ra();switch(d){case Keywords.Qe:t.xk&&this.Oh(t.jh,Keywords.ni,Keywords.Qe,a);t.jh=!1;t.xk=!0;d=b.U();break;case Keywords.Re:t.zk&&
this.Oh(t.lh,Keywords.ni,Keywords.Re,a);t.lh=!1;t.zk=!0;d=b.U();break;case Keywords.zd:t.uz&&this.Oh(t.nh,Keywords.ni,Keywords.zd,a);t.nh=!1;t.Mq=!0;d=b.U();break;case Keywords.Lf:t.xk&&this.Oh(t.jh,Keywords.ni,Keywords.Qe,a);t.zk&&this.Oh(t.lh,Keywords.ni,Keywords.Re,a);t.uz&&this.Oh(t.nh,Keywords.ni,Keywords.zd,a);t.jh=!1;t.xk=!0;t.lh=!1;t.zk=!0;t.nh=!1;t.Mq=!0;d=b.U();break;default:this.sm(b,a,Keywords.ni,"argument",Keywords.Lf+", "+Keywords.Qe+", "+Keywords.Re+" or "+Keywords.zd)}u=!0;break;case Keywords.Ps:B=
!0;e.N.add(t);t=e.N.hr();t.Hh=!0;d=b.ra();d===Keywords.Jb&&(d=b.U(),-1!==e.Vl&&(a[a.length]=[Keywords.Ps+" "+Keywords.Jb,"overrides previous initial POI"]),e.Vl=e.N.Vb.length);e.EE();u=!0;break;case Keywords.qq:b.G()&&(y=!0,w=b.J()|0,0<=w&&(z||(z=!0),0<w&&(e.N.add(t),t=e.N.hr()),t.Sb=w,u=t.rq=!0));break;case Keywords.Jm:b.G()?(y=!0,w=b.J()|0,w>=ViewConstants.qm&&w<=ViewConstants.ff&&(!t.Xh||e.qp||Va||(a[a.length]=[Keywords.Jm+" "+w,"overwrites "+t.step]),t.step=w,t.Xh=!0,Va=e.qp=!1,u=!0)):(d=b.ra(),
d===Keywords.Jb&&(d=b.U(),e.N.ud(Keywords.Jm,t,a,e.qp),u=e.qp=!0));break;case Keywords.nx:b.G()&&(y=!0,w=b.J(),0<=w&&(z||(z=!0),e.N.add(t),t=e.N.hr(),w<ViewConstants.MC&&(w=ViewConstants.MC),t.hd=w,u=t.SC=!0));break;case Keywords.uo:b.G()&&(y=!0,w=b.J()|0,e.Rd||(-1===e.qe||Wa||(a[a.length]=[Keywords.uo+" "+w,"overwrites "+e.qe]),e.qe=w),Wa=!1,u=!0);break;case Keywords.xn:b.G()&&(y=!0,w=b.J()|0,e.Rd||(-1===e.Ag||Xa||(a[a.length]=[Keywords.xn+" "+w,"overwrites "+e.Ag]),e.Ag=w),Xa=!1,u=!0);break;case Keywords.$p:b.G()&&
(y=!0,w=b.J()|0,-1===e.jf||Ya||(a[a.length]=[Keywords.$p+" "+w,"overwrites "+e.jf]),e.jf=w,Ya=!1,u=!0);break;case Keywords.Zp:b.G()&&(y=!0,w=b.J()|0,-1===e.Sh||Za||(a[a.length]=[Keywords.Zp+" "+w,"overwrites "+e.Sh]),e.Sh=w,Za=!1,u=!0);break;default:a[a.length]=[f,"unknown or misspelt command"],u=!0}u||(y?a[a.length]=[f+" "+w,"argument out of range"]:this.sm(b,a,f,"argument",Ma))}""!==f&&(f=b.U())}q&&(a[a.length]=[Keywords.ad+r,"unterminated string"]);z&&e.jd&&(h=e.Qm?Keywords.Rm:e.Sm?Keywords.Cq:
Keywords.Dq,a[a.length]=[h,"can not be used with Waypoints"],e.jd=!1,e.Qm=!1,e.Sm=!1);e.Qm||!e.jd&&!e.Sm||(e.Sm&&(0<e.a.bf&&(Aa*=e.a.bf),t.Fa=Aa),e.tk=oa,e.Aj=na,e.Bj=oa,e.uk=na);if(z||B){e.N.add(t);t=e.N.Xo();z?e.Fc=!0:-1!==e.Vl&&(e.fg=e.Vl,A=e.N.Vb[e.Vl],A.bg&&(t.bg=A.bg,t.x=A.x),A.If&&(t.If=A.If,t.y=A.y),A.ae&&(t.ae=A.ae,t.zoom=A.zoom),A.qh&&(t.qh=A.qh,t.angle=A.angle),A.zh&&(t.zh=A.zh,t.depth=A.depth),A.Kh&&(t.Kh=A.Kh,t.L=A.L),A.Gf&&(t.Gf=A.Gf,t.hc=A.hc),A.Dh&&(t.Dh=A.Dh,t.ec=A.ec),A.Xh&&(t.Xh=
A.Xh,t.step=A.step),A.RC&&(t.RC=A.RC,t.stop=A.stop),A.QA&&(t.QA=A.QA,t.loop=A.loop));if(z){for(ja=0;ja<e.N.Da.length;ja+=1)t=e.N.Da[ja],t.af&&(t.bg||t.If||t.ae)&&(r="",t.bg?(r="X "+t.x,t.If?r=t.ae?r+(", Y "+t.y+" and ZOOM "+t.zoom):r+(" and Y "+t.y):t.ae&&(r+=" and ZOOM "+t.zoom)):t.If?(r="Y "+t.y,t.ae&&(r+=" and ZOOM "+t.zoom)):t.ae&&(r="ZOOM "+t.zoom),a[a.length]=[Keywords.Uq,"overwrites "+r]);t=e.N.Xo()}B&&t.sg===WaypointConstants.play&&e.va&&(e.ze=!0)}t.af&&(e.bc=!0);t.bg&&(e.a.pa=e.a.width/2-
t.x);t.If&&(e.a.ka=e.a.height/2-t.y);t.ae&&(e.a.zoom=t.zoom);t.qh&&(e.a.angle=t.angle);t.zh&&(e.a.Sd=t.depth/ViewConstants.Wl+ViewConstants.ys);t.Kh&&(e.a.L=t.L);t.Gf&&(e.yy=t.hc);t.Dh&&(e.vd=t.ec);t.Xh&&(e.ja=t.step);t.uy&&e.o.notification.K(t.nf,1E3,!1);e.Eb=t.Eb;e.Fa=t.Fa;t.ae&&(e.pv=!0);t.bg&&(e.nv=!0);t.If&&(e.ov=!0);t.Xj&&(e.a.Xb=t.Lc);t.ut&&(e.Li=t.xl);for(ja=0;ja<p;ja+=1)-1!==e.Hb[ja]&&(l+=1);if(0<l){e.Pq=!0;for(ja=0;ja<p;ja+=1)PatternManager.Im[ja]?-1===e.Hb[ja]?(e.Pq=!1,e.Ul[ja]=ViewConstants.QC):
e.Ul[ja]=ViewConstants.PC:e.Ul[ja]=ViewConstants.py;e.hn=e.Pq?"(custom)":e.hn+" (custom*)"}else e.Hb=null;e.Og&&(this.mI(e),e.yI&&(e.yI.upper=e.a.pe));2<p&&!e.a.ib&&-1===e.a.g&&(e.Ia=!0);e.Ia&&(h="not possible due to "+Keywords.Lq,e.ze&&(a[a.length]=[Keywords.Wq,h],e.ze=!1),-1!==e.Eb&&(a[a.length]=[Keywords.Mi+" "+e.Eb,h]),-1!==e.Fa&&(a[a.length]=[Keywords.Ai+" "+e.Fa,h]));0!==e.zb&&e.qb+ViewConstants.ff+2*Math.abs(e.zb)>=e.a.$&&(a[a.length]=[Keywords.Mt+" "+e.zb,"pattern does not fit on grid at view offset"],
e.zb=0);0!==e.Ab&&e.xb+ViewConstants.ff+2*Math.abs(e.Ab)>=e.a.$&&(a[a.length]=[Keywords.Ot+" "+e.Ab,"pattern does not fit on grid at view offset"],e.Ab=0);e.Lw=a.length}""!==e.$h&&(e.$h=this.no(e,e.$h));e.bc&&(e.Tq=!0);e.Bc&&e.xc&&(a[a.length]=[Keywords.Pr,"not valid with "+Keywords.Ds],e.Bc=!1);var ka=0,za=!1;-1!==e.qe&&(ka=ViewConstants.wd,e.qe>=ViewConstants.lB&&e.qe<ka&&(e.qe=ka),e.sc&&(ka=ViewConstants.EG),e.qe<ka||e.qe>e.gj)&&(a[a.length]=[Keywords.uo+" "+e.qe,"argument out of range"],za=!0);
-1!==e.Ag&&(ka=ViewConstants.ck,e.sc&&(ka=ViewConstants.DG),e.Ag<ka||e.Ag>ViewConstants.ws)&&(a[a.length]=[Keywords.xn+" "+e.Ag,"argument out of range"],za=!0);e.Rd&&(-1!==e.jf&&(e.jf>=ViewConstants.lB&&e.jf<ViewConstants.wd&&(e.jf=ViewConstants.wd),e.jf<ViewConstants.wd||e.jf>e.gj)&&(a[a.length]=[Keywords.$p+" "+e.jf,"argument out of range"],e.jf=-1,za=!0),-1!==e.Sh&&(e.Sh<ViewConstants.ck||e.Sh>ViewConstants.ws)&&(a[a.length]=[Keywords.Zp+" "+e.Sh,"argument out of range"],e.Sh=-1,za=!0));if(za||
a.length)-1!==e.qe&&e.qe<ViewConstants.wd&&(e.qe=ViewConstants.wd),-1!==e.Ag&&e.Ag<ViewConstants.$k&&(e.Ag=ViewConstants.$k),e.sc=!1;e.i.f=e.sc;e.o.sc=e.sc;e.o.fk=e.fk;e.sc&&(e.ze=!1,e.Sa=!1,e.Oi=!1,e.Bc=!1,e.to([!1],!0,e),e.mz([!1],!0,e),e.Jt([!1],!0,e),e.Mc=!1,e.dj=!1);e.Hw&&(e.element.style="display:none",e.element.parentNode&&e.element.parentNode.parentNode&&e.element.parentNode.parentNode.className===DocConfig.Fr&&(e.element.parentNode.parentNode.style="display:none;"));e.N.qI()}}}(),function(){function e(a,
h,l,v,x){this.name=a;this.pattern=h;this.OH=l;this.width=v;this.height=x}function n(a){var h;this.na=new PatternManager;this.mt=this.es=!1;this.Nw=this.Pw=0;this.Ow=!1;this.pw="";this.zf=!1;this.os=this.ms=this.Hn=this.zp=this.yp=this.Fn=this.ns=this.wp=this.Jn=this.In=this.xp=this.lb=this.Gn="";this.fc=!1;this.jp=this.fp=this.fs=this.hp=this.ip=this.hs=this.gs=this.ds=this.cs=this.gp=this.kp=this.Ij=this.an=this.Xm=this.Wm=this.Ak=this.$m=this.Zm=this.Ym=this.Lj=this.Jj=this.Kj=this.og=null;this.Oe=
1;this.$s=this.et=u.Zn;this.Zs=50;this.dt=this.at=!1;this.ol=this.ik=this.hk=-1;this.Yg=[];this.Hi=[];this.pz=!1;this.Wo=this.Qv=this.Su=this.Zv=this.Eu=null;this.bp=18;this.yn="18px "+u.lA;this.Sk="18px "+u.dz;this.devicePixelRatio=window.devicePixelRatio?window.devicePixelRatio:1;this.Gk=!0;this.wt=this.aj=this.lk=this.jk=this.mk=this.kk=this.sj=!1;this.Cf=[];for(h=0;10>h;h+=1)this.Cf[h]=null;this.ke=!1;this.Ke=this.Le=this.Mg=0;this.Xf=u.Op;this.ph=this.Do=!1;this.Xa=null;this.Nc=!1;this.Lr=new BoundingBox(0,
0,0,0);this.yb=new BoundingBox(0,0,0,0);this.pm=new BoundingBox(0,0,0,0);this.Qb=new Random;this.Qb.cf(Date.now().toString());this.Am=50;this.KC=this.JC=0;this.cj=this.kb=!1;this.Gv=u.xm;this.wf=[];this.tm=this.Yb=0;this.Gc=[];this.Jc=0;this.xe=[];this.he=0;this.Qa=[];this.Qa[u.Eq]=[1,0,0,1];this.Qa[u.Jy]=[-1,0,0,-1];this.Qa[u.Ky]=[-1,0,0,1];this.Qa[u.Ly]=[1,0,0,-1];this.Qa[u.Oy]=[0,1,1,0];this.Qa[u.Py]=[0,-1,-1,0];this.Qa[u.Ny]=[0,-1,1,0];this.Qa[u.My]=[0,1,-1,0];this.pj=[];this.$n=[];this.qj=[];
this.Wf=[];this.Pb=u.xm;this.Sn=0;this.Mp=-1;this.Rn=[];this.Np=0;this.bk=!1;this.Zk=0;this.fi=!1;this.Ec=this.hl=this.el=this.gl=this.fl=0;this.ks=!1;this.R=null;this.Vm=0;this.up=!0;this.Cg=0;this.Of=1;this.nq=this.cw=this.mj=this.Wp=!1;this.Mh=7;this.Gm=!0;this.Zi=this.Yi=0;this.bm=!1;this.I=this.ts=63;this.im=this.Vk=this.op=this.qp=this.ak=this.pp=this.np=this.mp=this.jm=this.sp=this.rp=this.Hw=!1;this.Qh=this.bb=0;this.pb=null;this.vc=this.uc=0;this.oz=!1;this.Vl=this.tj=this.uj=-1;this.ct=
Date.now().toString();this.Fx=!1;this.Rk=u.wk;this.Uh=!0;this.Bc=!1;this.yg=!0;this.Zc=u.gA;this.FA=this.xc=!1;this.element=a;this.Mc=!1;this.uk=this.Aj=this.Bj=this.tk=this.lr=this.ir=this.kr=this.jr=0;this.Ne=this.Sm=this.jd=this.Qm=!1;this.un=!0;this.Wj=!1;this.Ch=0;this.Vj=!1;this.ml=this.ll=0;this.Gi=!1;this.B="";this.Ab=this.zb=0;this.Cv=this.Bv=this.on=this.Nk=this.cm=this.Tj=this.ny=this.my=this.yl=this.Hm=this.Al=this.zl=this.fg=-1;this.rs=this.Dr=!1;this.sq=this.Fg=-1;this.Go=this.Tl=!1;
this.er=-1;this.Km=this.El=null;this.tq="";this.Lm=this.wj=0;this.wI=32768;this.cr=!1;this.bv=this.cv=0;this.av=!0;this.Tq=this.bc=this.Ui=!1;this.Ll=0;this.xE=.01;this.Wh=this.Fh=!1;this.Qj=this.Ng=null;this.ti=u.ti;this.Ik=[96,96,96];this.Et=null;this.$h="";this.Fi=!0;this.Li=this.va=this.Je=!1;this.nk=null;this.Rd=!1;this.S=1;this.Di=this.Ei=0;this.td=this.dw=!1;this.N=new WaypointManager;this.Ap="";this.qw=-1;this.pg=this.Fc=!1;this.ja=1;this.Fv=this.Lw=this.Ip=0;this.gj=u.BG;this.Sh=this.jf=
this.Ag=this.qe=this.bj=-1;this.Pp=this.Tn="";this.Rp=this.gk=this.xb=this.qb=0;this.Qp=null;this.il=this.Xc=this.Yc=this.Ci="";this.nr=this.Og=!1;this.ia=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.cA=this.bA=-1;this.gv=u.MA;this.fv=u.Sq;this.hv=u.dC;this.hn="";this.De=[];this.Pq=!1;this.Hb=null;this.Ul=[];this.Sc=[];this.Nb=1;this.aa=0;this.mq=!1;this.On=100;this.Qc=10;this.X=[64,200,290,530,700];this.ag=!1;this.W=[];this.Xr=[];this.Yr=[];this.Eb=-1;this.te=
!1;this.Fa=-1;this.Vr=this.Mf=this.ze=this.Pc=this.fk=this.Cs=this.sc=this.rh=this.dj=this.Ia=this.ue=this.Ub=!1;this.ep=this.Gj=this.qn=-1;this.a=null;this.elapsedTime=0;this.D=640;this.C=512;this.Lp=640;this.Kp=512;this.Rs=!1;this.en=640;this.Ms=!0;this.Eg=this.iy=this.Ph=this.Pa=this.Vn=!1;this.ul=this.Fl=this.xj=this.Ac=this.jn=this.rd=this.Cj=this.we=this.Uc=this.Cb=null;this.A=[];this.h=this.fd=this.Jg=this.io=this.gi=this.Vg=this.Fb=this.kh=this.mh=this.Pf=this.Nf=this.dh=this.Se=this.We=this.ym=
this.Mb=this.ge=this.fa=this.wm=this.Gd=this.mb=this.zg=this.Jk=this.be=this.Xi=this.wa=this.kl=this.ee=this.jc=this.la=this.am=this.ye=this.yf=this.em=this.yq=this.fe=this.sn=this.Zg=this.ih=this.ko=this.An=this.fj=this.rf=this.fh=this.nb=this.Bn=this.bq=this.gn=this.wn=this.nn=this.tn=this.Wg=this.Cn=this.Hj=this.Pk=this.Co=this.Tk=this.Kl=this.dn=this.Te=this.Xg=this.gh=this.de=this.Wk=this.T=this.Ig=this.Uj=this.qf=this.Ml=this.Jd=this.Ue=this.Ve=this.oh=this.Ho=this.om=this.Eh=this.mi=this.Z=
this.hg=this.ce=this.Qf=this.ig=this.mg=this.jg=this.lg=this.kg=this.ii=this.ji=this.Ri=this.Zj=this.Cl=this.Yk=this.Hg=this.Nl=this.md=this.od=this.nd=this.dd=this.ci=this.ei=this.di=this.bi=this.bn=this.Hc=this.tg=this.qd=this.xg=this.pd=this.wg=this.Kn=this.Qn=this.eb=this.bo=this.He=this.Fd=this.Kc=this.rc=this.sd=this.ki=this.Ws=this.nt=this.Ns=this.ft=null;this.Jh=this.mm=-1;this.wheelDelta=0;this.nc=this.yc=this.ic=null;this.vd=60;this.i=this.o=null;this.si=this.je=this.ln=0;this.Cr=this.iA=
1;this.mv=60;this.mn=this.Br=1;this.lv=.1;this.yy=-1;this.Ji=this.re=this.Wx=0;this.co=1;this.sk=this.Sa=this.ov=this.nv=this.pv=!1;this.Zd=u.hA;this.xt=this.Ht=this.Ay=this.Ft=0;this.Dt=this.Oi=!1;this.jq=this.Cy=0;this.Qd=this.Ef=!1;this.Sp=-1}function p(a,h,l,v,x){var t,A=h.parentNode,z=null;for(t=0;t<y.ld.length&&!z;)y.ld[t][0].tabIndex===h.tabIndex?z=y.ld[t][1]:t+=1;z||(z=new n(x),z.Rd=v,w.Bp&&!v&&(z.gj=l&-8,z.gj<u.wd&&(z.gj=u.wd)),h.tabIndex=y.ld.length+1,z.Wt(h),"none"===A.style.display&&(y.Ss=
new PopupWindow(A,z)),y.ld[y.ld.length]=[h,z,y.Ss]);v||z.Vh(a,!1)}function b(a){a=a.parentNode;for(var h=!1;!h;)"div"!==a.localName||a.className!==w.Er&&a.className!==w.Fr||(h=!0),h||(a=a.parentNode);return a}function k(){var a=y.ly(),h=a[1],l=a[2];a[0].parentNode.style.display="none";l.Yl=!1;h.Pa&&(h.mb.current=h.kd(u.oe,!0,h))}function c(a){k();a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function f(a){a=a.innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/<br *\/>/gi,
"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,"").trim();a=a.replace(/\n[ ]+/g,"\n");return a=a.replace(/\n\t+/g,"\n")}function d(a){var h=b(a).getElementsByTagName(w.Un)[0];a=y.ld[0];h.innerHTML=h.value;h=f(h);a[1].kz(a[1]);a[1].o.notification.clear(!0,!0);a[1].o.notification.clear(!1,!0);a[1].Vh(h,!1)}function g(a){var h=b(a);h=h.getElementsByTagName(w.Un)[0];var l=f(h),v=y.ly();a=28;var x=18;if(v){var t=v[1];t.element=h;t.kz(t)}else{t=
document.createElement("canvas");t.width=u.wd;t.height=u.$k+80;t.style.display="block";var A=document.createElement("a");A.setAttribute("href","#");A.innerHTML="&nbsp;X&nbsp;";A.style.textDecoration="none";A.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";A.style.color="#FFFFFF";A.style.backgroundColor="#C75050";A.style.cssFloat="right";A.style.height=a+"px";A.style.fontSize=x+"px";var z=document.createElement("a");z.innerHTML="&nbsp;X&nbsp;";z.style.textDecoration="none";z.style.fontFamily=
"Lucida Grande,Verdana,Helvetica,Arial,sans-serif";z.style.visibility="hidden";z.style.cssFloat="left";z.style.height=a+"px";z.style.fontSize=x+"px";var B=document.createElement("div");B.style.textAlign="center";B.style.color="rgb(83,100,130)";B.style.fontFamily="Arial, Verdana, Helvetica, sans-serif";B.style.fontSize=x+"px";B.style.height=a+"px";var C=document.createTextNode("LifeViewer");B.style.cursor="default";B.appendChild(C);registerEvent(A,"click",c,!1);registerEvent(A,"touchend",c,!1);var D=
document.createElement("div");D.style.display="none";D.style.position="fixed";D.style.border="1px solid rgb(128,128,128)";D.style.zIndex="101";D.style.left="2048px";D.style.top="0px";D.style.textAlign="right";D.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";D.style.margin="1px";var E=document.createElement("div");E.className=w.Fr;E.style.backgroundColor="#FFFFFF";E.style.height=a+"px";E.style.lineHeight=a+"px";E.style.margin="0px";E.style.border="0px";E.appendChild(z);
E.appendChild(A);E.appendChild(B);D.appendChild(E);D.appendChild(t);document.body.appendChild(D);p(l,t,u.wd,!0,h);y.ky=y.ld.length-1;v=y.ly();t=v[1];t.Et=C;t.Eu=A;t.Qv=z;t.Su=B;t.Zv=E;t.Wo=D}h=v[0].parentNode;""!==h.style.display&&(h.style.display="");t.D=u.wd;t.C=u.$k+80;t.resize();t.o.notification.clear(!0,!0);t.o.notification.clear(!1,!0);t.Vh(l,!0);t.Wo.style.transform="scale("+t.Oe+","+t.Oe+")";t.Wo.style.transformOrigin="top left";t.resize();l=v[2];l.Yl=!0;l.vC(l);1!==t.i.ai&&(a=a*t.i.ai|0,
x=x*t.i.ai|0,t.Eu.style.height=a+"px",t.Eu.style.fontSize=x+"px",t.Qv.style.height=a+"px",t.Qv.style.fontSize=x+"px",t.Su.style.height=a+"px",t.Su.style.fontSize=x+"px",t.Zv.style.height=a+"px",t.Zv.style.lineHeight=a+"px");t.nc.canvas.focus();t.nc.canvas.blur();return!1}function m(a,h,l){var v=!1,x=null;try{x=l.create("",a,h,!1),x.Ud&&(v=!0,w.Ca&&(y.Xd[y.Xd.length]=new e(x.name,a,x.ga+x.Yq,x.width,x.height)))}catch(t){}return v}function q(a){g(this);a.stopPropagation&&a.stopPropagation();a.preventDefault();
return!1}function r(){var a=document.getElementsByTagName("div"),h,l,v=!1,x=new Allocator,t=new PatternManager;var A=document.getElementsByTagName("meta");for(h=0;h<A.length;h+=1){var z=A[h];if(z.name===w.tagName&&(w.Rv=!1,w.Bp=!1,z=z.content,(l=z.match(/\S+/g))&&2<=l.length&&5>=l.length))for(w.Er=l[0],w.Un=l[1],z=2;z<l.length;z+=1)switch(l[z]){case "hide":w.Rv=!0;break;case "limit":w.Bp=!0;break;case "multi":w.Ca=!0;break;default:var B=l[z];!isNaN(parseFloat(B))&&isFinite(Number(B))&&(w.Ls=parseFloat(B)|
0)}}for(A=0;A<a.length;A+=1)(z=a[A],z.className===w.Er)?(h=z.getElementsByTagName(w.Un)[0],z=z.getElementsByTagName("canvas")[0],(l=h.getElementsByTagName(w.Un)[0])&&(h=l),typedArrays&&h&&(l=f(h),w.Ca&&m(l,x,t),z&&z.getContext?(-1<w.Ls&&h.clientHeight>w.Ls&&(h.style.height=w.Ls+"px"),p(l,z,h.offsetWidth,!1,h)):w.Rv&&z&&(z.style.display="none"))):typedArrays&&z.className===w.Fr&&z.parentNode.className!==w.Er&&(h=z.getElementsByTagName(w.Un)[0])&&(l=f(h),m(l,x,t)&&(z=z.getElementsByTagName("a")[0],
l=document.createElement("a"),l.setAttribute("href","#"),l.innerHTML="Show in Viewer",v=!0,registerEvent(l,"click",q,!1),z?(h=document.createTextNode(" / "),z.parentNode.appendChild(h),z.parentNode.appendChild(l)):h.parentNode.appendChild(l)));if(0<y.ld.length||v)for(a=document.getElementsByTagName("a"),A=0;A<a.length;A+=1)z=a[A],""!==z.accessKey&&-1!==u.nE.indexOf(z.accessKey)&&(z.accessKey="")}var w={tagName:"LifeViewer",Er:"rle",Un:"code",Ls:37,Rv:!0,Bp:!1,Ca:!1,Fr:"codebox",Xd:[]},u={nE:"0123456789rtyopasghjklxcbn",
Zn:64,oB:1,fB:1024,nB:1,eB:1024,mB:1,dB:100,zI:[0,0,0,0,0,1,1,1,1,1,2,2,2,2,2,3,3,3,3,3],vq:[1,10,11,17,18,2,3,4,5,7,12,13,14,15,16,0,6,8,9,19],Op:0,RB:1,SB:2,PB:3,UB:4,TB:5,VB:6,WB:7,QB:8,wB:9,UG:"Top Left;Top;Top Right;Right;Bottom Right;Bottom;Bottom Left;Left;Middle".split(";"),Ir:15,MG:5,Vi:1E8,Eq:0,Jy:1,Ky:2,Ly:3,Oy:4,Py:5,Ny:6,My:7,OB:0,Vw:1,CB:2,LB:3,DB:4,NB:5,hx:6,xm:7,HB:8,MB:9,JB:10,EB:11,IB:12,FB:13,GB:14,KB:15,Xw:3,vj:Math.sqrt(3),KE:65536,ME:500,NE:17,xA:13750737,yA:15066597,Sr:7368816,
Tr:5263440,MC:.016,oI:16,vB:16384,gA:.7,Fs:1E4,WH:"Script errors",rg:-2,qg:2,pB:2,gB:4,hA:4,eD:16.7,jB:9,aB:14,fF:13,DA:null,iB:1,ZA:16,fA:3,gg:0,ri:1,pr:2,yh:3,Ko:4,Lo:5,Mo:6,yr:7,zr:8,qr:9,vr:10,ur:11,tr:12,wr:13,xr:14,sr:15,No:16,rr:17,iv:18,Ro:19,Po:20,So:21,Uo:22,To:23,Qo:24,Jo:25,Oo:26,OG:0,PG:1,hG:2,TA:3,XA:4,VA:5,LA:6,Ma:[0,6,2,5,3,4,1],OC:"Dead Alive History Mark1 MarkOff Mark2 Kill".split(" "),oJ:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),XG:0,WG:160,ZB:10,px:100,YB:20,LF:18.5,
NC:1E3/60,dJ:!1,Jr:1800,FF:"LifeViewer",Yx:"LifeViewer Image",hD:"LifeViewer",ez:448,gD:"Chris Rowett",zs:1,us:10,Aw:0,Mn:1,oe:2,jj:3,al:0,Ln:1,bl:2,Rt:1.25,jG:.99,ys:0,$A:10,Wl:10,YA:32,Kb:.0625,zc:64,Ep:-16,Dp:-1,Wd:1,Nh:60,qm:1,ff:64,lA:"Courier",dz:"Arial",Dg:"18px Arial",Bg:"14px Arial",tt:"9px Arial",Sq:"rgb(240,255,255)",uE:"rgb(0,0,0)",dC:"rgb(240,255,255)",eC:"rgb(0,0,0)",Fz:2,As:1,vs:64,tE:.2,MA:"rgb(240,255,255)",wG:"rgb(0,0,0)",vG:18,kB:4,bB:128,uG:"Arial",zn:"rgb(32,255,255)",cp:"#000000",
ti:"rgb(255,96,96)",Qr:"rgb(128,128,128)",EG:64,DG:64,lB:480,wd:560,BG:4096,dG:80,ck:240,ws:4096,$k:480,vz:132,yD:292,py:0,PC:1,QC:2,CG:0,zG:16,wk:0,JA:1,Zx:2,lp:3,TC:4,Wz:5,Az:6,hB:7,Gz:8},y={l:new Allocator,ld:[],ky:-1,Ss:null,Xd:[],ly:function(){var a=null;-1!==this.ky&&(a=this.ld[this.ky]);return a},UF:function(a){var h=null;0<=a&&a<this.ld.length&&(h=this.ld[a][1]);return h},kJ:function(){return this.ld.length},XI:function(){var a=0,h;for(h=0;h<this.ld.length;h+=1){var l=this.ld[h][1];l.Pa&&
(a+=1)}return a},EH:function(){var a,h=0;for(a=0;a<this.ld.length;a+=1){var l=this.ld[a][1];l.mb.current=l.kd(u.Aw,!0,l);l.o.Th(!0);h+=1}return h},tI:function(){var a,h=0;for(a=0;a<this.ld.length;a+=1){var l=this.ld[a][1];l.Pa&&(l.mb.current=l.kd(u.oe,!0,l),h+=1)}return h},uI:function(a){var h,l=0;for(h=0;h<this.ld.length;h+=1){var v=this.ld[h][1];v!==a&&v.Pa&&(v.mb.current=v.kd(u.oe,!0,v),l+=1)}return l}};n.prototype.gr=function(){var a,h=this.Cf,l=this.Mg,v=[];for(a=0;10>a;a+=1){var x=a===l?"current ":
"activate ";x+="clipboard";null!==h[a]&&(x+=" ("+h[a].width+" x "+h[a].height+")");v[a]=x}this.Ho.w=v};n.prototype.PA=function(a){window.confirm("Open last saved pattern?")&&d(a.element)};n.prototype.Ad=function(){var a=1<<u.Ir,h=this.Jc>>u.Ir;h===this.Gc.length&&(this.Gc[h]=this.a.l.F(Int16,a,"View.currentEdit"+h));return this.Gc[h]};n.prototype.Tc=function(a,h,l){var v=this.a.getState(a,h,!1),x=this.Jc,t=u.Ir;var A=x>>t;var z=1<<t,B=z-1,C=this.Gc,D=(this.a.width>>1)-(this.qb>>1),E=(this.a.height>>
1)-(this.xb>>1);var H=this.a.g;var G=2<H&&!(this.a.ub||this.a.M),K=!1;0<v&&G&&(v=H-v);if(l!==v){if(!this.Je){A>=C.length&&this.Ad();H=C[A];x&=B;G=l<<8|v;if(0<x)if(4<=x){var O=H[x-1];16384<=O?H[x-3]===G&&H[x-2]===h-E&&H[x-4]===a-D-(O-16384)-2&&(H[x-1]+=1,K=!0):H[x-2]===G&&H[x-1]===h-E&&H[x-3]===a-D-1&&(H[x]=16384,x+=1,this.Jc+=1,x===z&&this.Ad(),K=!0)}else A=this.Jc,O=C[A-1>>t][A-1&B],16384<=O?H[A-3>>t][A-3&B]===G&&H[A-2>>t][A-2&B]===h-E&&H[A-4>>t][A-4&B]===a-D-(O-16384)-2&&(H[A-1>>t][A-1&B]+=1,K=
!0):C[A-2>>t][A-2&B]===G&&C[A-1>>t][A-1&B]===h-E&&C[A-3>>t][A-3&B]===a-D-1&&(H[x]=16384,x+=1,this.Jc+=1,x===z&&(H=this.Ad()),K=!0);K||(H[x]=a-D,x+=1,this.Jc+=1,x===z&&(H=this.Ad(),x=0),H[x]=l<<8|v,x+=1,this.Jc+=1,x===z&&(H=this.Ad(),x=0),H[x]=h-E,this.Jc+=1,x+1===z&&this.Ad())}return this.a.ah(a,h,l,!0)}};n.prototype.lx=function(a,h){var l=0,v=(this.a.width>>1)-(this.qb>>1),x=(this.a.height>>1)-(this.xb>>1);if(a)if(h)for(l=a.length;0<l;){var t=a[l-1];16384<=t&&--l;l-=3;h=a[l]+v;var A=a[l+1]&255;var z=
a[l+2]+x;this.a.ah(h,z,A,!0);if(16384<=t)for(t-=16384;0<=t;)h+=1,this.a.ah(h,z,A,!0),--t}else for(;l<a.length;)if(h=a[l]+v,A=a[l+1]>>8,z=a[l+2]+x,this.a.ah(h,z,A,!0),l+=3,t=a[l],16384<=t)for(l+=1,t-=16384;0<=t;)h+=1,this.a.ah(h,z,A,!0),--t};n.prototype.dy=function(a){for(var h=this.Yb-1,l=this.yb,v=!1;0<=h&&!v;)this.wf[h].Qg<=a?("advance outside"===this.wf[h].action&&--h,v=!0):--h;v&&(this.Yb=h+1,a=this.Yb>=this.tm?this.wf[this.Yb-1]:this.wf[this.Yb],a.selection?(l.j=a.selection.j,l.m=a.selection.m,
l.s=a.selection.s,l.u=a.selection.u,this.kb=!0):this.kb=!1,this.ph=!1,this.Si())};n.prototype.Si=function(){var a=this.Yb,h=this.tm,l=this.wf;if(1<a){var v="undo ";var x=l[a-1];if(null===x.$l){var t=x.Qg;1<a&&(t=l[a-2].Qg);this.a.v===t?v+=x.action:(v=1<this.a.v-t?v+"play":v+"step",v+=" from "+t)}else v=""===x.action?v+"edit":v+x.action;this.Cj.w=v}a<h&&(v="redo ",x=l[a],null===x.$l?(t=x.Qg,t===this.a.v?v+=x.action:(v=1<t-this.a.v?v+"play":v+"step",v+=" to "+t)):v=""===x.action?v+"edit":v+x.action,
this.rd.w=v)};n.prototype.cu=function(a){var h=this.kb?this.yb:null;return null===a&&null===h?!0:null===a&&null!==h||null!==a&&null===h?!1:a.j===h.j&&a.m===h.m&&a.s===h.s&&a.u===h.u?!0:!1};n.prototype.ls=function(a,h,l,v){var x=!1;if(0<this.Yb){var t=this.wf[this.Yb-1];t.Qg===a&&null===h&&""===l&&this.cu(t.selection)&&(x=!0)}x||(this.wf[this.Yb]={Qg:a,$l:h,action:l,selection:v},this.Yb+=1)};n.prototype.tb=function(a){var h=this.a.v,l=null,v=null,x=this.yb,t=null,A=u.Ir,z=1<<A,B=z-1;A=this.Jc>>A;if(!this.Je){this.Pa&&
(0<this.Yb&&(t=this.wf[this.Yb-1]),t&&t.selection&&(v=new BoundingBox(t.selection.j,t.selection.m,t.selection.s,t.selection.u)),this.ls(h,l,"",v),v=null);this.kb&&(v=new BoundingBox(x.j,x.m,x.s,x.u));if(0<this.Jc){l=this.a.l.F(Int16,this.Jc,"View.editCells"+this.Yb);for(t=x=0;x<A;)l.set(this.Gc[x].slice(),t),x+=1,t+=z;this.Jc&B&&l.set(this.Gc[x].slice(0,this.Jc&B),t);this.Jc=0}this.ls(h,l,a,v);this.tm=this.Yb;this.Si()}};n.prototype.Zy=function(a){var h=a.a.v,l=a.Yb,v=a.yb,x=1,t=!1;if(!a.Je){this.Pa&&
(a.mb.current=a.kd(u.oe,!0,a),l=a.Yb);if(0<l)for(;0<x;){var A=a.wf[l-1];var z=A.Qg;var B=A.selection;t||"advance outside"!==A.action||(t=!0,x=3);null===A.$l&&1<l&&(z=a.wf[l-2].Qg);1<l&&(B=a.wf[l-2].selection);z<h?(0===z?a.reset(a):a.gq(z),h=a.a.v):a.lx(A.$l,!0);B?(v.j=B.j,v.m=B.m,v.s=B.s,v.u=B.u,a.kb=!0):a.kb=!1;a.ph=!1;"reverse playback"===A.action&&(a.a.$c=!0);--l;a.Yb=l;--x}else 0<h&&a.reset(a);this.Si();this.a.Ah();this.a.ib&&this.a.zm()}};n.prototype.Lx=function(a){var h=a.a.v,l=a.yb,v=1,x=!1;
if(!a.Je){for(;0<v&&a.Yb<a.tm;){var t=a.wf[a.Yb];x||"advance outside"!==t.action||(x=!0,v=3);t.Qg===h&&null===t.$l&&""===t.action&&(a.Yb+=1);t.Qg>h?(a.QH(t.Qg),h=a.a.v):a.lx(t.$l,!1);t.selection?(l.j=t.selection.j,l.m=t.selection.m,l.s=t.selection.s,l.u=t.selection.u,a.kb=!0):a.kb=!1;a.ph=!1;"reverse playback"===t.action&&(a.a.$c=!0);a.Yb+=1;--v}this.Si();this.a.Ah();this.a.ib&&this.a.zm()}};n.prototype.Bs=function(a,h,l,v){var x=[],t,A=this.a.g,z=this.Qa[v];v=z[0];var B=z[1],C=z[2];z=z[3];var D=
new Pattern("rleToCellList",this.na),E=2<A&&!(this.a.ub||this.a.M);a+=" ";if(-1!==this.na.kn(D,a,!1,this.a.l)){if(-1!==this.na.kn(D,a,!0,this.a.l))for(t=0;t<D.height;t+=1){var H=D.Uf[t];for(a=0;a<D.width;a+=1){var G=H[a];E&&0<G&&(G=A-G);x[x.length]=h+a*v+t*B;x[x.length]=l+a*C+t*z;x[x.length]=G}}}else x[0]="error";return x};n.prototype.su=function(a){var h=0,l=a.indexOf("["),v=a.indexOf("]");if(-1!==l&&-1!==v&&l<v&&v===a.length-1){for(l+=1;l<v&&0<=h;){var x=a.charCodeAt(l)-48;0>x||9<x?h=-1:(h=10*h+
x,l+=1)}0<h&&(this.fi=!0)}return h};n.prototype.hu=function(a){var h=0>this.fl?-this.fl:this.fl,l=0>this.gl?-this.gl:this.gl;h=2*(h<l?l:h);a<h&&(a=h);return a};n.prototype.du=function(a){var h=0>this.el?-this.el:this.el,l=0>this.hl?-this.hl:this.hl;h=2*(h<l?l:h);a<h&&(a=h);return a};n.prototype.hE=function(a,h){var l,v=!1;for(l=0;!v&&l<this.pj.length;)a===this.pj[l].name?v=!0:l+=1;if(v)for(a=this.pj[l].hF,l=0;l<a.length;l+=1)h[h.length]=a[l];return v};n.prototype.dE=function(a,h,l){var v,x=!1;if(ScriptParser.lm(h))a[a.length]=
[Keywords.ao+" "+h,"name is reserved word"];else{for(v=0;!x&&v<this.pj.length;)h===this.pj[v].name?x=!0:v+=1;if(x)a[a.length]=[Keywords.ao+" "+h,"name already defined"];else{x=!1;for(v=0;!x&&v<l.length;)1>l[v]?x=!0:v+=1;x?a[a.length]=[Keywords.ao+" "+h+" "+l[v],"invalid delta"]:(a=l.slice(),this.pj[this.pj.length]={name:h,hF:a})}}};n.prototype.cE=function(a,h,l,v,x,t){var A,z=!1;if(ScriptParser.lm(h))a[a.length]=[Keywords.Cm+" "+h,"name is reserved word"];else if(-1!==h.indexOf("["))a[a.length]=[Keywords.Cm+
" "+h,"name can not contain ["];else{for(A=0;!z&&A<this.qj.length;)h===this.qj[A].name?z=!0:A+=1;z?a[a.length]=[Keywords.Cm+" "+h,"name already defined"]:(l=this.Bs(l,v,x,t),"error"!==l[0]?this.qj[this.qj.length]={name:h,cells:l}:a[a.length]=[Keywords.Cm+" "+h,"invalid RLE"])}};n.prototype.gE=function(a,h,l,v,x,t,A,z,B){var C=0,D=!1,E=[],H=this.Qa[B],G=H[0],K=H[1],O=H[2],J=H[3];H=u.Vi;var F=-u.Vi,I=u.Vi,M=-u.Vi,N=t.indexOf("["),R=t,da=0,W=[];-1!==N&&(R=t.substr(0,N),da=this.su(t));for(;C<this.qj.length&&
!D;)this.qj[C].name===R?(D=!0,E=this.qj[C].cells.slice()):C+=1;if(D)for(C=0;C<E.length;)t=E[C],B=E[C+1],E[C]=A+t*G+B*K,E[C+1]=z+t*O+B*J,C+=3;else E=this.Bs(t,A,z,B),"error"!==E[0]&&(D=!0);-1===da&&(D=!1);if(D&&0<E.length){for(C=0;C<E.length;)A=E[C],z=E[C+1],A<H&&(H=A),A>F&&(F=A),z<I&&(I=z),z>M&&(M=z),C+=3;A<this.fl&&(this.fl=A);A>this.gl&&(this.gl=A);z<this.el&&(this.el=z);z>this.hl&&(this.hl=z);G=Array.Y(Uint8,M-I+1,F-H+1,0,this.a.l,"View.rle"+this.Wf.length);for(C=0;C<E.length;)A=E[C],z=E[C+1],
G[z-I][A-H]=E[C+2],C+=3;W[0]=a;for(C=0;C<l.length;C+=1)W[W.length]=W[W.length-1]+l[C];this.Wf[this.Wf.length]={ui:W,end:h,every:v,mode:x,cells:E,map:G,j:H,m:I,width:F-H+1,height:M-I+1,DF:da};0<v&&(this.bk=!0);W[W.length-1]>this.Zk&&(this.Zk=W[W.length-1])}return D};n.prototype.bw=function(){var a,h,l=this.a.width,v,x=this.a.H;for(a=0;a<this.Wf.length;a+=1){var t=this.Wf[a];var A=t.DF;if(0<A){var z=t.cells;var B=(l>>1)-(t.width>>1);var C=(l>>1)-(t.height>>1);var D=0;x.j=B;x.s=B+t.width-1;x.m=C;x.u=
C+t.height-1;for(this.a.v=0;D<z.length;)this.a.ah(B+z[D]-t.j,C+z[D+1]-t.m,z[D+2],!0),D+=3;for(;0<A;)this.a.gf(!1,!0,!0,this.fc),this.a.tf(),--A;z=[];D=0;var E=v=u.Vi;for(h=x.m;h<=x.u;h+=1)for(A=x.j;A<=x.s;A+=1){var H=this.a.getState(A,h,!1);0!==H&&(z[D]=A-B+t.j,z[D+1]=h-C+t.m,z[D+2]=H,z[D]<v&&(v=z[D]),z[D+1]<E&&(E=z[D+1]),D+=3)}t.cells=z.slice();t.width=x.s-x.j+1;t.height=x.u-x.m+1;t.m=E;t.j=v;t.map=Array.Y(Uint8,t.height,t.width,0,this.a.l,"View.rle"+a);for(D=0;D<z.length;)A=z[D],h=z[D+1],t.map[h-
t.m][A-t.j]=z[D+2],D+=3;this.a.Fo(!1)}}this.fi&&this.a.Fo(!1)};n.prototype.xs=function(a){var h=!1,l=this.a.v;var v=!1;if(this.a.Aa||this.a.M)l=this.a.uf;0!==a.every&&(this.a.Aa||this.a.M)&&null!==this.a.Vc&&l<this.a.Bi&&(h=!1,v=!0);if(!v)if(0!==a.every&&l>=a.ui[0]&&0===(l-a.ui[0])%a.every)-1!==a.end&&l>a.end||(h=!0);else for(v=0;v<a.ui.length&&!h;)l===a.ui[v]?h=!0:v+=1;return h};n.prototype.oE=function(){for(var a=!1,h=0,l=this.Wf.length;h<l&&!a;)a=this.xs(this.Wf[h]),h+=1;return a};n.prototype.lj=
function(){var a,h,l=this.a.v;var v=0;var x=this.a.width,t=this.a.g-1;for(a=0;a<this.Wf.length;a+=1){var A=this.Wf[a];if(this.xs(A)){var z=A.mode;var B=(x>>1)-(this.qb>>1);var C=(x>>1)-(this.xb>>1);var D=A.map;B+=A.j;C+=A.m;for(A=0;A<D.length;A+=1){var E=D[A];if(this.a.M)for(h=0;h<E.length;h+=1){var H=E[h];var G=this.a.getState(B+h,C+A,!1);switch(z){case u.OB:v=0;break;case u.Vw:v=H&G;break;case u.CB:v=H&t-G;break;case u.LB:v=H;break;case u.DB:v=t-H&G;break;case u.NB:v=G;break;case u.hx:v=H^G;break;
case u.xm:v=H|G;break;case u.HB:v=t-(H|G);break;case u.MB:v=t-(H^G);break;case u.JB:v=t-G;break;case u.EB:v=H|t-G;break;case u.IB:v=t-H;break;case u.FB:v=t-H|G;break;case u.GB:v=t-(H&G);break;case u.KB:v=1}this.a.ah(B+h,C+A,v,!0)}else for(h=0;h<E.length;h+=1)H=E[h],v=0===H?0:1,G=this.a.getState(B+h,C+A,!1),G=0===G?0:1,v=0===(z&8>>(v+v|G))?0:1,this.a.ah(B+h,C+A,v,!0)}}}if(this.bk||l<=this.Zk)this.a.ea=1;this.BB()};n.prototype.BB=function(){var a,h=this.a.v;for(a=0;a<this.Yb;a+=1)this.wf[a].Qg===h&&
this.lx(this.wf[a].$l,!1);this.a.Ah()};n.prototype.Hs=function(a){this.im=this.Vk=this.op=this.qp=this.ak=this.pp=this.np=this.mp=this.jm=this.sp=this.rp=a};n.prototype.EE=function(){this.Hs(!1)};n.prototype.$H=function(){this.Hs(!0)};n.prototype.Tz=function(){this.Xr=[];this.Yr=[]};n.prototype.AE=function(a){var h=a.yc.toDataURL("image/png"),l;(l=document.getElementById("screenshot"))?l.src=h:(l=window.open("",u.Yx))?(l.width=a.D+20,l.height=a.C+20,l.document.open(),l.document.write('<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset="UTF-8">\n\t\t<title>'+
u.Yx+'</title>\n\t</head>\n\t<body>\n\t\t<img width="'+a.D+'" height="'+a.C+'" src="'+h+'" alt="'+u.Yx+'"/>\n\t</body>\n</html>\n'),l.document.close(),a.o.notification.K("Image Captured",300,!0)):a.o.notification.K("Could not open Image window!",u.Jr,!0)};n.prototype.ju=function(a){var h=this.a.cb,l=this.a.ca,v=this.a.Zb,x=this.a.Ob,t=a.width,A=a.height,z=this.uc,B=this.vc,C=this.a.fb,D=this.a.fb>>4,E=this.a.hb,H=null,G=t,K=A;var O=Math.round(-this.a.ha/2);var J=Math.floor((this.a.ha-1)/2);var F=
Math.round(-this.a.ma/2);var I=Math.floor((this.a.ma-1)/2);var M=z-(this.a.width>>1);var N=M+t-1;var R=B-(this.a.height>>1),da=R+A-1;A=this.a.g;var W=!0;t=2===A&&this.a.xa;-1!==this.a.ua&&(0!==this.a.ha&&(M<O||N>J)&&(W=!1),0!==this.a.ma&&(R<F||da>I)&&(W=!1),W||(this.oz=!0,0!==this.a.ha?(z=Math.round(this.a.width/2)+O,G>J-O+1&&(G=J-O+1)):z=Math.round(this.a.width/2),0!==this.a.ma?(B=Math.round(this.a.height/2)+F,K>I-F+1&&(K=I-F+1)):B=Math.round(this.a.height/2)));a.ba&&(0!==(z&1)&&(z+=1),0!==(B&1)&&
(B+=1));a.Aa&&(0===(z&1)&&--z,0===(B&1)&&--B);for(J=0;J<K;J+=1){M=a.Ud[J];N=h[J+B&E];if(this.Pc||this.a.M)for(F=a.Uf[J],H=l[J+B&E],O=0;O<G;O+=1)I=F[O],0<I&&(I+=this.I),H[O+z&C]=I;else if(2<A)for(F=a.Uf[J],H=l[J+B&E],O=0;O<G;O+=1)I=F[O],0<I&&!this.a.ub&&(I=A+this.I-I),H[O+z&C]=I;t&&(H=l[J+B&E]);for(O=0;O<G;O+=1)0!==(M[O>>4]&1<<(~O&15))&&(N[O+z>>4&D]|=1<<(~(O+z)&15),t&&(H[O+z&C]=LifeConstants.gb))}if(x)for(J=0;J<K;J+=1)for(F=a.Uf[J],h=x[J+B&E],O=0;O<G;O+=1)(I=F[O])&&(h[O+z&C]=u.Ma[I]+128);this.a.M&&
v.sb.set(l.sb)};n.prototype.Mr=function(){var a=!1;-1!==this.a.ua&&0!==this.a.ha&&0!==this.a.ma&&(a=!0);return a};n.prototype.zu=function(){var a=!1;-1===this.a.ua||0!==this.a.ha&&0!==this.a.ma||(a=!0);return a};n.prototype.It=function(a,h,l){a=a[0];h&&(l.Zc=a);return[a,100*a]};n.prototype.jz=function(a,h,l){h&&(l.Xf=a[0]);return[l.Xf,u.UG[l.Xf+.5|0]]};n.prototype.cF=function(a){a.Ia||(a.Xf=(a.Xf+.5|0)+1,a.Xf>=u.wB&&(a.Xf=0),a.ym.current=a.jz([a.Xf,a.Xf],!0,a))};n.prototype.Pt=function(a,h,l){h&&
(l.Am=a[0]);return[l.Am,l.Am]};n.prototype.Qt=function(a,h,l){h&&(l.Cg=(l.a.g-l.Mh)*a[0]|0);a[1]=l.Cg+"-"+(l.Cg+l.Mh-1);return a};n.prototype.Fj=function(a,h,l){var v=a[0],x=0;h?(l.pg=!0,l.a.zoom=u.Kb*Math.pow(u.zc/u.Kb,a[0])/l.a.tc):(v=Math.log(l.a.zoom*l.a.tc/u.Kb)/Math.log(u.zc/u.Kb),0>v?v=0:1<v&&(v=1));this.jd&&!this.Ne?x=l.a.zoom*l.a.tc:x=l.a.zoom;x<u.Kb?x=u.Kb:x>u.zc&&(x=u.zc);1>x&&(x=-1/x);return[v,x]};n.prototype.vE=function(a){var h=a/6E4|0;a=a%6E4/1E3;var l="";0<h&&(l=h+":",10>a&&(l+="0"));
return l+=a.toFixed(2)};n.prototype.Bh=function(a,h){var l=this.a.zoom,v=this.a.pa,x=this.a.ka,t=6;if(this.Sa){var A=this.a.Bh(this.bb,this.D*this.Zd,this.C*this.Zd,u.Kb,u.zc,u.Rt,this.qb,this.xb,this.Ia&&this.Pc,this.Fh,this.jd,this.tk,this.Aj,this.Bj,this.uk,this.Wh,this.bc);A[0]/=this.Zd}else A=u.dG,this.sc&&(A=0),A=this.a.Bh(this.bb,this.D,this.C-A,u.Kb,u.zc,u.Rt,this.qb,this.xb,this.Ia&&this.Pc,this.Fh,this.jd,this.tk,this.Aj,this.Bj,this.uk,this.Wh,this.bc);this.bc&&!a?(24<this.a.zoom&&(t=3),
1<this.ja&&(t=1),this.a.zoom=(this.a.zoom*(t-1)+A[0])/t,this.a.pa=(this.a.pa*(t-1)+A[1])/t,this.a.ka=(this.a.ka*(t-1)+A[2])/t,a=this.a.zoom>l?this.a.zoom/l-1:l/this.a.zoom-1,v=this.a.pa>v?this.a.pa-v:v-this.a.pa,x=this.a.ka>x?this.a.ka-x:x-this.a.ka,this.Ll=a,v>this.Ll&&(this.Ll=v),x>this.Ll&&(this.Ll=x),.01>=this.Ll&&(this.a.zoom=A[0],this.a.pa=A[1],this.a.ka=A[2])):(this.zl=this.a.width/2-this.a.pa,this.Al=this.a.height/2-this.a.ka,this.Hm=this.a.zoom,this.yl=this.a.angle,this.Tj=this.a.width/2-
A[1],this.cm=this.a.height/2-A[2],this.Nk=A[0],this.on=this.yl,this.sq=WaypointConstants.Wn,h?this.Fg=0:(this.Fg=WaypointConstants.Wn,this.$y()));this.rc&&(this.rc.current=this.Fj([this.a.zoom,this.a.zoom],!1,this));this.sd&&(this.sd.current=this.Jq([this.a.angle,this.a.angle],!1,this))};n.prototype.iu=function(a,h){-1!==this.a.ua&&this.Gi?(this.uc=(this.a.width>>1)+this.zb,this.vc=(this.a.height>>1)+this.Ab):(this.uc=Math.round((this.a.width-a)/2)+this.zb,this.vc=Math.round((this.a.height-h)/2)+
this.Ab);!this.Ia&&this.a.ib||!this.na.pn||-1===this.a.g||(this.Ia=this.Pc=!0)};n.prototype.lq=function(a){var h=a;0>a&&(a=-a);var l=a+String();1E9<=a?l="1B+":1E8<=a?l=(a/1E6|0)+"M":1E7<=a?l=(Math.floor(Number(a/1E5))/10).toFixed(1)+"M":1E6<=a?l=(Math.floor(Number(a/1E4))/100).toFixed(2)+"M":1E5<=a&&(l=(a/1E3|0)+"K");0>h&&(l="-"+l);return l};n.prototype.wo=function(a,h){var l=this.o.dk,v=this.o.ek;h=a+h;var x=-this.a.angle,t=Math.sin(x/180*Math.PI);x=Math.cos(x/180*Math.PI);0>h?h=0:1<h&&(h=1);a=u.Kb*
Math.pow(u.zc/u.Kb,a);h=u.Kb*Math.pow(u.zc/u.Kb,h);h<u.Kb?h=u.Kb:h>u.zc&&(h=u.zc);l-=this.D/2;v-=this.C/2;l=(l-h/a*l)/h;a=(v-h/a*v)/h;this.a.pa-=l*x+a*-t;this.a.ka-=l*t+a*x;h=Math.log(h/u.Kb)/Math.log(u.zc/u.Kb);this.rc.current=this.Fj([h,h],!0,this)};n.prototype.Tu=function(a,h){var l=u.ff;a.a.xa&&(l=4*a.a.Ib.Rc+1,-1!==a.a.ua&&(l+=2*a.a.Ib.Rc),a.a.Ib.type===this.na.$f&&(l=-1!==a.a.ua?l+a.a.ma/2:l+(a.a.H.u-a.a.H.m+1)/2),l<u.ff&&(l=u.ff));for(;a.a.CE(h,l);)a.je+=a.a.width>>2,a.si+=a.a.height>>2,a.re+=
a.a.width>>2,a.Ji+=a.a.height>>2,a.a.V&&(a.je-=a.a.height>>3,a.re-=a.a.height>>3),a.uc+=a.a.width>>2,a.vc+=a.a.height>>2,h.j+=a.a.width>>2,h.s+=a.a.width>>2,h.m+=a.a.height>>2,h.u+=a.a.height>>2};n.prototype.Sz=function(a){var h=!1,l=a.yb,v=a.pm,x=(a.a.width>>1)-(a.qb>>1)+(a.zb<<1),t=(a.a.height>>1)-(a.xb>>1)+(a.Ab<<1);v.j=l.j+x;v.m=l.m+t;v.s=l.s+x;v.u=l.u+t;a.Tu(a,v);x=(a.a.width>>1)-(a.qb>>1);t=(a.a.height>>1)-(a.xb>>1);0>l.j+x&&(l.j=-x,h=!0);l.j+x>=a.a.width&&(l.j=a.a.width-1-x,h=!0);0>l.s+x&&
(l.s=-x,h=!0);l.s+x>=a.a.width&&(l.s=a.a.width-1-x,h=!0);0>l.m+t&&(l.m=-t,h=!0);l.m+t>=a.a.height&&(l.m=a.a.height-1-t,h=!0);0>l.u+t&&(l.u=-t,h=!0);l.u+t>=a.a.height&&(l.u=a.a.height-1-t,h=!0);return h};n.prototype.LI=function(a){a.zg.current=a.wj/a.Lm*100;a.zg.f=!1;a.He.ie=0};n.prototype.MI=function(a,h){a.zg.current=a.a.v/h*100;a.zg.f=!1;a.He.ie=0};n.prototype.KI=function(a){var h=!1,l=!1,v=0;a.Ub||-1===a.Fa||(h=!0);!a.ue&&a.Fc&&(l=!0);if(h||l){var x=!1;if(l&&h)v=a.elapsedTime/a.N.BF(a.Fa);else if(l){if(h=
a.N.xG().hd)v=a.elapsedTime/h,1<v&&(x=!0)}else 0<a.Fa&&(v=a.a.v/a.Fa);1<v&&(v=1);a.zg.current=100*v}else x=!0;(a.zg.f=x)?a.He.ie=a.i.ie:a.He.ie=0};n.prototype.wF=function(){this.nk.OE(this.a.width/2-this.a.Nd,this.a.height/2-this.a.Od,this.a.Ba,this.a.Ra,this.a.D,this.a.C,this.a.Fe,this.a.Rh[0])};n.prototype.mC=function(){var a=this.i.Ug-this.D/2,h=this.i.kj-this.C/2,l=this.vc-this.a.ka,v=this.uc-this.a.pa-(this.a.V?this.a.ka/2:0),x=this.a.zoom;var t=this.a.zoom*(this.a.ba&&4<=x?u.vj:1);var A=-1;
-1!==this.i.Ug&&(0!==this.a.Ra&&(A=Math.sqrt(a*a+h*h),h=180/Math.PI*Math.atan2(h,a),h-=this.a.Ra,a=A*Math.cos(Math.PI/180*h),h=A*Math.sin(Math.PI/180*h)),t=h/t-l+this.a.wb,a=a/x+(this.a.V?l/2+t/2:0)-v+this.a.Db,this.a.ba&&(a-=this.a.zoom/32*.2),v=a-Math.floor(a),l=t-Math.floor(t),a-=v,t-=l,this.a.ba&&(0===(a+this.uc+t+this.vc&1)?1<v+l&&(a+=1):1>1-v+l&&(a+=1)),A=this.a.getState(a+this.uc,t+this.vc,this.Pc&&this.Ia));return A};n.prototype.Gt=function(a,h){var l=a-this.D/2,v=h-this.C/2;h=this.vc-this.a.ka;
var x=this.uc-this.a.pa-(this.a.V?this.a.ka/2:0),t=0,A=0,z=0,B=0,C=this.a.zoom,D=this.a.zoom*(this.a.ba&&4<=C?u.vj:1);-1!==a&&(0!==this.a.Ra&&(a=Math.sqrt(l*l+v*v),v=180/Math.PI*Math.atan2(v,l),v-=this.a.Ra,l=a*Math.cos(Math.PI/180*v),v=a*Math.sin(Math.PI/180*v)),t=v/D-h+this.a.wb,A=l/C+(this.a.V?h/2+t/2:0)-x+this.a.Db,this.a.ba&&(A-=this.a.zoom/32*.2),B=A-Math.floor(A),z=t-Math.floor(t),A-=B,t-=z);this.a.ba&&(0===(A+this.uc+t+this.vc&1)?1<B+z&&(A+=1):1>1-B+z&&(A+=1));this.Yi=A+this.uc;this.Zi=t+
this.vc};n.prototype.ou=function(a,h,l,v,x){var t=Math.abs(l-a),A=Math.abs(v-h),z=a<l?1:-1,B=h<v?1:-1,C=t-A,D=this.a.width,E=this.a.height,H;for(H=0|this.Tc(a,h,x);D!==this.a.width;)D<<=1,E<<=1,a+=D>>2,h+=D>>2,l+=D>>2,v+=D>>2,this.je+=D>>2,this.si+=E>>2,this.re+=D>>2,this.Ji+=E>>2,this.a.V&&(this.je-=E>>3,this.re-=E>>3),this.uc+=D>>2,this.vc+=E>>2;for(;a!==l||h!==v;){var G=C+C;G>-A&&(C-=A,a+=z);G<t&&(C+=t,h+=B);for(H|=this.Tc(a,h,x);D!==this.a.width;)D<<=1,E<<=1,a+=D>>2,h+=D>>2,l+=D>>2,v+=D>>2,this.je+=
D>>2,this.si+=E>>2,this.re+=D>>2,this.Ji+=E>>2,this.a.V&&(this.je-=E>>3,this.re-=E>>3),this.uc+=D>>2,this.vc+=E>>2}return H};n.prototype.cI=function(){var a=170,h=this.og.Mx,l=this.og.pl,v=this.kp.pl;this.og.setPosition(Menu.da,l,a);this.kp.setPosition(Menu.da,v,a);a+=h;this.Kj.setPosition(Menu.da,l,a);this.gp.setPosition(Menu.da,v,a);a+=h;"Oscillator"!==this.lb||this.zf||(this.Ij.setPosition(Menu.da,l,a),this.fp.setPosition(Menu.da,v,a),a+=h);this.Jj.setPosition(Menu.da,l,a);this.cs.setPosition(Menu.da,
v,a);a+=h;"Spaceship"===this.lb&&(this.Lj.setPosition(Menu.da,l,a),this.ds.setPosition(Menu.da,v,a),a+=h);"Still Life"!==this.lb&&(this.Ym.setPosition(Menu.da,l,a),this.gs.setPosition(Menu.da,v,a),a+=h,this.zf||(this.Xm.setPosition(Menu.da,l,a),this.fs.setPosition(Menu.da,v,a),a+=h));"Spaceship"===this.lb&&(this.Zm.setPosition(Menu.da,l,a),this.hs.setPosition(Menu.da,v,a),a+=h,this.$m.setPosition(Menu.da,l,a),this.ip.setPosition(Menu.da,v,a),a+=h);"Still Life"!==this.lb&&(this.Ak.setPosition(Menu.da,
l,a),this.hp.setPosition(Menu.da,v,a),a+=h);"Oscillator"!==this.lb||this.zf||(this.an.setPosition(Menu.da,l,a),this.jp.setPosition(Menu.da,v,a),a+=h,this.Wm.setPosition(Menu.da,l,a),this.Xv.setPosition(Menu.da,v,a))};n.prototype.NI=function(a){var h=0;this.xe[this.he]=a;this.he+=1;this.he>=u.MG&&(this.he=0);for(a=0;a<this.xe.length;a+=1)h+=this.xe[a];h/=this.xe.length;this.we.Ha=String(Math.round(h));this.we.f=!1};n.prototype.Vu=function(){var a;for(a=0;a<this.xe.length;a+=1)this.xe[a]=0;this.he=
0;this.we.f=!0};n.prototype.lI=function(){var a=this.i.Ug-this.D/2,h=this.i.kj-this.C/2,l=this.vc-this.a.ka,v=this.uc-this.a.pa-(this.a.V?this.a.ka/2:0),x=this.a.zoom,t=this.a.zoom*(this.a.ba&&4<=x?u.vj:1);var A=9999<this.a.$?99999:9999;if(-1===this.i.Ug)this.la.Ha="",this.la.f=!this.Eg;else{if(0!==this.a.Ra){var z=Math.sqrt(a*a+h*h);h=180/Math.PI*Math.atan2(h,a);h-=this.a.Ra;a=z*Math.cos(Math.PI/180*h);h=z*Math.sin(Math.PI/180*h)}t=h/t-l+this.a.wb;a=a/x+(this.a.V?l/2+t/2:0)-v+this.a.Db;this.a.ba&&
(a-=this.a.zoom/32*.2);v=a-Math.floor(a);l=t-Math.floor(t);a-=v;t-=l;this.a.ba&&(0===(a+this.uc+t+this.vc&1)?1<v+l&&(a+=1):1>1-v+l&&(a+=1));l=this.a.getState(a+this.uc,t+this.vc,this.Pc&&this.Ia);a+=this.zb;t+=this.Ab;-1===this.a.ua||this.Gi||(a-=Math.floor((-1===this.uj?this.qb:this.uj)/2),t-=Math.floor((-1===this.tj?this.xb:this.tj)/2));a=a<-A||a>A?Number(a/1E3).toFixed(1)+"K":String(a);A=t<-A||t>A?Number(t/1E3).toFixed(1)+"K":String(t);this.la.Ha=a+","+A+"="+l;this.la.f=!1}this.la.enabled=this.Eg||
!this.Pa&&-1!==this.i.Ug?this.aa||this.Nb||0===this.qb?!1:!0:!1;this.kb||this.cj?(this.jc.enabled=!0,a=this.yb.s>this.yb.j?this.yb.s-this.yb.j+1:this.yb.j-this.yb.s+1,t=this.yb.u>this.yb.m?this.yb.u-this.yb.m+1:this.yb.m-this.yb.u+1,this.jc.Ha=a+" x "+t):this.jc.enabled=!1};n.prototype.nH=function(a){if(!this.sc&&!this.Sa)if(0<this.aa)0<a?this.rt(this,a/125*3):this.qt(this,-a/125*3);else if(0<this.Nb)0<a?this.pt(this,a/125*3):this.ot(this,-a/125*3);else if(!this.td){var h=this.rc.current[0];this.wo(h,
a/125*.05)}};n.prototype.FI=function(a){var h=a.a.v,l=" ";if(a.a.Aa||a.a.M)h=a.a.uf;a.Wj?(0>h&&(l=""),a.He.lower[0]="+"+l+a.lq(h),a.He.w=["toggle generation statistics\ngeneration +"+h]):(0>h+a.Ch&&(l=""),a.He.lower[0]="T"+l+a.lq(h+a.Ch),a.He.w=["toggle generation statistics\ngeneration "+(h+a.Ch)]);a.a.Aa?(a.yf.Ha=a.a.v,a.yf.w="absolute generation "+a.a.v):a.Wj?(1E9<=h?a.yf.Ha="1B+":a.yf.Ha=h,a.yf.Ha=h,a.yf.w="generation "+h):(h+=a.Ch,1E9<=h?a.yf.Ha="1B+":a.yf.Ha=h,a.yf.w="absolute generation "+
h);a.em.w=a.yf.w};n.prototype.WI=function(a,h){var l=h.N.current;var v=!1,x=!1,t=!1,A=!1,z=!1,B,C=h.a.H,D=new BoundingBox(C.j,C.m,C.s,C.u),E=!1;h.td=!1;h.dw&&(h.dw=!1,a=0);h.Ia||h.KI(h);h.ja=h.Uc.current[0];h.Pa?(a>u.LF&&(x=!0),a>u.NC&&(a=u.NC),!h.Pa||h.Fc&&!h.ue||(h.Qh+=h.ja*h.vd*a/1E3,h.bb+=h.vd*a/1E3,(h.bb|0)>h.a.v?(h.bb+=h.ja-1,h.Ph=!0):h.elapsedTime+=a)):h.Ph&&(z=!0,h.bb=h.iy?h.a.v+1:h.a.v+h.ja,h.Qh=h.bb);h.az();h.Fc&&!h.ue&&h.Pa?(h.pg&&!h.N.Hz(h.elapsedTime+a)&&(h.pg=!1,h.elapsedTime=h.N.bF(h.a.width/
2-h.a.pa,h.a.height/2-h.a.ka,h.a.zoom,h.a.angle,h.a.L,h.a.Sd*u.Wl,h.a.sf,h.vd,h.ja,h.a.v,h.elapsedTime)),l.af&&(h.Bh(!0,!1),h.pg=!1,l.x=h.a.width/2-h.a.pa,l.y=h.a.height/2-h.a.ka,h.Sa&&(h.a.zoom*=h.Zd),l.zoom=h.a.zoom),(t=h.N.update(h,h.elapsedTime+a,h.a.v))?(l.af&&(l.af=!1,h.Sa&&(h.a.zoom=l.zoom/h.Zd),h.rc&&(h.rc.current=h.Fj([h.a.zoom,h.a.zoom],!1,h))),h.bb+=h.vd*a/1E3,(h.bb|0)>h.a.v&&(h.bb+=h.ja-1,h.Ph=!0)):(h.Pa&&(h.td=!0),h.a.pa=h.a.width/2-l.x,h.a.ka=h.a.height/2-l.y,h.a.zoom=l.zoom,h.Sa&&(h.a.zoom=
h.a.zoom/h.Zd),h.rc&&(h.rc.current=h.Fj([h.a.zoom,h.a.zoom],!1,h)),h.a.angle=l.angle,h.sd&&(h.sd.current=[h.a.angle,h.a.angle]),h.a.L=l.L,h.Fd&&(h.Fd.current=[h.a.L,h.a.L]),h.a.Sd=l.depth/u.Wl+u.ys,h.Kc&&(h.Kc.current=[Math.sqrt(h.a.Sd),h.a.Sd*u.Wl]),h.vd=l.ec,h.Cb&&(h.Cb.current=[Math.sqrt((l.ec-u.Wd)/(u.Nh-u.Wd)),h.pA(l.ec)]),h.ja=l.step,h.Uc.current=[h.ja,h.ja],l.Sb>h.a.v?(h.Ph=!0,h.bb=l.Sb):h.Ph=!1,l.nf!==h.Ap&&(""===l.nf?h.o.notification.clear(!1,!1):h.o.notification.K(ScriptParser.no(this,l.nf),
21600,!1),h.Ap=l.nf),l.hc!==h.qw&&(h.sl(l.hc,h.a.Hk,h),h.qw=l.hc)),h.Ph||(h.elapsedTime+=a)):h.bc&&h.Pa&&(h.td=!0);h.td&&(h.Fg=-1);l=0;if(h.Ph){if(h.a.ea){var H=performance.now();var G=(h.bb|0)-h.a.v;for(B=0;!A&&h.a.v<(h.bb|0);){l=performance.now()-H;if(h.a.v===h.Eb-1&&!h.te||l>u.eD&&!z)h.a.v!==h.Eb-1||h.te?A=h.Gk:A=!0;h.a.$c&&h.tb("reverse playback");D.set(C);h.Eg&&(h.a.v===(h.bb|0)-1||A)?h.a.gf(!0,h.Je,h.xc,h.fc):h.a.gf(!1,h.Je,h.xc,h.fc);B+=1;if(h.a.qk||h.oE()||h.a.v===(h.bb|0)||A||h.fc)if(!(0===
h.a.ea&&2<h.a.g)||h.fc){h.a.tf();h.lj();if(h.bk||h.a.v<=h.Zk)h.a.ea=1;if(h.fc){var K=h.a.QG(this.es);0<K.length&&(K[0]===LifeConstants.Nz?(K[0]="Nothing Identified",h.pw="none",h.lb="",h.xp="",h.Jn="",h.wp="",h.ns="",h.Fn="",h.yp="",h.In="",h.Gn="",h.zp="",h.Hn="",h.ms="",h.os=""):(h.pw=K[0],h.lb=K[1],h.xp=K[2],h.Jn=K[3],h.wp=K[4],h.ns=K[5],h.Fn=K[6],h.yp=K[7],h.In=K[8],h.Gn=K[9],h.zp=K[10],h.Hn=K[11],h.ms=K[12],h.os=K[13],h.kp.Ha=h.lb,h.gp.Ha=h.Fn,h.gp.w=-1===h.Fn.indexOf("|")?"":"min | max | average",
h.cs.Ha=h.wp,h.ds.Ha=h.xp,h.gs.Ha=h.In,h.hs.Ha=h.yp,h.ip.Ha=h.Jn,h.ip.w=-1===h.Jn.indexOf("|")?"":"simplified | unsimplified",h.hp.Ha=h.Gn,h.hp.w=-1===h.Gn.indexOf("|")?"":"min | max | average",h.Xv.Ha=h.zp,h.fs.Ha=h.Hn,h.fp.Ha=h.ms,h.fp.w="rotor | stator | total",h.jp.Ha=h.os,h.jp.w="active | rotor",h.mt=!0,h.zf=h.es,h.cI()),h.Wv(h),"Empty"===h.lb?h.o.notification.K(K[0],120,!1):(h.o.notification.K(K[0],216E3,!1),h.Bh(!0,!1)),h.a.js(h.fc),h.es=!1,E=A=!0)}}0===h.a.ea&&C.set(D);h.TH(a,G);-1!==h.Fa&&
h.a.v>=h.Fa&&!h.Ub&&!E&&(h.elapsedTime=0,h.reset(h),h.ze&&h.Mf&&(h.mb.current=h.kd(u.oe,!0,h),h.o.notification.K("LOOP reached - Play to continue ",180,!0)),t&&(h.td=!0));h.a.ea||(A=!0)}h.a.ea||(h.Fv=h.I+(0<h.a.g?h.a.g:0),-1===h.bj&&(h.bj=h.a.v,h.a.M?h.a.Fo(!1):h.a.Fo(!0),!h.un||-1!==h.Fa&&!h.Ub||h.bm||h.o.notification.K("Life ended at generation "+h.bj,600,!0)));h.bb-=G-B;0>h.bb&&(h.bb=0,h.Qh=0);B<G&&(h.a.v!==h.Eb||h.te)&&h.Fi?h.NI(B):h.Vu()}else h.Vu(),h.Fv&&(--h.Fv,a=h.a.v,h.a.v=h.bj,h.a.tf(),
h.a.v=a),h.a.v+=h.ja,-1!==h.Fa&&h.a.v>=h.Fa&&!h.Ub&&(h.elapsedTime=0,h.reset(h),t&&(h.td=!0));h.a.v!==h.Eb||h.te||(h.mb.current=h.kd(u.oe,!0,h),h.un&&h.o.notification.K("STOP reached - Play to continue ",180,!0))}else h.Vu();h.Ph&&!h.Pa&&h.tb("");h.sd.locked=h.td&&h.Fc||h.a.V||h.a.ba;h.mi.locked=h.td&&h.Fc;h.Uj.locked=h.td||h.bc&&h.Pa;h.Cb.locked=h.td&&h.Fc;h.Uc.locked=h.td&&h.Fc;h.xj.locked=h.td&&h.Fc;h.rc.locked=h.td;h.Fd.locked=h.td&&h.Fc||h.a.V&&h.a.$d||h.a.ba;h.Kc.locked=h.td&&h.Fc||h.a.V&&h.a.$d||
h.a.ba;h.wheelDelta&&(h.nH(h.wheelDelta),h.wheelDelta=0);h.bc&&(h.Pa||h.Fc)&&h.Bh(!1,!1);h.a.vH();h.Li&&h.wF();h.a.Gr();h.a.$d&&h.a.V&&4<=h.a.zoom?h.a.uF():h.a.ba&&4<=h.a.zoom&&h.a.yF();h.jq&&(2===h.jq&&h.a.Hr(h.yg,1,!0,h.Sa,h),h.AE(h),2===h.jq&&h.a.Gr(),h.jq=0);h.a.vF(h);h.a.v&&h.a.ea&&(h.pm.j=h.a.H.j,h.pm.m=h.a.H.m,h.pm.s=h.a.H.s,h.pm.u=h.a.H.u,h.Tu(h,h.pm));h.Uh&&h.N.uv(h);!h.Bc||h.Qd||h.Ef||h.a.Hr(h.yg,h.Zc,!1,h.Sa,h);h.aa?Help.xv(h):h.Sc.length&&Help.wv(h);h.FI(h);h.am.Ha=h.vE(h.elapsedTime);
h.kl.Ha=h.lq(h.a.sa);h.Mr()?h.Xi.Ha=(100*h.a.sa/(h.a.ma*h.a.ha)|0)+"%":(h.Xi.Ha=h.lq(h.a.lc),h.Jk.Ha=h.lq(h.a.ed));h.kl.w="alive "+h.a.sa;h.Mr()?h.Xi.w="density "+(100*h.a.sa/(h.a.ma*h.a.ha)|0)+"%":(h.Xi.w="births "+h.a.lc,h.Jk.w="deaths "+h.a.ed);h.Fi?h.EI(l,x,z,h):(h.Cb.Ic=h.Uj.Ic,h.Uc.Ic=h.Uj.Ic);h.Ph=!1;h.iy=!1;h.lI();-1!==h.Fg&&h.$y();if(h.Pa||h.bc&&h.Ll>h.xE||-1!==h.Fg)v=!0;h.GI();h.OI();h.HI();h.QI(h.aa||h.Sc.length);!h.Ac.current[0]||h.dj&&h.Pa||(h.nc.globalAlpha=.5,h.nc.fillStyle="black",
h.nc.fillRect(0,0,h.yc.width,h.yc.height),h.nc.globalAlpha=1);h.o.Th(v)};n.prototype.EI=function(a,h,l,v){a>u.eD&&!l?(v.Di+=u.YB,v.Di>=2*u.px&&(v.Di=0)):0<v.Di&&(v.Di-=u.YB);h&&!l?v.Ei<u.WG&&(v.Ei+=u.ZB):v.Ei>u.XG&&(v.Ei-=u.ZB);v.Di>=u.px&&(v.mJ=2*u.px-v.Di);a=v.Vm>>16;h=v.Vm>>8&255;l=v.Vm&255;128<=a?64<=h||64<=l?(h-=v.Ei,l-=v.Ei,0>h&&(h=0),0>l&&(l=0)):(h+=v.Ei,255<h&&(h=255)):(a+=v.Ei,255<a&&(a=255));v.Cb.Ic="rgb("+a+","+h+","+l+")";a=v.Vm>>16;h=v.Vm>>8&255;l=v.Vm&255;128<=h?(a-=v.Ei,0>a&&(a=0),
l-=v.Di,0>l&&(l=0)):(h+=v.Di,255<h&&(h=255));v.Uc.Ic="rgb("+a+","+h+","+l+")"};n.prototype.az=function(){if(this.jd&&!this.Ne){this.a.Db=this.Qh*(this.Aj+this.uk)/2;this.a.wb=this.Qh*(this.tk+this.Bj)/2;var a=this.a.xD(0,this.tk,this.Aj,this.Bj,this.uk,this.D,this.C-80,u.Kb,u.zc,u.Rt);var h=this.a.xD(this.Qh,this.tk,this.Aj,this.Bj,this.uk,this.D,this.C-80,u.Kb,u.zc,u.Rt);this.a.tc=h/a}else this.a.Db=0,this.a.wb=0,this.a.tc=1;this.rc.current=this.Fj([this.a.zoom,this.a.zoom],!1,this)};n.prototype.QI=
function(a){var h=!(this.aa&&this.Rk===u.wk),l,v=0,x=[],t=[],A=this.Ac.current[0];var z=a||!this.sj;for(l=0;l<=this.a.pe;l+=1)this.A[l].f=z;this.ft.f=z;this.Ns.f=z;this.nt.f=z;this.Ws.f=z;for(l=0;l<u.vq.length;l+=1)u.vq[l]===this.a.pe&&(this.A[l].locked=!this.Og);z=a||!this.mt||"Empty"===this.lb||"none"===this.lb;this.og.f=z;this.Kj.f=z;this.Jj.f=z;this.Lj.f=z||"Spaceship"!==this.lb;this.Ym.f=z||"Still Life"===this.lb;this.Xm.f=z||"Still Life"===this.lb||this.zf;this.Ij.f=z||"Oscillator"!==this.lb||
this.zf;this.Zm.f=z||"Spaceship"!==this.lb;this.$m.f=z||"Spaceship"!==this.lb;this.Ak.f=z||"Still Life"===this.lb;this.an.f=z||"Oscillator"!==this.lb||this.zf;this.Wm.f=z||"Oscillator"!==this.lb||this.zf;this.kp.f=z;this.gp.f=z;this.cs.f=z;this.ds.f=z||"Spaceship"!==this.lb;this.gs.f=z||"Still Life"===this.lb;this.fs.f=z||"Still Life"===this.lb||this.zf;this.fp.f=z||"Oscillator"!==this.lb||this.zf;this.hs.f=z||"Spaceship"!==this.lb;this.ip.f=z||"Spaceship"!==this.lb;this.hp.f=z||"Still Life"===this.lb;
this.jp.f=z||"Oscillator"!==this.lb||this.zf;this.Xv.f=z||"Oscillator"!==this.lb||this.zf;this.rd.locked=this.Yb===this.tm;this.Cj.locked=1>=this.Yb||"undo "===this.Cj.w;this.mi.f=a;this.rc.f=a;this.Uj.f=a;this.Eh.f=a;this.Nl.f=a;this.Cl.f=a;this.Hg.f=a;this.Yk.f=a;this.Gd.f=a;z=(this.jn.f=a)||!this.Bc||this.Qd||this.Ef||A;this.Qn.f=z;this.Hj.f=z;this.Kn.f=z;z=a||this.Bc||this.Ef||A;(this.a.Aa||this.a.M)&&null!==this.a.Vc&&(this.qf.f=z);this.em.f=a;this.yf.f=a;this.ye.f=a;this.am.f=a;this.ee.f=a;
z=(this.kl.f=a)||this.zu();this.wa.f=z;z=(this.Xi.f=z)||this.Mr();this.be.f=z;this.Jk.f=z;this.ic.f=a;this.Uj.f=a;this.Ig.f=a||!this.sk;this.T.f=!(this.Rd||this.Sc.length);this.nb.Ha=this.jk||this.kk||this.lk||this.mk||this.sj?"Back":"Close";z=(this.nb.f=a)||this.sj;this.Kc.f=z;this.sd.f=z;this.Fd.f=z;z=a||this.sj||this.jk||this.kk||this.mk||this.lk;this.fh.f=z;this.xj.f=z;this.Wg.f=z;this.rf.f=z;this.hi.f=z;this.Pk.f=z;z=a||!this.lk;this.tn.f=z;this.wn.f=z;this.nn.f=z;this.gn.f=z;this.bq.f=z;this.Bn.f=
z;z=a||!this.kk;this.sn.f=z;this.yq.f=z;this.Cn.f=z;this.bo.f=z;this.bo.locked=!this.Vj;z=a||!this.jk;this.Tk.f=z;this.Co.f=z;this.fj.f=z;this.ko.f=z;this.Wk.f=z;this.fe.f=z;this.dn.f=z;this.Kl.f=z;z=a||!this.mk;this.An.f=z;this.Fl.f=z;this.ul.f=z;this.de.f=z;this.Te.f=z;z=this.a.ub||!this.va;this.bq.locked=z;this.Bn.locked=z;this.ki.f=a||!(this.jk||this.kk||this.mk||this.lk);this.ki.Ha=this.jk?"Display":this.kk?"Advanced":this.mk?"Playback":this.lk?"Pattern":"";this.de.locked=-1!==this.a.Hd||this.a.Ks||
this.a.xa&&!(1===this.a.Ib.Rc&&this.a.Ib.type===this.na.Af&&2===this.a.Ib.Dm)||this.a.ba||this.a.Ie;this.xj.locked=this.Pc||this.a.ub;this.fj.locked=this.a.V&&this.a.$d||this.a.ba;this.Tk.locked=!this.a.V;z=a||0===this.N.Vb.length||A;this.Xg.f=z;this.gh.f=z;z=a||!this.Mc||this.Qd||this.Ef||this.Bc;this.wg.f=z;this.pd.f=z;this.xg.f=z;this.qd.f=z;this.tg.f=z;this.Hc.f=z;this.bn.f=z;this.bi.f=z;this.di.f=z;this.ei.f=z;this.ci.f=z;this.dd.f=z;this.nd.f=z;this.od.f=z;this.md.f=z;this.Sc.length?(this.T.w=
"close errors",this.T.Ha="Esc",this.T.La("16px Arial"),this.T.Ic=this.mi.Ic):(this.T.w="close window",this.T.Ha="X",this.T.La("24px Arial"),this.T.Ic="red");this.Ri.f=!(this.aa&&this.Rk!==u.wk);this.Z.f=!(this.aa&&this.Rk!==u.wk)||!this.mq;this.kg.f=h;this.lg.f=h;this.jg.f=h;this.mg.f=h;this.ig.f=h;this.Qf.f=h;this.ce.f=h;this.hg.f=h||0===this.N.Nn();this.ii.f=!(this.aa&&this.Rk!==u.wk)||this.mq;if(this.up){this.up=!1;for(l=0;l<this.W.length;l+=1)x[l]=this.W[l][1],t[l]="";this.Z.lower=x;this.Z.w=
t;this.Z.ZH(26*this.W.length);this.Z.current=0}z=a||!this.Ef||A;this.oh.f=z;this.Ml.f=z;this.om.f=z;this.Ho.f=z;this.ym.f=z;this.wm.f=z;this.Se.f=z;this.We.f=z;this.dh.f=z;z=a||!this.Ef||A;this.Nf.f=z;this.Pf.f=z;this.mh.f=z;this.kh.f=z;this.Fb.f=z;this.Ve.f=z;this.Ue.f=z;this.Jd.f=z||!this.a.ib;this.fa.f=z;this.Mb.f=z;z=a||!this.Ef||A||2>=this.a.g;this.ge.f=z;z=this.Ia;this.ym.locked=z;this.wm.locked=z;z=!this.kb;this.Se.locked=z;z=!(this.kb||this.Nc)||this.Ia;this.fa.locked=z;this.ge.locked=z;this.Mb.locked=
z;this.Nf.locked=z;this.Pf.locked=z;this.mh.locked=z;this.kh.locked=z;this.Fb.locked=z;this.Ve.locked=z;this.Ue.locked=z;this.Jd.locked=z;z=!this.kb||this.Ia;this.We.locked=z;z=!this.Do||this.Nc||null===this.Cf[this.Mg]||this.Ia;this.dh.locked=z;z=a||!this.Qd||!this.nq||A;this.fd.f=z;this.h.f=z;if(2>=this.a.g)for(l=0;l<this.h.lower.length;l+=1)2>=l?0===l?v=l:v=1===l?LifeConstants.gb:LifeConstants.Rj:v=128+u.Ma[l],this.h.Bo[l]="rgb("+this.a.Ya[v]+","+this.a.Wa[v]+","+this.a.Va[v]+")";else for(l=0;l<
this.h.lower.length;l+=1)v=0===l+this.Cg?0:this.a.M?l+this.Cg+this.I:this.I+this.a.g-(l+this.Cg),this.h.Bo[l]="rgb("+this.a.Ya[v]+","+this.a.Wa[v]+","+this.a.Va[v]+")";z=a||!this.Qd||A;this.Vg.f=z;this.gi.f=z;this.io.f=z;this.Jg.f=z;this.ji.f=a||!this.Qd||!this.nq||this.a.g<=this.Mh||A;this.a.g>this.Mh&&this.Nt();if(0<this.aa){l=0;for(v=-1;l<this.W.length&&-1===v;)this.W[l][0]>this.aa?v=this.W[l][0]:l+=1;l===this.W.length&&(v=l);-1!==v&&(this.Z.current=l-1)}this.dj&&(this.i.f=this.Pa?!0:!1)};n.prototype.HI=
function(){var a=-(this.a.width/2-this.a.pa-this.a.Db|0),h=-(this.a.height/2-this.a.ka-this.a.wb|0),l=String(a),v=String(h);this.wg.f=!this.Mc;this.pd.f=!this.Mc;this.xg.f=!this.Mc;this.qd.f=!this.Mc;this.tg.f=!this.Mc;this.Hc.f=!this.Mc;this.bn.f=!this.Mc;this.bi.f=!this.Mc;this.di.f=!this.Mc;this.ei.f=!this.Mc;this.ci.f=!this.Mc;this.dd.f=!this.Mc;this.nd.f=!this.Mc;this.md.f=!this.Mc;this.od.f=!this.Mc;if(-99999>a||99999<a)l=(a/1E3|0)+"K";if(-99999>h||99999<h)v=(h/1E3|0)+"K";this.pd.Ha=l;this.qd.Ha=
v;this.Hc.Ha=this.a.angle.toFixed(0)+"\u00b0";this.dd.Ha=this.ir.toFixed(3);this.nd.Ha=this.kr.toFixed(3);this.od.Ha=this.lr.toFixed(3);this.md.Ha=this.jr.toFixed(3)};n.prototype.OI=function(){0===this.a.v?this.lr=this.ir=this.kr=this.jr=0:(this.kr=(this.a.H.u-this.a.df.u)/this.a.v,this.jr=(this.a.H.m-this.a.df.m)/this.a.v,this.ir=(this.a.H.s-this.a.df.s)/this.a.v,this.lr=(this.a.H.j-this.a.df.j)/this.a.v)};n.prototype.GI=function(){this.mi.current=[this.bc];this.Nl.current=[!this.Mf&&this.ze];this.Nl.locked=
!this.ze;this.jd?(this.Hg.lower[0]="TRACK",this.Hg.current=[!this.Ne&&this.jd],this.Hg.locked=!this.jd,this.Hg.w=["toggle track mode"]):(this.Hg.lower[0]="WAYPT",this.Hg.current=[!this.ue&&this.Fc],this.Hg.locked=!this.Fc,this.Hg.w=["toggle waypoint mode"]);this.Yk.current=[!this.Ub&&-1!==this.Fa];this.Yk.locked=-1===this.Fa;this.Yk.w=["loop at "+this.Fa];this.Cl.current=[!this.te&&-1!==this.Eb];this.Cl.locked=-1===this.Eb;this.Cl.w=["stop at "+this.Eb]};n.prototype.TH=function(a,h){if(this.a.v>=
this.pb.length){var l=this.a.l.F(Float32,this.pb.length+u.vB,"View.elapsedTimes");l.set(this.pb);this.pb=l}this.elapsedTime+=a/h;this.pb[this.a.v]=this.elapsedTime};n.prototype.UI=function(a){var h=a.wI,l=a.Lm-a.wj;if(a.wj<a.Lm)if(0<a.cv)--a.cv;else if(a.ks)a.El.innerHTML=a.tq,a.wj=a.Lm;else{l<h&&(h=l);var v=document.createElement("textarea");a.Sv(v);if(h!==l)for(;"\n"!==a.tq[a.wj+h];)--h;v.innerHTML=a.tq.substr(a.wj,h);a.wj+=h;a.El.appendChild(v)}else a.cr||(a.o.notification.K("Press Enter to complete copy",
1E4,!0),a.cr=!0);a.LI(a);a.a.Gr();a.Uh&&a.N.uv(a);a.Bc&&a.a.Hr(a.yg,a.Zc,!1,a.Sa,a);a.aa?Help.xv(a):a.Sc.length&&Help.wv(a);a.o.Th(!0)};n.prototype.VI=function(a){for(var h=a.bv,l=performance.now(),v,x=a.a.Yf.AG*LifeConstants.oq;a.a.v<h-1&&13>performance.now()-l;)if(v=h-1-a.a.v<=x?!1:!0,a.a.gf(!1,v,a.xc,a.fc),a.a.tf(),a.lj(),a.bk||a.a.v<=a.Zk)a.a.ea=1;if(a.a.v===h-1){a.a.gf(a.Eg,!1,a.xc,a.fc);a.a.tf();a.lj();if(a.bk||a.a.v<=a.Zk)a.a.ea=1;a.Tl=!1;a.av&&a.o.notification.clear(!0,!1);a.i.locked=!1}else a.i.locked=
!0;a.MI(a,h);a.a.Gr();a.Uh&&a.N.uv(a);a.Bc&&a.a.Hr(a.yg,a.Zc,!1,a.Sa,a);a.aa?Help.xv(a):a.Sc.length&&Help.wv(a);a.o.Th(!0)};n.prototype.BE=function(a,h){h.Tl?h.VI(h):h.Go?h.UI(h):h.WI(a,h)};n.prototype.kz=function(a){a.a.v=0;a.a.uf=0;a.a.Bi=0;a.bb=0;a.Qh=0;a.elapsedTime=0;a.a.pa=a.a.width>>1;a.a.ka=a.a.height>>1;a.a.pa&=a.a.width-1;a.a.ka&=a.a.height-1;a.a.ea=1;a.dw=!0;a.bj=-1};n.prototype.tD=function(a,h,l){h&&(l.Li=a[0]);return[l.Li]};n.prototype.oD=function(a,h,l){h&&(l.Fh=a[0]);return[l.Fh]};
n.prototype.rD=function(a,h,l){h&&(l.a.Yj=a[0]);return[l.a.Yj]};n.prototype.pD=function(a,h,l){h&&(l.Mc=a[0]);return[l.Mc]};n.prototype.hz=function(a,h,l){h&&(l.Bc=a[0],l.Bc&&l.Gd.current!==u.bl&&(l.Gd.current=l.Ej(u.bl,!0,l)));return[l.Bc]};n.prototype.OF=function(a,h,l){h&&(l.a.oi=a[0]);return[l.a.oi]};n.prototype.qD=function(a,h,l){h&&(l.Uh=a[0]);return[l.Uh]};n.prototype.kD=function(a,h,l){h&&(l.a.Pd=a[0]);return[l.a.Pd]};n.prototype.jD=function(a,h,l){h&&(l.rh=a[0],l.rh&&!l.a.Xb&&(l.Qd||l.Ef)&&
(l.Eh.current=l.qo([!0],!0,l)));return[l.rh]};n.prototype.iD=function(a,h,l){h&&(l.a.Jl=a[0]);return[l.a.Jl]};n.prototype.eF=function(a,h,l){h&&(l.dj=a[0]);return[l.dj]};n.prototype.nD=function(a,h,l){h&&(l.a.$d=a[0],l.dD());return[l.a.$d]};n.prototype.gG=function(a,h,l){h&&(l.a.vf=a[0],l.a.Pg=a[0]);return[l.a.vf]};n.prototype.mz=function(a,h,l){h&&(l.o.tl=a[0]);l.o.Th(!0);return[l.o.tl]};n.prototype.to=function(a,h,l){h&&(l.o.vl=a[0]);l.o.Th(!0);return[l.o.vl]};n.prototype.sl=function(a,h,l){if(l.a.sf!==
a)for(l.a.iI(a,h,l),1<l.a.Hk&&(l.o.Dj=l.a.Hk),h=0;h<=this.a.pe;h+=1)this.A[h].current=a!==u.vq[h]?[!1]:[!0]};n.prototype.Qi=function(a,h,l){h&&(l.ja=a[0]+.5|0);return[l.ja,l.ja]};n.prototype.pA=function(a){return(10>a.toFixed(1)?a.toFixed(1):a.toFixed(0))+"/s"};n.prototype.hh=function(a,h,l){h?(l.vd=u.Wd+a[0]*a[0]*(u.Nh-u.Wd),a=a[0]):a=Math.sqrt((l.vd-u.Wd)/(u.Nh-u.Wd));return[a,l.pA(l.vd)]};n.prototype.GC=function(a){a.co=a.a.zoom;a.Sa&&(a.co=a.co*a.Zd);a.Wx=a.a.angle;a.re=a.a.pa;a.Ji=a.a.ka};n.prototype.JH=
function(a){a.zl=a.a.width/2-a.a.pa;a.Al=a.a.height/2-a.a.ka;a.Hm=a.a.zoom;a.yl=a.a.angle;a.Tj=a.a.width/2-a.re;a.cm=a.a.height/2-a.Ji;a.on=a.Wx;a.Sa?a.Nk=a.co/a.Zd:a.Nk=a.co;a.Fg=0};n.prototype.FH=function(a,h){a.a.zoom=a.iA;a.Sa&&(a.a.zoom=a.a.zoom/a.Zd);a.rc&&(a.rc.current=a.Fj([a.a.zoom,a.a.zoom],!1,a));a.a.angle=a.ln;a.sd&&(a.sd.current=[a.ln,a.ln]);a.a.pa=a.je;a.a.ka=a.si;h&&(a.sl(a.Cr,1,a),a.Pc&&(a.a.Rl=0),h=Math.sqrt((a.mv-u.Wd)/(u.Nh-u.Wd)),a.Cb.current=a.hh([h,h],!0,a),a.ja=a.Br,a.Uc.current=
[a.ja,a.ja],a.a.L=a.mn,a.Fd.current=[a.mn,a.mn],h=Math.sqrt(a.lv),a.Kc.current=a.vk([h,h],!0,a))};n.prototype.zz=function(a){a?(this.a.pa+=this.a.Db,this.a.ka+=this.a.wb,this.a.zoom*=this.a.tc):(this.az(),this.a.pa-=this.a.Db,this.a.ka-=this.a.wb,this.a.zoom/=this.a.tc,this.az());this.a.zoom<u.Kb?this.a.zoom=u.Kb:this.a.zoom>u.zc&&(this.a.zoom=u.zc)};n.prototype.qC=function(a){a.elapsedTime=0;a.Pc||(a.a.lt(a.Je),a.a.ea=1,a.a.kt())};n.prototype.reset=function(a){var h=!1,l=!1;0===a.a.v&&a.o.sC();if(0===
a.elapsedTime||a.Vr)h=!0;a.Ub||-1===a.Fa||a.a.v>=a.Fa&&(l=!0);a.a.Cc=!1;a.a.$c=!1;a.a.Bi=0;l||h||(a.Fc&&(a.ue=!0),a.jd&&(a.Ne=!0),-1!==a.Fa&&(a.Ub=!0),-1!==a.Eb&&(a.te=!0),a.Tq&&(a.bc=!1));a.elapsedTime=0;a.a.Db=0;a.a.wb=0;a.a.tc=1;if(h){a.Fc&&(a.ue=!1);a.jd&&(a.Ne=!1);a.Tq&&(a.bc=!0);if(!l||a.Fc||a.bc)a.FH(a,h),a.bc&&a.Bh(!0,!1);a.Ub=!1;l||(a.te=!1)}a.Pc||(a.a.lt(a.Je),a.bb=a.a.v,a.Qh=a.bb,a.a.ea=1);a.xc||a.a.rC();a.a.kt();a.Ap="";a.qw=-1;a.pg=!1;a.N.HH();a.fc&&(a.fc=!1,a.o.notification.clear(!0,
!1));a.a.js(a.fc);a.o.notification.clear(!1,!1);a.bj=-1;a.a.Gp=0;a.dy(a.a.v);a.mt=!1;a.BB()};n.prototype.cy=function(a){var h=this.a.Cc,l;a?a=l="pause":(a="play",this.a.Aa||this.a.M?(this.a.$c&&(h=!h),l=h?"reverse":"play"):l="play");if(this.a.Aa||this.a.M){h=this.a.Cc;this.a.$c&&(h=!h);if(h){var v="stepback";h="stepforward";var x="step back";var t="step forward"}else v="stepforward",h="stepback",x="step forward",t="step back";this.mb.icon[u.oe]=this.R.icon(v);this.mb.w[u.oe]=x;this.mb.icon[u.Mn]=
this.R.icon(h);this.mb.w[u.Mn]=t}this.mb.icon[u.jj]=this.R.icon(l);this.mb.w[u.jj]=a};n.prototype.$g=function(a,h){h.Rk=a;h.aa=1;h.mq=!0;h.Xr=[];h.Yr=[];this.up=!0};n.prototype.Cu=function(a){a.$g(u.JA,a)};n.prototype.Xx=function(a){a.$g(u.Zx,a)};n.prototype.Bu=function(a){a.$g(u.lp,a)};n.prototype.bJ=function(a){a.$g(u.TC,a)};n.prototype.bu=function(a){a.$g(u.Wz,a)};n.prototype.Tt=function(a){a.$g(u.Az,a)};n.prototype.Ru=function(a){a.$g(u.hB,a)};n.prototype.Vt=function(a){a.$g(u.Gz,a)};n.prototype.GF=
function(a,h,l){h&&(l.aa=l.W[a][0],l.mq=!1);return a};n.prototype.fz=function(a,h,l){h&&(l.Ui=a[0],l.Ui&&l.Vq(l));return[l.Ui]};n.prototype.gz=function(a,h,l){h&&(l.aj=a[0],l.aj&&(l.wt=!0));return[l.aj]};n.prototype.Ej=function(a,h,l){var v=a;if(h){switch(a){case u.al:l.Vn=!1;l.Ia||l.a.ub?v=l.Gd.current:(l.Qd=!0,l.Vg.current=l.zj([!1],!0,l),l.Ef=!1);l.$q(l);l.rh&&(l.Eh.current=l.qo([!0],!0,l));break;case u.Ln:l.Qd=!1;l.Vg.current=l.zj([!1],!0,l);l.Ef=!0;l.rh&&(l.Eh.current=l.qo([!0],!0,l));break;
case u.bl:l.Qd=!1,l.Ef=!1,l.Vg.current=l.zj([!1],!0,l),l.$q(l),l.rh&&(l.Eh.current=l.qo([!1],!0,l))}l.Xr=[];l.Yr=[];l.Ac.current[0]&&(l.Ac.current=l.Bq([!1],!0,l),l.o.eh=!0)}switch(v){case u.al:l.i.$x("auto");break;case u.bl:l.i.$x("grab");break;case u.Ln:l.i.$x("crosshair")}return v};n.prototype.lD=function(a,h,l){h&&(l.Mg=a,l.gr(),l.om.current=[!1],l.o.eh=!0);return l.Mg};n.prototype.iz=function(a,h,l){h&&(l.Pb=a);return l.Pb};n.prototype.dF=function(a){a.Ia||(a.Pb+=1,3<a.Pb&&(a.Pb=0),a.wm.current=
a.iz(a.Pb,!0,a))};n.prototype.Jv=function(a){var h="";2>=this.a.g?h=this.a.ib?u.OC[a]:a?"Alive":"Dead":0===a?h="Dead":this.a.M?(0!==(a&1)&&(h+="N"),0!==(a&2)&&(h+="E"),0!==(a&4)&&(h+="S"),0!==(a&8)&&(h+="W")):h=1===a?"Alive":"Dying "+String(a-1);return h};n.prototype.lz=function(a,h,l){var v=a;h&&(2>=l.a.g?l.Of=a:(a+=l.Cg,0===a?l.Of=0:l.a.M?l.Of=a:l.Of=l.a.g-a),l.Vg.current=l.zj([!1],!0,l),l.o.notification.K("Drawing with state "+a+" ("+l.Jv(a)+")",120,!0));return v};n.prototype.Ni=function(a){var h=
this.a.g,l=this.Mh;-1===h&&(l=h=2);this.a.ib&&(l=h=7);a<h&&(a>=l?(this.Cg=a-l+1,a=l-1):a>=this.Cg?a-=this.Cg:(this.Cg=a,a=0),this.fd.current=this.lz(a,!0,this))};n.prototype.oG=function(a,h,l){var v=0;if(h)for(;v<a.length;)a[v]&&(a[v]=!1,l.fd.current=l.lz(v,!0,l)),v+=1;return a};n.prototype.DH=function(a){var h=0,l=this.Of,v=this.a.Ed;var x=this.yb;var t=v.j,A=v.s;var z=v.m;v=v.u;var B=(this.a.width>>1)-(this.qb>>1)+(this.zb<<1);var C=(this.a.height>>1)-(this.xb>>1)+(this.Ab<<1);2<this.a.g&&0<a&&
(a=this.a.g-a);this.kb&&(t=x.j+B,A=x.s+B,t>A&&(B=A,A=t,t=B),z=x.m+C,v=x.u+C,z>v&&(B=v,v=z,z=B));if(l!==a){for(;z<=v;z+=1)for(x=t;x<=A;x+=1)C=this.a.getState(x,z,!1),2<this.a.g&&0<C&&(C=this.a.g-C),C===a&&(this.Tc(x,z,l),h+=1);0<h&&((this.a.ib&&6===a||6===l)&&this.a.zm(),this.tb("replace states"))}else this.o.notification.K("Cell and drawing state are the same",120,!0)};n.prototype.Uu=function(a,h,l){var v=a.Of,x=a.a.Ed,t=0,A=0;if(0<v)if(2<a.a.g&&(v=a.a.g-v),a.a.ib&&1<v&&(A=v&1),a.a.ib&&h)if(l){for(l=
x.m;l<=x.u;l+=1)for(h=x.j;h<=x.s;h+=1){var z=a.a.getState(h,l,!1);3<=z&&5>=z&&(a.Tc(h,l,z&1),t+=1)}0<t&&a.tb("clear [R]History marked cells")}else{for(l=x.m;l<=x.u;l+=1)for(h=x.j;h<=x.s;h+=1)z=a.a.getState(h,l,!1),1<z&&(a.Tc(h,l,z&1),t+=1);0<t&&(this.a.zm(),a.tb("clear [R]History cells"))}else{for(l=x.m;l<=x.u;l+=1)for(h=x.j;h<=x.s;h+=1)z=a.a.getState(h,l,!1),z===v&&(a.Tc(h,l,A),t+=1);0<t&&(a.a.ib&&6===v&&this.a.zm(),a.tb("clear state "+v+" cells"))}return t};n.prototype.kd=function(a,h,l){var v=
a,x=l.te,t=l.Ub,A=l.ue,z=l.Mf,B=l.bc,C=l.Ne,D=40,E=0,H=0,G=0,K=0,O=0,J=0,F=0;if(h){l.Vn=!1;switch(a){case u.Aw:l.Mf=l.Vr||l.ze&&0===l.a.v&&0===l.elapsedTime?!1:!0;l.ze&&!l.Mf?(a=u.jj,l.Pa=!0,l.bm=0===l.a.sa?!0:!1):(a=u.oe,l.Pa=!1);l.tb("");l.reset(l);l.Jc=0;h="Reset";!l.Ub&&t&&-1!==l.Fa&&(H=1);l.Ub&&!t&&-1!==l.Fa&&(H=-1);!l.te&&x&&-1!==l.Eb&&(G=1);l.te&&!x&&-1!==l.Eb&&(G=-1);!B&&l.bc&&(F=1);B&&!l.bc&&(F=-1);!l.ue&&A&&(K=1);l.ue&&!A&&(K=-1);!l.Ne&&C&&(O=1);l.Ne&&!C&&(O=-1);!l.Mf&&z&&l.ze&&(J=1);l.Mf&&
!z&&l.ze&&(J=-1);if(0!==H||0!==G||0!==K||0!==O||0!==J||0!==F)h="",0!==H&&(E+=1,h+="Loop"),0!==G&&(0<E&&(h=0<Math.abs(K)+Math.abs(O)+Math.abs(J)+Math.abs(F)?h+", ":h+" and "),E+=1,h+="Stop"),0!==K&&(0<E&&(h=0<Math.abs(O)+Math.abs(J)+Math.abs(F)?h+", ":h+" and "),E+=1,h+="Waypoints"),0!==O&&(0<E&&(h=0<Math.abs(J)+Math.abs(F)?h+", ":h+" and "),E+=1,h+="Track"),0!==J&&(0<E&&(h=0!==F?h+", ":h+" and "),E+=1,h+="AutoStart"),0!==F&&(0<E&&(h+=" and "),h+="AutoFit"),h=0<G||0<H||0<K||0<O||0<J||0<F?h+" On":h+
" Off",D=120;l.o.notification.K(h,D,!0);break;case u.jj:l.Pa?(l.Pa=!1,l.tb(""),(l.a.v!==l.Eb||l.te||l.un)&&l.o.notification.K("Pause",40,!0)):(l.Fc&&!l.ue&&(l.a.Aa||l.a.M)&&(l.a.Cc||!l.a.Cc&&l.a.$c)&&l.rv(l),l.Pa=!0,l.tb(""),l.bm=0===l.a.sa?!0:!1,l.o.notification.K("Play",40,!0));break;case u.Mn:if(l.Pa)l.Pa=!1,l.tb(""),l.o.notification.K("Pause",40,!0);else if((l.a.Aa||l.a.M)&&null!==l.a.Vc){l.a.$c=!l.a.$c;l.a.$c&&l.tb("reverse playback");l.tb("");for(x=0;x<l.ja;x+=1)l.a.gf(!0,l.Je,l.xc,l.fc),l.a.tf(),
l.bb=l.a.v;l.a.$c=!0}else 0<l.a.v&&(l.dy(l.a.v-l.ja),l.gq(l.a.v-l.ja));break;case u.oe:l.Pa?(l.Pa=!1,l.tb(""),(l.a.v!==l.Eb||l.te||l.un)&&l.o.notification.K("Pause",40,!0)):(l.Ph=!0,l.tb(""),l.bm=0===l.a.sa?!0:!1)}v=a;l.cy(l.Pa)}return v};n.prototype.Jq=function(a,h,l){h&&(l.pg=!0,l.a.angle=a[0]);return[l.a.angle,l.a.angle]};n.prototype.Kq=function(a,h,l){h?(l.pg=!0,l.a.L=a[0]+.5|0,a=a[0]):a=l.a.L;return[a,l.a.L]};n.prototype.vk=function(a,h,l){return h?(l.pg=!0,l.a.Sd=a[0]*a[0],[a[0],l.a.Sd*u.Wl]):
[Math.sqrt(l.a.Sd),l.a.Sd*u.Wl]};n.prototype.tF=function(a,h,l,v){var x=this.Of;-1===l&&-1===v?(this.Sp=this.mC(),2<this.a.g&&!this.a.M&&(x=this.a.g-x),this.Sp=this.Gm&&this.Sp===x?0:this.Of):(this.Gt(l,v),l=this.Yi,v=this.Zi,this.Gt(a,h),a=this.Yi,h=this.Zi,this.ou(l,v,a,h,this.Sp)&&this.a.zm());0<this.a.sa&&(this.bj=-1,this.a.ea=1)};n.prototype.pG=function(a,h,l,v){v.dj&&!l&&(v.mb.current=v.kd(u.oe,!0,v))};n.prototype.AF=function(a,h,l,v){v.mD(a,h,l,v,!1)};n.prototype.qF=function(a,h){h=(a.Jh-h)/
a.bp;-1!==a.Jh&&(0<h?a.qt(a,h):0>h&&a.rt(a,-h))};n.prototype.pF=function(a,h){h=(a.Jh-h)/a.bp;-1!==a.Jh&&(0<h?a.ot(a,h):0>h&&a.pt(a,-h))};n.prototype.rF=function(a,h,l){h=(a.mm-h)/a.a.Ba;l=(a.Jh-l)/a.a.Ba/(a.a.ba&&4<=a.a.Ba?u.vj:1);if(-1!==a.Jh){var v=a.a.V||a.a.ba?0:-a.a.angle;if(!a.td){var x=Math.sin(v/180*Math.PI);v=Math.cos(v/180*Math.PI);a.pg=!0;a.a.pa+=h*v+l*-x;a.a.ka+=h*x+l*v}}};n.prototype.lF=function(a,h,l){var v=a.Pa,x=a.Jc;a.mj||(a.Pa&&a.Ms&&(a.Pa=!1,a.Vn=!0),v&&(a.Jc=0,a.tb(""),a.Jc=x),
a.tF(h,l,a.mm,a.Jh),v&&a.tb(""))};n.prototype.sF=function(a,h,l){a.Nc||a.kF(a,h,l)};n.prototype.kF=function(a,h,l){var v=a.yb,x=(a.a.width>>1)-(a.qb>>1)+(a.zb<<1),t=(a.a.height>>1)-(a.xb>>1)+(a.Ab<<1),A=Math.round((a.a.width-a.a.ha)/2),z=Math.round((a.a.height-a.a.ma)/2),B=A+a.a.ha-1,C=z+a.a.ma-1;if(-1!==h&&-1!==l)if(this.Gt(h,l),-1===a.Jh)a.JC=h,a.KC=l,a.kb=!1,a.ph=!1;else{if(a.cj)v.s=a.Yi-x,v.u=a.Zi-t;else if(h!==a.JC||l!==a.KC)h=!1,-1!==a.a.ua&&(a.Yi<A||a.Yi>B||a.Zi<z||a.Zi>C)&&(h=!0),h||(a.cj=
!0,v.j=a.Yi-x,v.s=v.j,v.m=a.Zi-t,v.u=v.m);a.cj&&(a.Sz(a),x=(a.a.width>>1)-(a.qb>>1)+(a.zb<<1),t=(a.a.height>>1)-(a.xb>>1)+(a.Ab<<1));a.cj&&-1!==a.a.ua&&(A-=x,B-=x,z-=t,C-=t,v.j<v.s?(v.j<A&&(v.j=A),v.s>B&&(v.s=B)):(v.s<A&&(v.s=A),v.j>B&&(v.j=B)),v.m<v.u?(v.m<z&&(v.m=z),v.u>C&&(v.u=C)):(v.u<z&&(v.u=z),v.m>C&&(v.m=C)))}};n.prototype.it=function(a){a.kb=!1;a.ph=!1;a.tb("cancel selection");a.cj=!1};n.prototype.oF=function(a){a.Nc?a.qx(a,a.Yi,a.Zi,!0):a.jF(a)};n.prototype.Vq=function(a){var h=a.yb,l=a.a.H,
v=h.j,x=h.m,t=h.s,A=h.u,z,B=0,C=(a.a.width>>1)-(a.qb>>1)+(a.zb<<1),D=(a.a.height>>1)-(a.xb>>1)+(a.Ab<<1);if(v>t){var E=v;v=t;t=E}x>A&&(E=x,x=A,A=E);v<l.j-C&&(v=l.j-C);x<l.m-D&&(x=l.m-D);t>l.s-C&&(t=l.s-C);A>l.u-D&&(A=l.u-D);l=t+1;E=v-1;var H=A+1;var G=x-1;for(z=x;z<=A;z+=1)for(x=v;x<=t;x+=1){var K=a.a.getState(x+C,z+D,!1);0<K&&(z<H&&(H=z),z>G&&(G=z),x<l&&(l=x),x>E&&(E=x),B+=1)}0<B&&(h.j=l,h.m=H,h.s=E,h.u=G)};n.prototype.jF=function(a){var h=a.yb;if(a.cj)if(a.kb=!0,a.cj=!1,a.ph=!1,a.Ui&&a.Vq(a),a.kb){var l=
h.s<h.j?h.j-h.s+1:h.s-h.j+1;h=h.u<h.m?h.m-h.u+1:h.u-h.m+1;a.tb("selection ("+l+" x "+h+")")}else a.it(a);else a.it(a)};n.prototype.nF=function(a,h,l){-1!==h&&-1!==l&&(a.cw=!0,h=a.mC(),a.Wp?(a.DH(h),a.Wp=!1,a.Vg.current=a.zj([!1],!0,a)):(a.Sp=h,a.Ni(h)))};n.prototype.mF=function(a){a.Vn&&(a.Pa=!0,a.Vn=!1,a.o.Th(!0));0<a.Jc&&(a.a.Ah(),a.tb(""))};n.prototype.mD=function(a,h,l,v,x){-1!==a&&-1!==h&&v.o.hasFocus&&(l?(v.Ac.current[0]||(v.aa?v.qF(v,h):v.Nb?v.pF(v,h):!v.Qd&&!v.Ef||x?v.rF(v,a,h):v.Qd?v.lF(v,
a,h):v.Ef&&v.sF(v,a,h)),v.mm=a,v.Jh=h):-1!==v.mm?(v.aa||v.Ac.current[0]||(v.Qd?v.mj?v.nF(v,a,h):v.mF(v):v.Ef&&v.oF(v)),v.mm=-1,v.Jh=-1):v.aa||v.Ac.current[0]||(v.mj?v.o.notification.K("Now click on a cell",180,!0):v.Nc&&v.o.notification.K("Now click to paste",180,!0)))};n.prototype.dl=function(a,h){8>this.a.zoom&&(0>a?a=-8:0<a&&(a=8),0>h?h=-8:0<h&&(h=8));this.Jh=this.mm=0;this.mD(a,h,!0,this,!0);this.Jh=this.mm=-1};n.prototype.lu=function(a){var h=u.DA;null===h&&(h=new Image,h.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABfAAAAAoCAIAAAA+DUzFAAAABnRSTlMAAAAAAABupgeRAAARoElEQVR4nO2dW3bEqA5FXb16wBlKZsz98A1NIR5CSALssz+yKoAl8QYZ29cFAAAAAAAAAAAAAAAAYC0/Pz+m4W/GumxR5i/krnRa9dbhWZpGArtYAAAAAAAg5t/VBgCgTwghC/l8Pg6SV+ldRQjBxww3RQAs4ff39+fn5/f31y1c5k+ciU25e7TPX6ZJ4HQwHwEALJB1eQwUwBM4dMBjsRhJ2+6btXr9oVsmlQnMQuYDQDkARajT53bH0HCt2Ai8OcACzEcAADFDPZ0zDmCgAJ78s9oAAEy413Z28muj+Sq9q3hbfgF4JMVzPUaxbt6cfXzfwAfMR+C6rvDNanPAGWRdOx1MaK/HOAB2Aw4d8Fjs1nbtVd0qvat4W34BeCr3k1lGsfF3doLG6C9Gj3eC+WjUi3GcyyP0uK7r8wczPQAZQ/292JDQtIAneOQKPBmLZT3zpOUSvat4W34BeBKex3MuF29L5jMCqyje4k73OUPhzNrEfHSxDb7LVpw78ZZ1sjBrl9OMRJ9O45IZS8BT4bScNI1PQzpuIAIAADnZwKo4zrYlr9JLWfLFJa2bXZvfNFv1laudyyRlw+rb0KSMHb5ylSWej2235Fgjxfvktfvn3fBMi4Al9/OXKHXAqHL5qsWWi+Usryx+s5lvYLILJ4uocXktSnDJ5hw9LOxPu8F0m1maRrem1Ct91RC9cGp4KlMvfLKgVjGjzvUh41MhM7lWLzQtw8Sqo1KVcubIyfRqoVI1AiEOev2/B5w9PZHFquRXXWZDF1P42nK+zMZkXbELh6wiWVvawSRKeozF7Tf9UTRJPfYmbXWxjhQPcQTeCR2agLk0tJvo+UpHe26x6Kw7LHNC1yr25fOR0QJmFGa1FrveqCLBtZOTTuPyRkPiH+oxRWtNGH93hzhmylG9fDbXy6+R4nwxOSyP2jMTW7vk/uF5iHKhXhXUe3GbWV2r/F6hglb6rpBJs2WXd61yrguqUaWcOXL8M/tIlpzQOY75zuVZzhadQn3co0W6sDurDFnWrDqVsyr2qpzQqSXmQ5siJz1nmjNtSDKlAjPachRzJMCttB3YxNpu6amUbVv46FWTSneQxlE3n31+79DtRN1+atR5V+ktWkJ/FwOzkCF7ZMaLr1Kso/31qqib12jRmPvv0Al73HDYFsWWxC9q00rx7BsNAp4UBcakjz2/c6CbedlEtogpCkmLd8kZw2L4VrVMz7Dcbxe2C09jG1YZxV6k1WlVR3bjbqht09bSbs+XxoixRCl4CdnsJjuJBoxQmXbnpYGb4rhanEQ+pU8oFhNksUMVJFiYiduAxfy7s14x6pv90Uu6OeW+FBnLCIrujFj09bY1WgziW03zmKWAEXFAc3uV3Z48tYu9uU6ZRJ+L1htzurHRtTTqbREw481pXBWf50qvVdmYjSoVaARvo+3TiWmMVFuI3QStkwVaryyQSQMRug4Mf8dq6H2C6KBpN4PJGqHXtqcMrdpPZ2f+XxXV23LKhDv2lSu4dW7Ua1csULcvbdhq3zBYpPBX+fsz2pz8M5tOzxs2/s3JFjRD+2e7uu7W49F9SpF4jqZ2hMcu1mEVKF5rctKLW76iUk+iXvSdZ2C0gqXvtkCDaTM6dMTEteMhnrT12g1WFnrpfFH0p8RBuHjoJl4uOJLTNa+oTlfLBW8OwWHOVWzPks+Wv3mkfvCub9usPX7IeDD8ivNsfnEECyGkR3XcDNgElY3oaMUVb3xpse0gtiEqrz1uS66x2wmd9Koh+eN2/R/ZfmyVTyfqFaz9tJaLpyw7azf2Z2RO3udvHNKxLk/+efMUrdYiSL9/AwMWNNw3mYuH+tQaPiAV2mfrdKdRgTfnqRu0ExeT/4ivjHuhl2CaX3F/UDxlpyLHiM3NA8dB52a0MQdMC5kj/JErDxlij0z2zayh2JtsFajV+1I56d3UIQn8xOIdu/juuv8YZTowFiWf3kM/fxQDZcybFH+nFaq7Dyy6ivwzm5m0RPWQkf5KQQ1aHcUKSu8CfkqzgOKY2XWXfKa9/MV5c+gvlTOqV8t+Fc7dDsgdOjfn5pzPwjz6TDZH1OARRoL9yRrSa1dUFvdVsrJ17rPd7HDyG5roprmp+UTswjP8344cRN6WIT7SO4dDVhVX83z5Q+YtnAFD8miqosxa1GvHZDvcijSOb89esAm8RXQlj3a+M5+/8y+xPcfftckrXhJ/uFqsgcCbc2I2a9Dl2VlUBxRBrlSGp5remvDR9F0hgiWaWG/NhoYcZjKx3ozU+dpOMKmuq0im7jgE9ev/ZfH28xSRoQ2VbPc1SpyPaSANz1hezrpFpCiNOU5mc7+1O4lqZwppjL3pQq19w2rImOxUi9vvrgG6sSnh+84eLRMBqZxA7h/W0mfMzGhMj6GKLoGQouqGPdnuRVZBzCG3EZLy+AWAKSoVSmXSNXNbRVs7Z2LqpqklmFc9j0rh84cR3Tn3hXrp5E4TZNrTQWzGBv7lM4pq8yb/L5UzqncG9Q7FZLJmmXJ02nOQItTX06uVviukLdYi+/P5FShlZrObUkujwCTQoOZ90ArnMFRZDjVba0Kj7cq6bGvhTCM5ySZLm5ZYt9tad+RU5oyuRuJUfu1vw4a2PXelF0/ZmIZnCWppVGIjaaFderfFMjnqbaytl6nOqP1bEErzsopYZg+1Gy7s2NngaJiihZwBs2bGqEB+GjvV86h3Iq2Ur9U7ZCGz/WTJZIVglAV6LbV89C+VM6pXy37Z5QLmbVZvz7OPXNXUq4t1w9n+oq6GH65x20FF9f4cavZFBg5xmmewKne1e8XPIHxPsXYqrLUMEb5v0fjcZW3cqhJwP51ED7NYh2fMvO24Gxt/Z8WVPYkgJpUTK2Ve7DuZbM8NsfzEx53HCX/Ppu3c9pYbptXfz1Kd2rDWAFOKa1fxglZXWg16KrCxjopdm8Y2DufyD9pMZk0goThvCk7ojHYui3l/iOdtsvQdOjfPK6mHcXTtHG08uNlqWbOVMSo0+ojiVk3cExULPPPmmOpKZRYXN+qK3PB8k45Dcc272N5MrWpQnm12Lh9ap3FfanoDqbYht9C1j+rXojsR+0/rV7JAyhw9seWksUW3TpQw2tiiO3gmCzMSBN6cEzvUU8cBK4cOAABkpGOo83ha3PZ3fQFnEZL7w5/ko+zWSkcvsfbmpIFGldu+VQXaOBTXuWvNZzNU6YdW3z3wbjUapCWZGkanjBXWgUdRbPkzLgZFaZTUrXkl3pxal7mIf6doXroIOahbzZzQAcuxcuhoHaYCRhxdO0cb/2bSivOsxIc5borQmbW4Rp+fgOnlq9Yrq7w51xNP6Jg+bFV8vTdO6JyFrDCpWzmbBVLvc8Pjf8o91egiWW1ImXRgpHZa9MqiFp/yWaj65dBi30daUXhsGA3h1BNKA7PYSd8usz8qznQCb84Rw3LGqnGATnO1QBn6Dp3TR0xn+4u6GlVbjJIZfGg1HWo2iHTvb1io44efSGNGj5ulSy/LO/TBtUeunnqryvTBq/g7Ky6t1Uwq59y15lriDqS4e9GiK+3QitttEFDcKsyTTkPOJtmp3qRsNyR2BJUeoSuNQusxnZ6ylFlUbFSpkTFkqwGhSHHeHPpL5Yzq1bJ/CP/aYboLxWg6dI5ou0w88zKja9LO4+rrOINTPt+I05xO906IndJInAAeUMjdXcTdlnSXnmvLba035zI4oXMfYyl+nco0PI1t26YY6+BtcXOxiXNxylbQyM5G1ZxSMkVCQjFQgNiMbC2Rbr3aNwAEGl8ICqqN7iLWdEmc+a+z2Oi4uUqOnq5hM+2k2x91pzmBN+f0XuC81Srq0jJAZ05VLI6a3pqK0fRdIfRCn6IoammPMjPquqoz+SrlzJHDMeYxZJmlgyMnyzNfFpfR/VbOzdBMY7T7qjluBJv/5eVMi2g0F7qFLJvI5w0w9ea0M/VhPBLPTxNJvR6ev4sGmP4bCeQ+p27DCOT+oRHtxcN8emeyEquNn0MCOZczB5MNS2xDas0+hrf7hdbELet9nKu6aexUp4nvH0vaJH8Y0R1wNh++LpGFcYzKZqWss9A5xXOWaffoSeFXad7k/6VyRvVq2a8iismMRu/+27xh8B9C6eN6tdJ3hYwq0ioQpnwtdUzt/AS7KToCmketXDduxauEcxiy36iKiyWp2Kg8y9kuF2JqvbWBikZO4CkUT9OYhjMNsIi9iWNd/Fel+jI5Dk1C1rAVu4MutaHSTbXduPEqasWV9jjB5aOJZbXGuaqbxk51TKmCwEhqgFZKXb2rkFkYvpffxVhOIBXIt4FjId+AIcmBzJujf6mcUb1a9msJtOu8qZYhY2aV2WVmVK9W+q4QmXmTxdIVq66RaUPXQq2cMs14GDSbWhmHQyeKpeWp2KgWOnSKIf7UenS3p4t1cQJPx6FdxahiGmbsqNKIdZWF77WmkQpxq95zdsvs8bTQdNx4Fe2y4vSLodJWrzXOVd00dqovPW/OTKvmC1FRZyTNArGFIVkf0sAsJPT6Ue1CMeoCG1pG/z4Su84rNqOb+F+Bgj0P2vnAOU5/KNs+DPnm9nY6u7WoaM8zGtUOuRgaN+YNNnrS6oXEV+oUH4myi72uK9ifVLeWrziymdopIM3aVoYdwcOmmC7tR7c8LQFghtiS2w83xb+h9HwWldYIGTUv61AWI4zsHTqPHOtO3OyPOXQeWW0C1Gta7EzRrZENfTpocueCunsJzHFjsj3U7lChmclon8GhyeZjo3/HYRVoutacX1hnXeapa+K30d7j7UOja+xs9iZsuE6mFC3U9TZSFf4tx64iuquLNEr91VRdjUbAm5NxlluH69B5dp3J0K3pOElkr5iiGi/LncxWc9XjW526Fx9wQCGr4z9uwJszSfccjV3suSd0FPcw1KczI80CxV3fVm++tGNz84AWaefds9IbM/KeBi8nmy+67k7q1yhGtQWOWpj+a7QBFPx9PKe4dfqfLU+bKaAolg9flGmlbFLdm5gBHgba1Ymk27n7cWJMTJM4f6o8JVvsaj2RnsqJS+p5sVGy+h1p2oadn893I8tR8lqA/3bFWVF8EvwM1SAOUKsNaXH3jsyluL/Z+7B/QRUt3N/sJcSWHztF1jvoQB3Daa9JnR2K4/nnGxWZl838u7NeMftPRi2Hzv7W74NFWRXHCB+W17vDnVUfIav0uhEI/jJp+kDunh26NwApccvxpHosfigqHp+xCE9pJzCKDSVvS3fP3w1P/y2usxXRvZGjImeIxmh59FC5w3x0l96qWbuhOpAjA9Gt87xx1YH9i2vhJuIsPt9PSNS6Q7aezAJTQt1VLUZ9ZMuE13Qxw8/SK2bncXJTswCYIVu4KK7s25KX6J35EJWMxpMU16LT9XRYVx9zl5ez6QYVLCQ90uL5m2PPTGwjZfg+oXP/yIa4+HsoPF2Ra3WZQLxF8zL9VbwN//kokCcyJlXLqKl2NkmmjnNVN42d6hPR6givIvPvXIwCzJKlc9DOTcti/t1ZLwDgJNLOb+rJbniLPfVS/D9bHvS+YqgoygLrsm2ca2BYB47krvTiKRvT8DSW/taNjfh0cPSXN7NqPureXhYgszlbMPh3B7v8dtN4FjV4LWmbqTUe3UaFhgoAeBfdQdZI/iq9FGeHjm7GrYtxEjh0gAWr2lUWW0ymEpti3ZjD3k5hYMqr5qMGT93+if018OOAeWrLfk5iAOzovxQZgEMJZqcc20/Ir9K7irfldyHqC1msa0GK6ZuS4++QvEPH6O/mp9yBHZiPIke/DqnBR5vVGQJbwOzd6XNY3WvRuoAb3M+WA3AW1qv52tpuld5V+OQXk+KFlQGwxPPtyNmbBaz/ygoEnAjmIwCADNqv25094FXiYCfg0AGPJXV8aI25HGfKKr3+0NlOJb9UJtbQAOgy+WSWIDYCbw6wAPMRAECReBiH9vcYEvDOabAHcOiAB2I3trYlr9K7Cjer9sw+AOdCH4+63TG1x6bmYyOfv89jO/wF7wHzEQBAnVXLfgAAAAAAAAAAAAAAwJP5H2WKWgx7LzOpAAAAAElFTkSuQmCC",
u.DA=h);this.R=new IconManager(h,a);this.R.add("play",40,40);this.R.add("pause",40,40);this.R.add("tostart",40,40);this.R.add("menu",40,40);this.R.add("stepback",40,40);this.R.add("stepforward",40,40);this.R.add("autofit",40,40);this.R.add("fit",40,40);this.R.add("grid",40,40);this.R.add("shrink",40,40);this.R.add("draw",40,40);this.R.add("hexgrid",40,40);this.R.add("lines",40,40);this.R.add("pan",40,40);this.R.add("pick",40,40);this.R.add("states",40,40);this.R.add("hexagongrid",40,40);this.R.add("trianglegrid",
40,40);this.R.add("inside",40,40);this.R.add("undo",40,40);this.R.add("redo",40,40);this.R.add("drawpause",40,40);this.R.add("invertselection",40,40);this.R.add("autoshrink",40,40);this.R.add("selectlibrary",40,40);this.R.add("cut",40,40);this.R.add("copy",40,40);this.R.add("paste",40,40);this.R.add("flipx",40,40);this.R.add("flipy",40,40);this.R.add("rotatecw",40,40);this.R.add("rotateccw",40,40);this.R.add("random",40,40);this.R.add("smart",40,40);this.R.add("outside",40,40);this.R.add("select",
40,40);this.R.add("reverse",40,40);this.R.add("uturn",40,40)};n.prototype.AC=function(a){var h=!1,l=null;""===a&&(a="Life");try{l=this.na.create("","x = 1, y = 1, rule = "+(a+"\nb!"),this.a.l,!0)}catch(v){l=null}l&&l.Ud&&(h=!0);return h};n.prototype.Qz=function(a){var h=window.prompt("Change rule",(""===a.Xc?a.Yc:a.Xc)+a.il);if(null!==h)if(a.AC(h)){""===h&&(h="Life");var l=h.indexOf(":");-1!==l?(a.Yc=h.substr(0,l),a.il=h.substr(l)):(a.Yc=h,a.il="");a.Xc="";l=a.a.Nu(a,a.a,!0);a.Rd&&(a.D=a.Lp,a.C=a.Kp);
a.Vh(l,!1)}else a.o.notification.K("Invalid rule",180,!0)};n.prototype.WE=function(){var a=0,h=this.a.Ib.Rc,l="",v,x;var t="R"+h+",C"+(this.a.Ib.Dm+",");switch(this.a.Ib.type){case this.na.Af:l="";a=(2*h+1)*(2*h+1);break;case this.na.$f:l="N";a=2*h*(h+1)+1;break;case this.na.Eo:l="C";a=0;var A=h*h+h;for(x=-h;x<=h;x+=1){for(v=0;(v+1)*(v+1)+x*x<=A;)v+=1;a+=2*v+1}}h=this.Qb.random()*a|0;t+="S"+String(h);h=(this.Qb.random()*(a-h)|0)+h;0<h&&(t+="-"+String(h));h=(this.Qb.random()*(a-1)|0)+1;t+=",B"+String(h);
h=(this.Qb.random()*(a-h)|0)+h;0<h&&(t+="-"+String(h));""!==l&&(t+=",N"+l);return t};n.prototype.XE=function(){var a=0,h=this.a.Ib.Rc,l="",v,x;var t="R"+h+",C"+(this.a.Ib.Dm+",");t+="M1,";switch(this.a.Ib.type){case this.na.Af:l="M";a=(2*h+1)*(2*h+1);break;case this.na.$f:l="N";a=2*h*(h+1)+1;break;case this.na.Eo:l="C";a=0;var A=h*h+h;for(x=-h;x<=h;x+=1){for(v=0;(v+1)*(v+1)+x*x<=A;)v+=1;a+=2*v+1}}h=this.Qb.random()*a|0;t+="S"+String(h);h=(this.Qb.random()*(a-h)|0)+h;0<h&&(t+=".."+String(h));h=(this.Qb.random()*
(a-1)|0)+1;t+=",B"+String(h);h=(this.Qb.random()*(a-h)|0)+h;0<h&&(t+=".."+String(h));return t+(",N"+l)};n.prototype.$E=function(){var a="W";var h=2*(127*this.Qb.random()|0);return a+=String(h)};n.prototype.YE=function(){var a="B",h,l,v=8,x="";if(this.a.V)v=6,x=this.na.Zr;else if(this.a.ba)switch(this.a.yd){case this.na.Tm:v=3;x=this.na.Fq;break;case this.na.Um:v=9;x=this.na.Hq;break;case this.na.Gl:v=12,x=this.na.Gq}else this.a.Ie&&(v=4,x=this.na.Kt);var t=new Uint8Array(v+1);var A=new Uint8Array(v+
1);var z=l=50;-1!==this.hk&&(z=l=this.hk);-1!==this.ik&&(l=this.ik);-1!==this.ol&&(z=this.ol);for(h=0;h<=v;h+=1)t[h]=l,A[h]=z;-1===this.hk&&-1===this.ik&&(t[0]=25);for(h=0;h<this.Yg.length;h+=2)this.Yg[h]<=v&&(t[this.Yg[h]]=this.Yg[h+1]);for(h=0;h<this.Hi.length;h+=2)this.Hi[h]<=v&&(A[this.Hi[h]]=this.Hi[h+1]);for(h=2<this.a.g?1:0;h<=v;)100*this.Qb.random()<=t[h]&&(a+=String(h)),h+=1;a+="/S";for(h=0;h<=v;h+=1)100*this.Qb.random()<=A[h]&&(a+=String(h));2<this.a.g&&(a+="/"+this.a.g);return a+=x.toUpperCase()};
n.prototype.ZE=function(a){var h=a?this.na.VG.toUpperCase()+",":"M",l,v=!1;var x=0;var t=[];var A=this.a.Lg;if(this.dt){v=new Uint8Array(16);a=new Uint8Array(16);for(l=0;16>l;l+=1)v[l]=l,a[l]=A[l];for(l=0;16>l;l+=1){var z=A[l];for(x=a=0;16>x;x+=1)z===A[x]&&(a+=1);var B=new Uint8Array(a);for(x=a=0;16>x;x+=1)z===A[x]&&(B[a]=x,a+=1);t[l]=B}for(l=1;16>l;l+=1).5>=this.Qb.random()&&(B=t[l],a=this.Qb.random()*B.length|0,a=B[a],A=v[l],v[l]=v[a],v[a]=A);for(l=0;15>l;l+=1)h+=v[l]+",";h+=v[l]}else if(this.at){l=
16;a?(a=0,x|=1):(a=16*this.Qb.random()|0,15==a?(v=!0,x|=32769,--l):(a=0,x|=1));h+=String(a);for(--l;65535!==x;){a=this.Qb.random()*l|0;for(z=0;0<=a;)0===(x&1<<z)&&--a,z+=1;h+=","+String(z-1);x|=1<<z-1;--l}v&&(h+=",0")}else{a?a=0:(a=16*this.Qb.random()|0,15===a?v=!0:a=0);h+=String(a)+",";for(l=1;15>l;l+=1)a=16*this.Qb.random()|0,h+=String(a)+",";a=v?0:16*this.Qb.random()|0;h+=String(a)}return h};n.prototype.lC=function(a){var h,l="",v,x=0,t,A=[],z=0,B=a.$s,C=a.et,D=a.Zs/100;if(2>=a.a.g&&!a.a.vf)A[0]=
"b",A[1]="o",z=2;else for(a.a.vf?z=2:z=a.a.g,A[0]=".",v=0;v<z-1;v+=1)A[v+1]=24<=v?String.fromCharCode(112+(v/24|0)-1)+String.fromCharCode(65+v%24):String.fromCharCode(65+v);-1!==a.a.Hd&&(B=1);for(h=0;h<B;h+=1){var E=this.Qb.random()<=D?(this.Qb.random()*(z-1)|0)+1:0;for(v=t=1;v<C;v+=1)x=this.Qb.random()<=D?(this.Qb.random()*(z-1)|0)+1:0,x!==E&&(1<t&&(l+=t),l+=A[E],t=0,E=x),t+=1;0!==x&&(1<t&&(l+=t),l+=A[x]);h<B-1&&(l+="$\n")}l+="!\n";a.Yc=a.a.Aa||a.a.M?a.ZE(a.a.M):a.a.xa?a.pz?a.XE():a.WE():-1!==a.a.Hd?
a.$E():a.YE();a.a.ib&&(a.Yc+="History");h=AliasManager.Nr(a.Yc);null!==h?a.Xc=h:a.Xc="";h=a.a.cc;h+="x = "+u.Zn+", y = "+u.Zn+", rule = ";h+=(""===a.Xc?a.Yc:a.Xc)+a.il+"\n";h=h+l+a.a.cg;if(a.Cj.locked||window.confirm("Create new random pattern?"))a.Rd&&(a.D=a.Lp,a.C=a.Kp),a.Vh(h,!1),a.Vx(a)};n.prototype.tB=function(a){var h=window.prompt("Create new pattern with rule",(""===a.Xc?a.Yc:a.Xc)+a.il);null!==h&&(a.AC(h)?(""===h&&(h="Life"),a.Rd&&(a.D=a.Lp,a.C=a.Kp),a.Vh("x = 1, y = 1, rule = "+(h+"\nb!"),
!1)):a.o.notification.K("Invalid rule",180,!0))};n.prototype.dD=function(){this.Eh.icon=this.a.V?this.a.$d?[this.R.icon("hexagongrid")]:[this.R.icon("hexgrid")]:this.a.ba?[this.R.icon("trianglegrid")]:[this.R.icon("grid")]};n.prototype.yG=function(a,h){a.o.hasFocus&&(a.Tl||(a.wheelDelta=-h.deltaY,1===h.deltaMode&&(a.wheelDelta*=45),a.o.Th(!0)),h.preventDefault())};n.prototype.$y=function(){var a=this.N.Iz(0===this.sq?0:this.Fg/this.sq),h=this.yl,l=this.on;this.a.pa=this.a.width/2-(this.zl+a*(this.Tj-
this.zl));this.a.ka=this.a.height/2-(this.Al+a*(this.cm-this.Al));this.a.zoom=this.Hm*Math.pow(this.Nk/this.Hm,a);180<l-h?h+=360:-180>l-h&&(l+=360);this.a.angle=(h+a*(l-h))%360;this.Dr&&(this.a.Sd=this.my+a*(this.Bv-this.my),this.Kc.current=this.vk([this.a.Sd,this.a.Sd],!1,this));this.rs&&(this.a.L=this.ny+a*(this.Cv-this.ny),this.Fd.current=this.Kq([this.a.L,this.a.L],!1,this));this.Fg+=1;this.Fg>this.sq&&(this.Fg=-1,this.a.zoom=this.Nk,this.a.angle=l%360,this.a.pa=this.a.width/2-this.Tj,this.a.ka=
this.a.height/2-this.cm,this.Dr&&(this.a.Sd=this.Bv,this.Kc.current=this.vk([this.a.Sd,this.a.Sd],!1,this)),this.rs&&(this.a.L=this.Cv,this.Fd.current=this.Kq([this.a.L,this.a.L],!1,this)));this.rc&&(this.rc.current=this.Fj([this.a.zoom,this.a.zoom],!1,this));this.sd&&(this.sd.current=this.Jq([this.a.angle,this.a.angle],!1,this))};n.prototype.by=function(a,h){var l=a.N.Vb[h];a.zl=a.a.width/2-a.a.pa;a.Al=a.a.height/2-a.a.ka;a.Hm=a.a.zoom;a.yl=a.a.angle;l.bg?a.Tj=l.x:a.Tj=a.zl;l.If?a.cm=l.y:a.cm=a.Al;
l.ae?a.Nk=l.zoom:a.Nk=a.Hm;l.qh?a.on=l.angle:a.on=a.yl;a.a.V&&(a.Tj+=a.a.ka/2);a.Dr=l.zh;a.Dr&&(a.my=a.a.Sd,a.Bv=l.depth/u.Wl);a.rs=l.Kh;a.rs&&(a.ny=a.a.L,a.Cv=l.L);a.Fg=0;a.sq=l.nj;a.$y();l.Bm&&a.qC(a);l.sg===WaypointConstants.play?a.mb.current=a.kd(u.jj,!0,a):l.sg===WaypointConstants.stop&&a.Pa&&(a.mb.current=a.kd(u.oe,!0,a));l.Gf&&a.sl(l.hc,a.a.Hk,a);a.o.notification.K("POI "+(h+1),60,!0);""!==l.nf?a.o.notification.K(l.nf,180,!1):a.o.notification.clear(!1,!0);l.Bl&&(a.Eb=l.Eb);l.Xk&&(a.Fa=l.Fa);
l.Dh&&(a.vd=Math.sqrt((l.ec-u.Wd)/(u.Nh-u.Wd)),a.Cb.current=a.hh([a.vd,a.vd],!0,a));l.Xh&&(a.ja=l.step,a.Uc.current=a.Qi([a.ja,a.ja],!0,a));l.rq&&(a.a.v>l.Sb&&a.qC(a),a.a.v<l.Sb&&(a.Tl=!0,a.bv=l.Sb,a.av=!1));l.Xj&&(a.a.Xb=l.Lc);l.ut&&(this.Li=l.xl)};n.prototype.vh=function(a,h,l){var v=h/a.a.tc;l&&(h=1<=h?Math.round(h):1/Math.round(1/h),v=h/a.a.tc);a.td||(a.zl=a.a.width/2-a.a.pa,a.Al=a.a.height/2-a.a.ka,a.Hm=a.a.zoom,a.yl=a.a.angle,a.Tj=a.zl,a.cm=a.Al,a.Nk=v,a.on=a.yl,a.Fg=0)};n.prototype.ZD=function(a){a.Zy(a)};
n.prototype.Mw=function(a){a.Lx(a)};n.prototype.Xq=function(a){a.jk||a.kk||a.lk||a.mk||a.sj?(a.jk=!1,a.kk=!1,a.lk=!1,a.mk=!1,a.sj=!1):a.Ac.current=[!1]};n.prototype.Hv=function(a){a.lk=!0};n.prototype.nu=function(a){a.jk=!0};n.prototype.Ov=function(a){a.mk=!0};n.prototype.Au=function(a){a.kk=!0};n.prototype.jv=function(a){a.tB(a)};n.prototype.vw=function(a){a.lC(a)};n.prototype.Jx=function(a){a.Vx(a);a.o.notification.K("Saved",120,!0)};n.prototype.Pu=function(a){a.PA(a)};n.prototype.zx=function(a){a.Qz(a)};
n.prototype.aJ=function(a){a.sj=!0};n.prototype.Yd=function(a,h,l){l&&(h[0]?(this.sl(u.vq[a],1,this),this.Ac.current[0]&&(this.Ac.current=this.Bq([!1],!0,this))):(this.Ac.current[0]&&(this.Ac.current=this.Bq([!1],!0,this)),h[0]=!0));return h};n.prototype.ED=function(a,h,l){return l.Yd(0,a,h)};n.prototype.FD=function(a,h,l){return l.Yd(1,a,h)};n.prototype.QD=function(a,h,l){return l.Yd(2,a,h)};n.prototype.RD=function(a,h,l){return l.Yd(3,a,h)};n.prototype.SD=function(a,h,l){return l.Yd(4,a,h)};n.prototype.TD=
function(a,h,l){return l.Yd(5,a,h)};n.prototype.UD=function(a,h,l){return l.Yd(6,a,h)};n.prototype.VD=function(a,h,l){return l.Yd(7,a,h)};n.prototype.WD=function(a,h,l){return l.Yd(8,a,h)};n.prototype.XD=function(a,h,l){return l.Yd(9,a,h)};n.prototype.GD=function(a,h,l){return l.Yd(10,a,h)};n.prototype.HD=function(a,h,l){return l.Yd(11,a,h)};n.prototype.ID=function(a,h,l){return l.Yd(12,a,h)};n.prototype.JD=function(a,h,l){return l.Yd(13,a,h)};n.prototype.KD=function(a,h,l){return l.Yd(14,a,h)};n.prototype.LD=
function(a,h,l){return l.Yd(15,a,h)};n.prototype.MD=function(a,h,l){return l.Yd(16,a,h)};n.prototype.ND=function(a,h,l){return l.Yd(17,a,h)};n.prototype.OD=function(a,h,l){return l.Yd(18,a,h)};n.prototype.PD=function(a,h,l){return l.Yd(19,a,h)};n.prototype.yu=function(a){a.Bc=!1;a.Pk.current=a.hz([a.Bc],!0,a)};n.prototype.pu=function(a){a.Sc.length?(a.Sc=[],a.Nb=0):k()};n.prototype.hC=function(a){--a.fg;0>a.fg&&(a.fg=a.N.Vb.length-1);a.by(a,a.fg)};n.prototype.uB=function(a){a.fg+=1;a.fg>=a.N.Vb.length&&
(a.fg=0);a.by(a,a.fg)};n.prototype.Av=function(a){a.Ec+=1;a.Ec>=y.Xd.length&&(a.Ec=0);a.Vh(y.Xd[a.Ec].pattern,!1)};n.prototype.Vv=function(a){--a.Ec;0>a.Ec&&(a.Ec=y.Xd.length-1);a.Vh(y.Xd[a.Ec].pattern,!1)};n.prototype.$I=function(a){a.sy();a.aa&&(a.aa=0);a.Ac.current[0]=!1;a.o.eh=!0};n.prototype.vI=function(a){a.mq=!0};n.prototype.YD=function(a){a.$g(u.wk,a)};n.prototype.FE=function(a,h){var l=0;if(a.a.ib&&h)for(;l<a.Xa.length;)1<a.Xa[l]&&(a.Xa[l]&=1),l+=1;else for(;l<a.Xa.length;)a.Xa[l]=0,l+=1};
n.prototype.Uz=function(a){var h=a.yb,l=h.j,v=h.s,x=h.m;h=h.u;var t=a.a.H,A=t.j,z=t.s,B=t.m;t=t.u;var C=(a.a.width>>1)-(a.qb>>1)+(a.zb<<1);var D=(a.a.height>>1)-(a.xb>>1)+(a.Ab<<1);if(!a.Ia&&a.kb){if(l>v){var E=v;v=l;l=E}x>h&&(E=h,h=x,x=E);l+=C;v+=C;x+=D;h+=D;for(E=B;E<=t;E+=1)for(B=A;B<=z;B+=1)E>=x&&E<=h&&B>=l&&B<=v||(C=a.a.getState(B,E,!1),0!==C&&a.Tc(B,E,0));a.tb("clear cells outside selection")}};n.prototype.GE=function(a,h){var l=a.yb,v=l.j,x=l.s,t=l.m;l=l.u;var A=(a.a.width>>1)-(a.qb>>1)+(a.zb<<
1),z=(a.a.height>>1)-(a.xb>>1)+(a.Ab<<1);if(!a.Ia&&a.kb){if(v>x){var B=x;x=v;v=B}t>l&&(B=l,l=t,t=B);if(a.a.ib&&h){for(B=t;B<=l;B+=1)for(t=v;t<=x;t+=1){var C=a.a.getState(t+A,B+z,!1);1<C&&a.Tc(t+A,B+z,C&1)}this.a.zm()}else for(B=t;B<=l;B+=1)for(t=v;t<=x;t+=1)C=a.a.getState(t+A,B+z,!1),0!==C&&a.Tc(t+A,B+z,0);a.a.bh=!0;a.a.Ah();a.ph=!1;a.a.ib&&h?a.tb("clear [R]History cells in selection"):a.tb("clear cells in selection")}};n.prototype.sv=function(a,h){a.Ia||(a.Nc?a.FE(a,h):a.GE(a,h))};n.prototype.Zt=
function(a){a.sv(a,!1)};n.prototype.Xt=function(a){a.Uz(a)};n.prototype.Yt=function(a){a.sv(a,!0)};n.prototype.IC=function(a){var h=a.yb,l=a.a.H,v=(a.a.width>>1)-(a.qb>>1)+(a.zb<<1),x=(a.a.height>>1)-(a.xb>>1)+(a.Ab<<1);0<a.a.sa?(h.j=l.j-v,h.m=l.m-x,h.s=l.s-v,h.u=l.u-x,a.kb=!0,a.ph=!1,l=h.s<h.j?h.j-h.s+1:h.s-h.j+1,h=h.u<h.m?h.m-h.u+1:h.u-h.m+1,a.tb("select all ("+l+" x "+h+")")):a.it(a)};n.prototype.kC=function(a,h,l){a.Ia||(!a.fk&&a.aj&&(h?a.Io(a,!0):a.Ia?a.Io(a,!0):l?a.dr(a,!0):a.dr(a,!1)),a.eA(a,
a.Mg,!1))};n.prototype.dA=function(a){a.kC(a,!1,!1)};n.prototype.eA=function(a,h,l){var v=a.yb,x=v.j,t=v.s,A=v.m;v=v.u;var z,B=a.a.g,C=2<B&&!(this.a.ub||this.a.M),D=(a.a.width>>1)-(a.qb>>1)+(a.zb<<1),E=(a.a.height>>1)-(a.xb>>1)+(a.Ab<<1);if(a.kb){if(x>t){var H=t;t=x;x=H}A>v&&(H=v,v=A,A=H);var G=t-x+1;var K=v-A+1;var O=a.a.l.F(Uint8,G*K,"View.pasteBuffer"+h);H=0;for(z=A;z<=v;z+=1)for(A=x;A<=t;A+=1){var J=a.a.getState(A+D,z+E,!1);0<J&&C&&(J=B-J);O[H]=J;a.Tc(A+D,z+E,0);H+=1}a.Cf[h]={buffer:O,width:G,
height:K};a.Xa=O;a.Le=G;a.Ke=K;a.gr();a.a.bh=!0;a.a.Ah();a.Do=!0;a.ke=!1;a.ph=!0;l?a.tb("advance outside"):a.tb("cut")}};n.prototype.jC=function(a,h,l){a.fk||!a.aj&&a.kb||(h?a.Io(a,!0):a.Ia?a.Io(a,!0):l?a.dr(a,!0):a.dr(a,!1));a.kb&&(a.JE(a,a.Mg),a.wt||(a.wt=!0,a.o.notification.K("For external clipboard enable Sync",180,!0)))};n.prototype.ku=function(a){a.jC(a,!1,!1)};n.prototype.JE=function(a,h){var l=a.yb,v=l.j,x=l.m,t=l.s;l=l.u;var A,z=a.a.g,B=2<z&&!(this.a.ub||this.a.M),C=(a.a.width>>1)-(a.qb>>
1)+(a.zb<<1),D=(a.a.height>>1)-(a.xb>>1)+(a.Ab<<1);if(a.kb){if(v>t){var E=v;v=t;t=E}x>l&&(E=x,x=l,l=E);var H=t-v+1;var G=l-x+1;var K=a.a.l.F(Uint8,H*G,"View.pasteBuffer"+h);E=0;for(A=x;A<=l;A+=1)for(x=v;x<=t;x+=1){var O=a.a.getState(x+C,A+D,!1);0<O&&B&&(O=z-O);K[E]=O;E+=1}a.Cf[h]={buffer:K,width:H,height:G};a.Xa=K;a.Le=H;a.Ke=G;a.gr();a.Do=!0;a.ke=!1;a.ph=!0}};n.prototype.$q=function(a){a.Nc=!1;a.o.notification.clear(!0,!1);a.ke&&a.Zy(a);a.ke=!1};n.prototype.EF=function(a,h){var l=this.Pb;h?a.kb?
(a.eA(a,a.Mg,!0),a.a.gf(!0,a.Je,a.xc,a.fc),a.a.tf(),a.tb(""),this.Pb=u.Xw,a.Vs(a,!0,!0),this.Pb=l):a.o.notification.K("Advance Outside needs a selection",180,!0):a.ke?a.kA(a):a.kb?(a.ph||a.dA(a),a.Do&&a.kA(a)):a.o.notification.K("Advance Selection needs a selection",180,!0)};n.prototype.kA=function(a){var h,l,v,x=a.Le,t=a.Ke,A=a.Xa,z=a.yb,B=a.a.H,C=a.Lr,D=a.a.Lc,E=a.a.Vf,H=a.a.ca,G=a.a.Oj,K=a.a.oa,O=a.a.Ka,J=a.a.ab,F=a.a.Ga,I=a.a.width,M=a.a.height,N=a.a.cb,R=a.a.Lb,da=a.a.Ld,W=a.a.Fk,aa=a.a.Ye,S=
a.a.Ek,Z=a.a.ya,ca=a.a.ta,U=a.a.fb,L=a.a.hb,P=a.a.v,Q=new BoundingBox(0,0,0,0);Q.j=B.j;Q.m=B.m;Q.s=B.s;Q.u=B.u;a.a.kE();var V=(a.a.width>>1)-(a.qb>>1)+(a.zb<<1);var Y=(a.a.height>>1)-(a.xb>>1)+(a.Ab<<1);for(v=h=0;v<t;v+=1)for(l=0;l<x;l+=1){var T=A[h];0<T&&a.a.ah(l+V,v+Y,T,!1);h+=1}a.a.gf(!1,!0,!0,a.fc);a.a.tf();a.Le=B.s-B.j+1;a.Ke=B.u-B.m+1;a.Xa=a.a.l.F(Uint8,a.Le*a.Ke,"View.pasteBuffer");h=0;for(v=B.m;v<=B.u;v+=1)for(l=B.j;l<=B.s;l+=1)a.Xa[h]=a.a.getState(l,v,!1),h+=1;a.ke?(C.j+=B.j-V,C.m+=B.m-Y,
C.s=C.j+a.Le-1,C.u=C.m+a.Ke-1):(C.j=z.j+B.j-V,C.m=z.m+B.m-V,C.s=C.j+a.Le-1,C.u=C.m+a.Ke-1);a.ke=!0;a.a.Lc=D;a.a.Vf=E;a.a.ca=H;a.a.Oj=G;a.a.oa=K;a.a.Ka=O;a.a.ab=J;a.a.Ga=F;a.a.width=I;a.a.height=M;a.a.cb=N;a.a.Lb=R;a.a.H.j=Q.j;a.a.Ld=da;a.a.Fk=W;a.a.Ye=aa;a.a.Ek=S;a.a.ya=Z;a.a.ta=ca;a.a.fb=U;a.a.hb=L;a.a.v=P;B.j=Q.j;B.m=Q.m;B.s=Q.s;B.u=Q.u};n.prototype.qx=function(a,h,l,v){var x,t=a.Le,A=a.Ke,z=a.Xa;var B=a.pm;var C=a.a.width;switch(a.Xf+.5|0){case u.RB:h-=t>>1;break;case u.SB:h-=t-1;break;case u.WB:l-=
A>>1;break;case u.QB:h-=t>>1;l-=A>>1;break;case u.PB:h-=t-1;l-=A>>1;break;case u.VB:l-=A-1;break;case u.TB:h-=t>>1;l-=A-1;break;case u.UB:h-=t-1,l-=A-1}B.j=h;B.m=l;B.s=h+t;B.u=l+A;for(a.Tu(a,B);C!==a.a.width;)h+=C>>1,l+=C>>1,C<<=1;switch(a.Pb){case u.xm:for(x=B=0;x<A;x+=1)for(C=0;C<t;C+=1){var D=z[B];0<D&&a.Tc(h+C,l+x,D);B+=1}break;case u.Xw:for(x=B=0;x<A;x+=1)for(C=0;C<t;C+=1)D=z[B],a.Tc(h+C,l+x,D),B+=1;break;case u.hx:for(x=B=0;x<A;x+=1)for(C=0;C<t;C+=1){D=z[B];var E=this.a.getState(h+C,l+x,!1);
a.Tc(h+C,l+x,E^D);B+=1}break;case u.Vw:for(x=B=0;x<A;x+=1)for(C=0;C<t;C+=1)D=z[B],E=this.a.getState(h+C,l+x,!1),a.Tc(h+C,l+x,E&D),B+=1}a.Nc=!1;a.ke=!1;a.o.notification.clear(!0,!1);v&&a.tb("paste")};n.prototype.Vs=function(a,h,l){var v=(a.a.width>>1)-(a.qb>>1)+(a.zb<<1),x=(a.a.height>>1)-(a.xb>>1)+(a.Ab<<1),t=a.yb,A=a.Lr,z=t.j,B=t.m,C=t.s;t=t.u;var D;if(!a.Ia&&null!==a.Cf[a.Mg])if(h)if(a.kb)if(a.ke&&(z=A.j,B=A.m,C=A.s,t=A.u),z>C&&(h=z,z=C,C=h),B>t&&(h=B,B=t,t=h),C=C-z+1,t=t-B+1,a.Le>C||a.Ke>t)a.o.notification.K("Paste does not fit in selection",
180,!0);else{h=a.Xf;a.Xf=u.Op;for(D=B;D<=B+t-a.Ke;D+=a.Ke)for(A=z;A<=z+C-a.Le;A+=a.Le)a.qx(a,A+v,D+x,!1);a.Xf=h;a.Ui&&a.Vq(a);l?a.tb("advance outside"):a.tb("paste to selection");a.ke=!1}else a.o.notification.K("Paste to Selection needs a selection",180,!0);else a.mx(a,a.Mg),a.ke=!1,a.o.notification.K("Now click to paste",180,!0)};n.prototype.TG=function(a){a.ke?a.Vs(a,!0,!1):a.qx(a,a.Yi,a.Zi,!0)};n.prototype.XB=function(a){a.Vs(a,!1,!1)};n.prototype.mx=function(a,h){0<=h&&h<a.Cf.length&&(null!==
a.Cf[h]?(a.Nc=!0,a.ke=!1,a.Xa=a.Cf[h].buffer,a.Le=a.Cf[h].width,a.Ke=a.Cf[h].height,a.Gd.current!==u.Ln&&(a.Gd.current=a.Ej(u.Ln,!0,a))):(a.Nc=!1,a.ke=!1,a.o.notification.K("Clipboard empty",180,!0)))};n.prototype.pH=function(a,h){var l,v=a.a.g;-1===v&&(v=2);for(l=0;l<a.Xa.length;l+=1){var x=100*a.Qb.random()<=a.Am?2===v||h?v-1:(a.Qb.random()*(v-1)|0)+1:0;a.Xa[l]=x}};n.prototype.qH=function(a,h){var l=a.yb,v=l.j,x=l.s,t=l.m;l=l.u;var A=(a.a.width>>1)-(a.qb>>1)+(a.zb<<1),z=(a.a.height>>1)-(a.xb>>1)+
(a.Ab<<1),B=a.a.g;if(a.kb){if(v>x){var C=x;x=v;v=C}t>l&&(C=l,l=t,t=C);-1===B&&(B=2);for(C=t;C<=l;C+=1)for(t=v;t<=x;t+=1){var D=100*a.Qb.random()<=a.Am?2===B||h?B-1:(a.Qb.random()*(B-1)|0)+1:0;a.Tc(t+A,C+z,D)}a.a.bh=!0;a.a.Ah();a.tb("random "+a.Am+"%")}};n.prototype.Ys=function(a,h){a.Ia||(a.Nc?a.pH(a,h):a.qH(a,h))};n.prototype.sw=function(a){a.Ia||a.Ys(a,!1)};n.prototype.ew=function(a){a.Ys(a,!0)};n.prototype.HF=function(a){var h=a.Le,l=a.Ke,v=h>>1,x,t,A;for(t=A=0;t<l;t+=1){if(a.a.M)for(x=0;x<v;x+=
1){var z=a.Xa[A+x];var B=a.Xa[A+h-x-1];a.Xa[A+x]=B&5|(B&2)<<2|(B&8)>>2;a.Xa[A+h-x-1]=z&5|(z&2)<<2|(z&8)>>2}else for(x=0;x<v;x+=1)z=a.Xa[A+x],a.Xa[A+x]=a.Xa[A+h-x-1],a.Xa[A+h-x-1]=z;A+=h}};n.prototype.IF=function(a){var h=a.yb,l=h.j,v=h.s,x=h.m;h=h.u;var t,A=a.a.g,z=2<A&&!(this.a.ub||this.a.M),B=(a.a.width>>1)-(a.qb>>1)+(a.zb<<1),C=(a.a.height>>1)-(a.xb>>1)+(a.Ab<<1);if(a.kb){if(l>v){var D=v;v=l;l=D}x>h&&(D=h,h=x,x=D);D=a.a.l.F(Uint8,v-l+1,"View.flipRow");for(t=x;t<=h;t+=1){for(x=l;x<=v;x+=1){var E=
a.a.getState(x+B,t+C,!1);z&&0<E&&(E=A-E);D[x-l]=E}if(a.a.M)for(x=l;x<=v;x+=1)E=D[v-x],a.Tc(x+B,t+C,E&5|(E&2)<<2|(E&8)>>2);else for(x=l;x<=v;x+=1)a.Tc(x+B,t+C,D[v-x])}a.a.bh=!0;a.a.Ah();a.tb("flip horizontally")}};n.prototype.JF=function(a){var h=a.Le,l=a.Ke,v=l>>1,x,t,A;for(x=A=0;x<h;x+=1){if(a.a.M)for(t=0;t<v;t+=1){var z=a.Xa[A+t*h];var B=a.Xa[A+(l-t-1)*h];a.Xa[A+t*h]=B&10|(B&1)<<2|(B&4)>>2;a.Xa[A+(l-t-1)*h]=z&10|(z&1)<<2|(z&4)>>2}else for(t=0;t<v;t+=1)z=a.Xa[A+t*h],a.Xa[A+t*h]=a.Xa[A+(l-t-1)*h],
a.Xa[A+(l-t-1)*h]=z;A+=1}};n.prototype.KF=function(a){var h=a.yb,l=h.j,v=h.s,x=h.m;h=h.u;var t,A=a.a.g,z=2<A&&!(this.a.ub||this.a.M),B=(a.a.width>>1)-(a.qb>>1)+(a.zb<<1),C=(a.a.height>>1)-(a.xb>>1)+(a.Ab<<1);if(a.kb){if(l>v){var D=v;v=l;l=D}x>h&&(D=h,h=x,x=D);for(D=a.a.l.F(Uint8,h-x+1,"View.flipColumn");l<=v;l+=1){for(t=x;t<=h;t+=1){var E=a.a.getState(l+B,t+C,!1);z&&0<E&&(E=A-E);D[t-x]=E}if(a.a.M)for(t=x;t<=h;t+=1)E=D[h-t],a.Tc(l+B,t+C,E&10|(E&1)<<2|(E&4)>>2);else for(t=x;t<=h;t+=1)a.Tc(l+B,t+C,D[h-
t])}a.a.bh=!0;a.a.Ah();a.tb("flip vertically")}};n.prototype.yC=function(a,h){var l=a.Le,v=a.Ke,x,t,A=a.a.l.F(Uint8,l*v,"View.pasteBuffer");for(t=0;t<v;t+=1)for(x=0;x<l;x+=1)if(a.a.M)if(h){var z=a.Xa[t*l+x];A[x*v+(v-t-1)]=z<<1&15|(z&8)>>3}else z=a.Xa[t*l+x],A[(l-x-1)*v+t]=z>>1&15|(z&1)<<3;else h?A[x*v+(v-t-1)]=a.Xa[t*l+x]:A[(l-x-1)*v+t]=a.Xa[t*l+x];a.Xa=A;a.Le=v;a.Ke=l};n.prototype.zC=function(a,h,l){var v=a.yb,x=v.j,t=v.s,A=v.m,z=v.u,B=0,C=a.a.g;var D=!0;var E=2<C&&!(this.a.ub||this.a.M);var H=Math.round((a.a.width-
a.a.ha)/2);var G=Math.round((a.a.height-a.a.ma)/2);var K=H+a.a.ha-1;var O=G+a.a.ma-1;var J=(a.a.width>>1)-(a.qb>>1)+(a.zb<<1),F=(a.a.height>>1)-(a.xb>>1)+(a.Ab<<1);if(a.kb){if(x>t){var I=t;t=x;x=I}A>z&&(I=z,z=A,A=I);I=x+(t-x+1-1>>1);var M=A+(z-A+1-1>>1);var N=I+A-M;var R=M+x-I;var da=I+z-M;M=M+t-I;var W=v.j;var aa=v.m;var S=v.s;var Z=v.u;v.j=N;v.m=R;v.s=da;v.u=M;v.j>v.s&&(I=v.j,v.j=v.s,v.s=I);v.m>v.u&&(I=v.m,v.m=v.u,v.u=I);if(-1!==a.a.ua){if(v.j+J<H||v.s+J>K||v.m+F<G||v.u+F>O)a.o.notification.K("Rotation does not fit in bounded grid",
180,!0),D=!1}else a.Sz(a)?(a.o.notification.K("Rotation does not fit on grid",180,!0),D=!1):(J=(a.a.width>>1)-(a.qb>>1)+(a.zb<<1),F=(a.a.height>>1)-(a.xb>>1)+(a.Ab<<1));if(D){h?(O=da,K=1,G=-1):(R=M,O=N,K=-1,G=1);D=a.a.l.F(Int16,3*(t-x+1)*(z-A+1),"View.rotateCells");for(da=A;da<=z;da+=1){I=R;for(N=x;N<=t;N+=1)H=a.a.getState(N+J,da+F,!1),E?0<H&&(H=C-H):a.a.M&&(H=h?H<<1&15|(H&8)>>3:H>>1&15|(H&1)<<3),D[B]=O,D[B+1]=I,D[B+2]=H,B+=3,I+=K;O+=G}J=(a.a.width>>1)-(a.qb>>1)+(a.zb<<1);F=(a.a.height>>1)-(a.xb>>
1)+(a.Ab<<1);for(B=0;B<D.length;)N=D[B],da=D[B+1],H=D[B+2],a.Tc(N+J,da+F,H),B+=3;for(N=x;N<v.j;N+=1)for(da=A;da<=z;da+=1)a.Tc(N+J,da+F,0);for(N=v.s+1;N<=t;N+=1)for(da=A;da<=z;da+=1)a.Tc(N+J,da+F,0);for(da=A;da<v.m;da+=1)for(N=x;N<=t;N+=1)a.Tc(N+J,da+F,0);for(da=v.u+1;da<=z;da+=1)for(N=x;N<=t;N+=1)a.Tc(N+J,da+F,0);a.a.bh=!0;a.a.Ah();a.tb(l)}else v.j=W,v.m=aa,v.s=S,v.u=Z}};n.prototype.mA=function(a){a.Ia||(a.Nc?a.HF(a):a.IF(a))};n.prototype.nA=function(a){a.Ia||(a.Nc?a.JF(a):a.KF(a))};n.prototype.xC=
function(a){a.Ia||(a.Nc?a.yC(a,!0):a.zC(a,!0,"rotate clockwise"))};n.prototype.wC=function(a){a.Ia||(a.Nc?a.yC(a,!1):a.zC(a,!1,"rotate counter-clockwise"))};n.prototype.lG=function(a){var h=0,l=a.a.g;if(!a.Ia)for(-1===l&&(l=2);h<a.Xa.length;){var v=a.Xa[h];a.Xa[h]=l-v-1;h+=1}};n.prototype.mG=function(a){var h=a.yb,l=h.j,v=h.s,x=h.m;h=h.u;var t=(a.a.width>>1)-(a.qb>>1)+(a.zb<<1),A=(a.a.height>>1)-(a.xb>>1)+(a.Ab<<1),z=a.a.g;if(!a.Ia&&a.kb){if(l>v){var B=v;v=l;l=B}x>h&&(B=h,h=x,x=B);-1===z&&(z=2);for(B=
x;B<=h;B+=1)for(x=l;x<=v;x+=1){var C=a.a.getState(x+t,B+A,!1);2<z&&0<C&&(C=z-C);a.Tc(x+t,B+A,z-C-1)}a.a.bh=!0;a.a.Ah();a.tb("invert cells in selection")}};n.prototype.HA=function(a){a.Ia||(a.Nc?a.lG(a):a.mG(a))};n.prototype.rv=function(a){a.a.$c=a.a.$c?!1:!0;a.cy(a.Pa);var h=a.a.Cc;a.a.$c&&(h=!h);a.o.notification.K("Playback "+(h?"Reverse":"Forward"),40,!0)};n.prototype.qu=function(a){a.Bh(!0,!0);a.Pa||(a.pg=!0)};n.prototype.Wv=function(a){if(a.a.ea)if(a.fc){a.fc=!1;a.ja=a.Pw;a.vd=a.Nw;-1!==a.Fa&&
(a.Ub=a.Ow);a.Uc.current=a.Qi([a.ja,a.ja],!0,a);var h=Math.sqrt((a.vd-u.Wd)/(u.Nh-u.Wd));a.Cb.current=a.hh([h,h],!0,a);a.mb.current=a.kd(u.oe,!0,a);a.o.notification.K("Identify Cancelled",120,!1)}else a.fc=!0,a.iF=!1,a.Pw=a.ja,a.ja<u.ff&&(a.ja=u.ff,a.Uc.current=a.Qi([a.ja,a.ja],!0,a)),a.Nw=a.vd,a.vd=u.Nh,h=Math.sqrt((a.vd-u.Wd)/(u.Nh-u.Wd)),a.Cb.current=a.hh([h,h],!0,a),-1!==a.Fa&&(a.Ow=a.Ub,a.Ub=!0),a.Pa||(a.mb.current=a.kd(u.jj,!0,a)),a.o.notification.K("Identifying...",216E3,!1);else a.o.notification.K("Empty Pattern",
120,!1),a.fc=!1,a.iF=!1,a.ja=a.Pw,a.vd=a.Nw,-1!==a.Fa&&(a.Ub=a.Ow),a.Uc.current=a.Qi([a.ja,a.ja],!0,a),h=Math.sqrt((a.vd-u.Wd)/(u.Nh-u.Wd)),a.Cb.current=a.hh([h,h],!0,a),a.mb.current=a.kd(u.oe,!0,a);a.a.js(a.fc);a.Xq(a);a.Xq(a);a.o.eh=!0};n.prototype.qo=function(a,h,l){h&&(l.a.Xb=a[0]);return[l.a.Xb]};n.prototype.WC=function(a,h,l){h&&(l.yg=a[0]);return[l.yg]};n.prototype.CD=function(a,h,l){h&&(l.Ms=a[0]);return[l.Ms]};n.prototype.Fy=function(a,h,l){h&&(l.Fi=a[0]);return[l.Fi]};n.prototype.Hy=function(a,
h,l){h&&(l.Gk=a[0]);return[l.Gk]};n.prototype.Bq=function(a,h,l){h&&(0!==l.aa&&a[0]&&(l.aa=0,l.Zj.current=l.ro([l.aa],!0,l)),a[0]||l.Xq(l));return a};n.prototype.Gy=function(a,h,l){h&&(l.Gm=a[0]);return[l.Gm]};n.prototype.Lt=function(a,h,l){h&&(l.nq=a[0]);return[l.nq]};n.prototype.zj=function(a,h,l){h&&(l.mj=a[0],l.mj?l.Wp?l.o.notification.K("Replace: Now click on a cell",180,!0):l.o.notification.K("Pick: Now click on a cell",180,!0):(l.cw||l.o.notification.clear(!0,!1),l.cw=!1,l.Wp=!1));return[l.mj]};
n.prototype.VC=function(a,h,l){h&&(l.bc=a[0],l.bc&&!l.Pa&&l.Bh(!0,!0));return[l.bc]};n.prototype.BD=function(a,h,l){h&&-1!==l.Fa&&(l.Ub=!a[0],l.Fc?(l.ue=l.Ub,l.o.notification.K("Loop and Waypoints "+(l.Ub?"Off":"On"),40,!0)):l.jd?(l.Ne=l.Ub,l.o.notification.K("Loop and Track "+(l.Ub?"Off":"On"),40,!0),l.zz(l.Ne)):l.o.notification.K("Loop "+(l.Ub?"Off":"On"),40,!0));return[l.Ub]};n.prototype.AD=function(a,h,l){h&&l.ze&&(l.Mf=!a[0]);return[l.Mf]};n.prototype.DD=function(a,h,l){h&&-1!==l.pJ&&(l.te=!a[0]);
return[l.te]};n.prototype.Iy=function(a,h,l){h&&(l.jd?(l.Ne=!a[0],l.zz(l.Ne),-1!==l.Fa?(l.Ub=l.Ne,l.o.notification.K("Loop and Track "+(l.Ub?"Off":"On"),40,!0)):l.o.notification.K("Track "+(l.Ne?"Off":"On"),40,!0)):l.Fc&&(l.ue=!a[0],l.ue&&(l.o.notification.clear(!1,!1),l.Ap=""),-1!==l.Fa?(l.Ub=l.ue,l.o.notification.K("Loop and Waypoints "+(l.Ub?"Off":"On"),40,!0)):l.o.notification.K("Waypoints "+(l.ue?"Off":"On"),40,!0)));return l.jd?[l.Ne]:[l.ue]};n.prototype.ro=function(a,h,l){h&&(l.aa=a[0],l.aa?
(l.Sc.length&&l.$g(u.Zx,l),l.Ac.current[0]&&(l.Ac.current=l.Bq([!1],!0,l))):(l.$g(u.wk,l),l.aa=0));return[l.aa]};n.prototype.sD=function(a,h,l){h&&(l.Wj=a[0]);return[l.Wj]};n.prototype.Jt=function(a,h,l){h&&(l.Eg=a[0],l.Eg&&(l.a.ea?0<l.a.v&&-1===l.a.g&&(--l.a.v,l.a.gf(!0,l.Je,l.xc,l.fc),l.lj()):(l.a.sa=0,l.a.lc=0,l.a.ed=0)));l.o.Th(!0);return[l.Eg]};n.prototype.pt=function(a,h){1<a.Nb&&(a.Nb-=h,1>a.Nb&&(a.Nb=1))};n.prototype.ot=function(a,h){a.Nb<a.Sc.length-a.Qc+1&&(a.Nb+=h,a.Nb>a.Sc.length-a.Qc+
1&&(a.Nb=a.Sc.length-a.Qc+1))};n.prototype.rt=function(a,h){1<a.aa&&(a.aa-=h,1>a.aa&&(a.aa=1))};n.prototype.qt=function(a,h){a.aa<a.On-a.Qc&&(a.aa+=h,a.aa>a.On-a.Qc&&(a.aa=a.On-a.Qc))};n.prototype.jH=function(a){for(var h=a.W.length-1,l=!1;0<=h&&!l;)a.aa<=a.W[h][0]?--h:l=!0;l&&(a.aa=a.W[h][0])};n.prototype.KG=function(a){for(var h=0,l=!1;h<a.W.length&&!l;)a.aa>=a.W[h][0]?h+=1:l=!0;l&&(a.aa=a.W[h][0])};n.prototype.QH=function(a){for(;this.a.v<a-1;)this.a.ea?(this.a.gf(!1,!1,this.xc,this.fc),0===this.a.ea&&
2<this.a.g||this.a.tf(),0===this.a.ea&&2>=this.a.g&&(this.a.ea=1,this.a.gf(!1,!1,this.xc,this.fc),--this.a.v)):(this.a.v+=1,this.a.tf()),this.lj();this.a.v<a&&(this.a.ea?(this.a.gf(this.Eg,!1,this.xc,this.fc),0===this.a.ea&&2<this.a.g||this.a.tf(),0===this.a.ea&&2>=this.a.g&&(this.a.ea=1,this.a.gf(!1,!1,this.xc,this.fc),--this.a.v)):(this.a.v+=1,this.a.tf()),this.lj());this.elapsedTime=this.pb[a];this.Qh=this.bb=a};n.prototype.gq=function(a){var h=this.I+(0<this.a.g?this.a.g:0);this.Je?this.o.notification.K("Step back disabled",
40,!0):this.o.yx&&(this.o.yx=!1,0>a&&(a=0),this.elapsedTime=this.pb[a],this.Qh=this.bb=a,-1!==this.bj&&a>this.bj+h?this.a.v=a:this.a.gq(a,this.Eg,this.xc,this),this.N.sI(this.elapsedTime),this.pg=!0,a!==this.a.v&&(this.Tl=!0,this.bv=a,this.a.lt(!1),this.o.notification.K("Computing previous generations",1E4,!0),this.av=!0))};n.prototype.Sv=function(a){a.style.width="2em";a.style.height="2em";a.style.padding=0;a.style.cJ="none";a.style.outline="none";a.style.boxShadow="none";a.style.background="transparent";
a.style.position="fixed";a.style.left="-100px";a.style.top="0px"};n.prototype.fr=function(a,h,l){var v="textarea";a.tq=h;a.wj=0;a.Lm=h.length;if(l){var x=performance.now()-a.er;x<u.ME&&a.Lm<u.KE?l=!1:a.ks||(v="div")}a.Km=document.createElement("div");a.Km.contentEditable=!0;a.Sv(a.Km);a.El=document.createElement(v);a.Sv(a.El);a.El.contentEditable=!0;a.Km.appendChild(a.El);document.body.appendChild(a.Km);l?(a.cv=u.NE,a.o.notification.K("Copying...",1E4,!0),a.Go=!0,a.cr=!1,a.i.locked=!0):(a.El.innerHTML=
h,a.Xz(a,l))};n.prototype.Xz=function(a,h){a.ks?a.El.focus():a.Km.focus();try{document.execCommand("selectAll"),document.execCommand("copy")}catch(l){}document.body.removeChild(a.Km);a.tq="";a.nc.canvas.focus();a.o.notification.K("Copied to external clipboard",180,!0);h&&(a.Go=!1,a.i.locked=!1);a.er=-1};n.prototype.li=function(a){var h=ColourManager.De,l=Object.keys(h),v=a.red,x=a.green;a=a.blue;for(var t="",A=!1,z=null,B=0;B<l.length&&!A;)z=h[l[B]],z[1]===v&&z[2]===x&&z[3]===a?(A=!0,B=l.length):
B+=1;A?t=z[0]:t=v+" "+x+" "+a;return t};n.prototype.cn=function(a,h){return a.red===h.red&&a.green===h.green&&a.blue===h.blue};n.prototype.Yz=function(a,h){var l="#C "+Keywords.ql+" ",v=String(-(a.a.width/2-a.a.pa-a.a.Db|0)),x=String(-(a.a.height/2-a.a.ka-a.a.wb|0)),t=a.a.zoom,A=a.a.angle|0,z=a.a.$a[a.a.sf];0!==a.a.v&&(l+=Keywords.qq+a.a.v+" ");l+=Keywords.Qe+" "+v+" "+Keywords.Re+" "+x+" ";l+=Keywords.zd+" "+(t===(t|0)?String(t):String(t.toFixed(2)))+" ";l+=Keywords.Dk+" "+A+" ";l+=Keywords.eo+"\n";
if(h){l+="#C "+Keywords.ql+" ";if(a.Og){if(2<a.a.g){if(l+=Keywords.Ea+" "+Keywords.zt+" "+a.li(z.Zh),l+=" "+Keywords.Ea+" "+Keywords.yt+" "+a.li(z.Kf),a.cn(z.mc.P,z.Zh)||(l+=" "+Keywords.Ea+" "+Keywords.Bt+" "+a.li(z.mc.P)),a.cn(z.mc.O,z.mc.P)||(l+=" "+Keywords.Ea+" "+Keywords.At+" "+a.li(z.mc.O)),z.Mk||(l+=" "+Keywords.Ea+" "+Keywords.xy+" "+a.li(z.Bb.P)),z.Mk||!a.cn(z.Bb.O,z.Bb.P))l+=" "+Keywords.Ea+" "+Keywords.wy+" "+a.li(z.Bb.O)}else l+=Keywords.Ea+" "+Keywords.zt+" "+a.li(z.Na),l+=" "+Keywords.Ea+
" "+Keywords.yt+" "+a.li(z.Ua.O),a.cn(z.Ua.O,z.Ua.P)||(l+=" "+Keywords.Ea+" "+Keywords.vy+" "+a.li(z.Ua.P)),a.cn(z.Oa.P,z.Na)||(l+=" "+Keywords.Ea+" "+Keywords.Bt+" "+a.li(z.Oa.P)),a.cn(z.Oa.O,z.Oa.P)||(l+=" "+Keywords.Ea+" "+Keywords.At+" "+a.li(z.Oa.O));l+=" "+Keywords.eo+"\n#C "+Keywords.ql+" "}l+=Keywords.rk+" "+z.name+" ";a.I!==a.ts&&(l+=Keywords.bs+" "+a.I+" ");l+=Keywords.uo+" "+a.D+" ";l+=Keywords.xn+" "+a.C+" ";l+=Keywords.eo+"\n"}a.fr(a,l,!1)};n.prototype.Vx=function(a){a.element.innerHTML=
a.a.Nu(a,a.a,!0);a.element.value=a.element.innerHTML};n.prototype.Io=function(a,h){a.er=performance.now();w.Ca?a.fr(a,y.Xd[a.Ec].pattern,h):a.fr(a,f(a.element),h)};n.prototype.dr=function(a,h){a.er=performance.now();a.fr(a,a.a.Nu(a,a.a,h),!0)};n.prototype.St=function(a,h){var l=h.charCode||h.keyCode;if(a.Tl?KeyProcessor.mH(a,l,h):a.Go?KeyProcessor.lH(a,l,h):KeyProcessor.kH(a,l,h))a.o.Th(!0),h.preventDefault()};n.prototype.zD=function(){this.a.ib?(this.Fb.setPosition(Menu.rb,-85,-130),this.fa.setPosition(Menu.rb,
-130,-130),this.fa.w="random fill",this.Mb.setPosition(Menu.rb,-235,-130)):2>=this.a.g?(this.Fb.setPosition(Menu.rb,-40,-130),this.fa.setPosition(Menu.rb,-85,-130),this.fa.w="random fill",this.Mb.setPosition(Menu.rb,-190,-130)):(this.Fb.setPosition(Menu.rb,-40,-130),this.fa.setPosition(Menu.rb,-130,-130),this.fa.w="random multi-state fill",this.ge.setPosition(Menu.rb,-85,-130),this.Mb.setPosition(Menu.rb,-235,-130))};n.prototype.aE=function(){if(this.C<u.$k)this.kg.setPosition(Menu.Wc,10,50),this.lg.setPosition(Menu.da,
0,50),this.jg.setPosition(Menu.$b,-160,50),this.mg.setPosition(Menu.Wc,10,100),this.ig.setPosition(Menu.da,0,100),this.Qf.setPosition(Menu.$b,-160,100),0<this.N.Nn()?(this.ce.setPosition(Menu.Wc,10,150),this.hg.setPosition(Menu.$b,-160,150)):this.ce.setPosition(Menu.da,0,150);else{var a=0<this.N.Nn()?-175:-150;this.kg.setPosition(Menu.ob,0,a);this.lg.setPosition(Menu.ob,0,a+50);this.jg.setPosition(Menu.ob,0,a+100);this.mg.setPosition(Menu.ob,0,a+150);this.ig.setPosition(Menu.ob,0,a+200);this.Qf.setPosition(Menu.ob,
0,a+250);this.ce.setPosition(Menu.ob,0,a+300);this.hg.setPosition(Menu.ob,0,a+350)}};n.prototype.TI=function(){var a="white",h="black",l="rgb(0,240,32)",v="blue",x="grey",t="white";var A=this.ia[u.Ro];-1!==A?(a="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")",this.R.gt=!0,this.R.Kx=this.a.Lh?-16777216|(A&255)<<16|(A>>8&255)<<8|A>>16:A>>16<<24|(A>>8&255)<<16|(A&255)<<8|255):(this.R.gt=!0,A=16777215,this.R.Kx=this.a.Lh?-16777216|(A&255)<<16|(A>>8&255)<<8|A>>16:A>>16<<24|(A>>8&255)<<16|(A&255)<<8|255);
A=this.ia[u.Po];-1!==A?h="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")":A=0;this.Vm=A;A=this.ia[u.So];-1!==A&&(l="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")");A=this.ia[u.Uo];-1!==A&&(v="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")");A=this.ia[u.To];-1!==A?x="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")":A=8421504;this.R.wA=this.a.Lh?-16777216|(A&255)<<16|(A>>8&255)<<8|A>>16:A>>16<<24|(A>>8&255)<<16|(A&255)<<8|255;A=this.ia[u.Qo];-1!==A&&(t="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")");this.o.kq(a,
h,l,v,x,t)};n.prototype.mu=function(){var a,h=0;this.i=this.o.TE(this.BE,this.kz,this);this.i.tv=this.AF;this.i.nz=this.pG;this.og=this.i.qa(Menu.da,-160,100,160,32,"Type");this.Kj=this.i.qa(Menu.da,-160,140,160,32,"Cells");this.Jj=this.i.qa(Menu.da,-160,180,160,32,"Bounding Box");this.Lj=this.i.qa(Menu.da,-160,240,160,32,"Direction");this.Ym=this.i.qa(Menu.da,-160,280,160,32,"Period");this.Zm=this.i.qa(Menu.da,-160,320,160,32,"Slope");this.$m=this.i.qa(Menu.da,-160,360,160,32,"Speed");this.Ak=this.i.qa(Menu.da,
-160,400,160,32,"Heat");this.Wm=this.i.qa(Menu.da,-160,440,160,32,"Volatility");this.Xm=this.i.qa(Menu.da,-160,460,160,32,"Mod");this.Ij=this.i.qa(Menu.da,-160,500,160,32,"Active Cells");this.an=this.i.qa(Menu.da,-160,540,160,32,"Temperature");this.kp=this.i.qa(Menu.da,80,100,320,32,"");this.gp=this.i.qa(Menu.da,80,140,320,32,"");this.cs=this.i.qa(Menu.da,80,180,320,32,"");this.ds=this.i.qa(Menu.da,80,220,320,32,"");this.gs=this.i.qa(Menu.da,80,260,320,32,"");this.hs=this.i.qa(Menu.da,80,300,320,
32,"");this.ip=this.i.qa(Menu.da,80,340,320,32,"");this.hp=this.i.qa(Menu.da,80,380,320,32,"");this.Xv=this.i.qa(Menu.da,80,420,320,32,"");this.fs=this.i.qa(Menu.da,80,460,320,32,"");this.fp=this.i.qa(Menu.da,80,500,320,32,"");this.jp=this.i.qa(Menu.da,80,540,320,32,"");this.wg=this.i.qa(Menu.Wc,0,40,16,20,"X");this.wg.La(u.Bg);this.wg.uq=Menu.me;this.xg=this.i.qa(Menu.Wc,70,40,16,20,"Y");this.xg.La(u.Bg);this.xg.uq=Menu.me;this.tg=this.i.qa(Menu.Wc,140,40,16,20,"A");this.tg.La(u.Bg);this.tg.uq=Menu.me;
this.pd=this.i.qa(Menu.Wc,16,40,54,20,"");this.pd.La(u.Bg);this.pd.textAlign=Menu.right;this.pd.w="camera X position";this.qd=this.i.qa(Menu.Wc,86,40,54,20,"");this.qd.La(u.Bg);this.qd.textAlign=Menu.right;this.qd.w="camera Y position";this.Hc=this.i.qa(Menu.Wc,156,40,40,20,"");this.Hc.La(u.Bg);this.Hc.textAlign=Menu.right;this.Hc.w="camera angle";this.bn=this.i.qa(Menu.Wc,196,40,4,20,"");this.bi=this.i.qa(Menu.$b,-280,40,20,20,"E");this.bi.La(u.Bg);this.di=this.i.qa(Menu.$b,-210,40,20,20,"S");this.di.La(u.Bg);
this.ei=this.i.qa(Menu.$b,-140,40,20,20,"W");this.ei.La(u.Bg);this.ci=this.i.qa(Menu.$b,-70,40,20,20,"N");this.ci.La(u.Bg);this.dd=this.i.qa(Menu.$b,-260,40,50,20,"");this.dd.La(u.Bg);this.dd.textAlign=Menu.right;this.dd.w="bounding box east edge velocity";this.nd=this.i.qa(Menu.$b,-190,40,50,20,"");this.nd.La(u.Bg);this.nd.textAlign=Menu.right;this.nd.w="bounding box south edge velocity";this.od=this.i.qa(Menu.$b,-120,40,50,20,"");this.od.La(u.Bg);this.od.textAlign=Menu.right;this.od.w="bounding box west edge velocity";
this.md=this.i.qa(Menu.$b,-50,40,50,20,"");this.md.La(u.Bg);this.md.textAlign=Menu.right;this.md.w="bounding box north edge velocity";this.Nl=this.i.Ta(this.AD,Menu.$b,-210,0,38,20,["START"],[!1],Menu.Ca);this.Nl.La(u.tt);this.Nl.w=["autostart"];this.Cl=this.i.Ta(this.DD,Menu.$b,-210,20,38,20,["STOP"],[!1],Menu.Ca);this.Cl.La(u.tt);this.Cl.w=["stop"];this.Hg=this.i.Ta(this.Iy,Menu.$b,-172,0,38,20,["WAYPT"],[!1],Menu.Ca);this.Hg.La(u.tt);this.Hg.w=["toggle waypoint mode"];this.Yk=this.i.Ta(this.BD,
Menu.$b,-172,20,38,20,["LOOP"],[!1],Menu.Ca);this.Yk.La(u.tt);this.Yk.w=["toggle loop mode"];this.Gd=this.i.Ta(this.Ej,Menu.Wc,90,0,120,40,["","",""],u.bl,Menu.wl);this.Gd.icon=[this.R.icon("draw"),this.R.icon("select"),this.R.icon("pan")];this.Gd.w=["draw","select","pan"];this.Z=this.i.Ta(this.GF,Menu.$b,-80,100,80,60,["1","2"],0,Menu.wl);this.Z.orientation=Menu.vertical;this.Z.w=["",""];this.Z.La("14px Arial");this.Zj=this.i.Ta(this.ro,Menu.$b,-40,0,40,40,["Help"],[!1],Menu.Ca);this.Zj.w=["toggle help display"];
this.Zj.La("16px Arial");this.Ri=this.i.Ja(this.YD,Menu.$b,-40,50,40,["^"]);this.Ri.w=["show help topics"];this.ii=this.i.Ja(this.vI,Menu.$b,-40,100,40,["<"]);this.ii.w=["show help sections"];this.kg=this.i.Ja(this.Cu,Menu.da,0,50,150,["Keys"]);this.kg.w=["show keyboard shortcuts"];this.lg=this.i.Ja(this.Xx,Menu.da,0,100,150,["Scripts"]);this.lg.w=["show script commands"];this.jg=this.i.Ja(this.Bu,Menu.da,0,150,150,["Info"]);this.jg.w=["show pattern and engine information"];this.mg=this.i.Ja(this.bJ,
Menu.da,0,200,150,["Themes"]);this.mg.w=["show colour Themes"];this.ig=this.i.Ja(this.bu,Menu.da,0,250,150,["Colours"]);this.ig.w=["show colour names"];this.Qf=this.i.Ja(this.Tt,Menu.da,0,300,150,["Aliases"]);this.Qf.w=["show rule aliases"];this.ce=this.i.Ja(this.Ru,Menu.da,0,350,150,["Memory"]);this.ce.w=["show memory usage"];this.hg=this.i.Ja(this.Vt,Menu.da,0,350,150,["Annotations"]);this.hg.w=["show annotations"];this.mi=this.i.Ta(this.VC,Menu.Wc,0,0,40,40,["Auto"],[!1],Menu.Ca);this.mi.icon=
[this.R.icon("autofit")];this.mi.w=["toggle autofit"];this.mi.La("16px Arial");this.Uj=this.i.Ja(this.qu,Menu.Wc,45,0,40,"");this.Uj.icon=this.R.icon("fit");this.Uj.w="fit pattern to display";this.Eh=this.i.Ta(this.qo,Menu.$b,-85,0,40,40,["Grid"],[!1],Menu.Ca);this.Eh.icon=[this.R.icon("grid")];this.Eh.w=["toggle gridlines"];this.Eh.La("16px Arial");this.zg=this.i.fE();this.zg.locked=!0;this.em=this.i.qa(Menu.Ki,0,-130,42,30,"Gen");this.em.textAlign=Menu.left;this.em.La(u.Dg);this.em.w="generation";
this.yf=this.i.qa(Menu.Ki,42,-130,98,30,"");this.yf.textAlign=Menu.right;this.yf.La(u.Dg);this.yf.w="generation";this.ye=this.i.qa(Menu.Ki,0,-100,70,30,"Time");this.ye.textAlign=Menu.left;this.ye.La(u.Dg);this.ye.w="elapsed time";this.am=this.i.qa(Menu.Ki,70,-100,70,30,"");this.am.textAlign=Menu.right;this.am.La(u.Dg);this.am.w="elapsed time";this.jc=this.i.qa(Menu.Ki,166,-70,130,30,"");this.jc.textAlign=Menu.left;this.jc.La(u.Dg);this.jc.w="selection size";this.la=this.i.qa(Menu.Ki,0,-70,166,30,
"");this.la.textAlign=Menu.left;this.la.La(u.Dg);this.la.w="cell state at cursor position";this.He=this.i.Ta(this.Jt,Menu.Ki,0,-40,100,40,[""],[this.Eg],Menu.Ca);this.He.w=["toggle generation statistics\ngeneration "+(this.a.v+this.Ch)];this.eb=this.i.qa(Menu.Ki,0,-40,this.D-40,40,"");this.eb.textAlign=Menu.left;this.eb.f=!0;this.ee=this.i.qa(Menu.rb,-140,-130,70,30,"Alive");this.ee.textAlign=Menu.left;this.ee.La(u.Dg);this.ee.w="current population";this.kl=this.i.qa(Menu.rb,-70,-130,70,30,"");this.kl.textAlign=
Menu.right;this.kl.La(u.Dg);this.kl.w="alive";this.wa=this.i.qa(Menu.rb,-140,-100,70,30,"Births");this.wa.textAlign=Menu.left;this.wa.La(u.Dg);this.wa.w="cells born this generation";this.Xi=this.i.qa(Menu.rb,-70,-100,70,30,"");this.Xi.textAlign=Menu.right;this.Xi.La(u.Dg);this.Xi.w="births";this.be=this.i.qa(Menu.rb,-140,-70,70,30,"Deaths");this.be.textAlign=Menu.left;this.be.La(u.Dg);this.be.w="cells died this generation";this.Jk=this.i.qa(Menu.rb,-70,-70,70,30,"");this.Jk.textAlign=Menu.right;this.Jk.La(u.Dg);
this.Jk.w="deaths";this.ic=this.i.qa(Menu.Ki,0,-160,140,30,this.Yc);this.ic.La(u.Dg);this.rc=this.i.Ti(this.Fj,Menu.da,0,0,u.vz,40,0,1,.1,"Zoom ","",1);this.rc.w="camera zoom";this.Fd=this.i.Ti(this.Kq,Menu.qz,30,0,40,292,u.us,u.zs,1,"Layers ","",0);this.Fd.w="number of layers";this.Kc=this.i.Ti(this.vk,Menu.zv,-70,0,40,292,1,0,.1,"Depth ","",2);this.Kc.w="depth between layers";this.sd=this.i.Ti(this.Jq,Menu.da,0,50,390,40,0,359,0,"Angle ","\u00b0",0);this.sd.w="camera angle";this.Ig=this.i.Ja(this.$I,
Menu.rb,-40,-90,40,"");this.Ig.icon=this.R.icon("shrink");this.Ig.w="shrink to thumbnail";this.ki=this.i.qa(Menu.da,0,100,120,40,"");this.Tk=this.i.Ta(this.nD,Menu.ob,-100,-75,180,40,["Hexagons"],[this.a.$d],Menu.Ca);this.Tk.w=["toggle hexagonal cells"];this.Co=this.i.Ta(this.kD,Menu.ob,100,-75,180,40,["Cell Borders"],[this.a.Pd],Menu.Ca);this.Co.w=["toggle cell borders"];this.fj=this.i.Ta(this.rD,Menu.ob,-100,-25,180,40,["Major GridLines"],[this.a.Yj],Menu.Ca);this.fj.w=["toggle major gridlines"];
this.ko=this.i.Ta(this.tD,Menu.ob,100,-25,180,40,["Starfield"],[this.Li],Menu.Ca);this.ko.w=["toggle starfield display"];this.Wk=this.i.Ta(this.qD,Menu.ob,-100,25,180,40,["Annotations"],[this.Uh],Menu.Ca);this.Wk.w=["toggle annotations"];this.fe=this.i.Ta(this.gG,Menu.ob,100,25,180,40,["[R]History"],[this.a.vf],Menu.Ca);this.fe.w=["toggle [R]History display"];this.dn=this.i.Ta(this.jD,Menu.ob,-100,75,180,40,["Auto GridLines"],[this.rh],Menu.Ca);this.dn.w=["automatically turn on gridlines for Draw and Select and off for Pan"];
this.Kl=this.i.Ta(this.iD,Menu.ob,100,75,180,40,["Alt GridLines"],[this.a.Jl],Menu.Ca);this.Kl.w=["toggle alternating gridlines"];this.An=this.i.Ta(this.oD,Menu.ob,-100,-50,180,40,["AutoFit History"],[this.Fh],Menu.Ca);this.An.w=["toggle AutoFit History"];this.Fl=this.i.Ta(this.Hy,Menu.ob,100,-50,180,40,["Throttle"],[this.Gk],Menu.Ca);this.Fl.w=["toggle playback throttling"];this.ul=this.i.Ta(this.Fy,Menu.ob,-100,0,180,40,["Perf. Warning"],[this.Fi],Menu.Ca);this.ul.w=["toggle performance warning display"];
this.de=this.i.Ta(this.OF,Menu.ob,100,0,180,40,["Kill Gliders"],[this.a.oi],Menu.Ca);this.de.w=["toggle kill escaping gliders"];this.Te=this.i.Ta(this.eF,Menu.ob,0,50,180,40,["AutoHide UI"],[this.dj],Menu.Ca);this.Te.w=["toggle hide UI on playback"];this.tn=this.i.Ja(this.zx,Menu.ob,0,-125,180,"Change Rule");this.tn.w="change rule";this.nn=this.i.Ja(this.jv,Menu.ob,0,-75,180,"New Pattern");this.nn.w="new pattern";this.gn=this.i.Ja(this.Pu,Menu.ob,0,-25,180,"Load Pattern");this.gn.w="load last saved pattern";
this.wn=this.i.Ja(this.Jx,Menu.ob,0,25,180,"Save Pattern");this.wn.w="save pattern";this.bq=this.i.Ja(this.vw,Menu.ob,0,75,180,"Randomize");this.bq.w="randomize pattern and rule";this.Bn=this.i.Ja(this.Wv,Menu.ob,0,125,180,"Identify");this.Bn.w=["identify oscillator or spaceship period"];this.sn=this.i.Ta(this.to,Menu.ob,0,-75,180,40,["Frame Times"],[this.o.vl],Menu.Ca);this.sn.w=["toggle timing display"];this.yq=this.i.Ta(this.mz,Menu.ob,0,-25,180,40,["Timing Details"],[this.o.tl],Menu.Ca);this.yq.w=
["toggle timing details"];this.Cn=this.i.Ta(this.pD,Menu.ob,0,25,180,40,["Display Info Bar"],[this.Mc],Menu.Ca);this.Cn.w=["toggle Information Bar"];this.bo=this.i.Ta(this.sD,Menu.ob,0,75,180,40,["Relative Gen"],[this.Wj],Menu.Ca);this.bo.w=["toggle absolute/relative generation display"];this.ih=this.i.Ja(this.Vv,Menu.jo,-135,-90,120,"Prev");this.ih.w="go to previous universe";this.Zg=this.i.Ja(this.Av,Menu.jo,135,-90,120,"Next");this.Zg.w="go to next universe";this.T=this.i.Ja(this.pu,Menu.rb,-40,
-85,40,"Esc");this.T.w="close errors";this.T.La("16px Arial");this.gh=this.i.Ja(this.hC,Menu.qz,10,0,40,"<");this.gh.w="go to previous POI";this.Xg=this.i.Ja(this.uB,Menu.zv,-50,0,40,">");this.Xg.w="go to next POI";this.Qn=this.i.Ti(this.It,Menu.da,0,45,172,40,0,1,this.Zc,"Opacity ","%",0);this.Qn.w="graph opacity";this.Kn=this.i.Ta(this.WC,Menu.$b,-85,45,40,40,[""],[!1],Menu.Ca);this.Kn.icon=[this.R.icon("lines")];this.Kn.w=["toggle graph lines/points"];this.Hj=this.i.Ja(this.yu,Menu.$b,-40,45,40,
"X");this.Hj.w="close graph";this.Vg=this.i.Ta(this.zj,Menu.Wc,0,45,40,40,[""],[this.mj],Menu.Ca);this.Vg.icon=[this.R.icon("pick")];this.Vg.w=["pick state"];this.Jg=this.i.Ta(this.Lt,Menu.Wc,45,45,40,40,[""],[this.nq],Menu.Ca);this.Jg.icon=[this.R.icon("states")];this.Jg.w=["toggle states display"];this.gi=this.i.Ta(this.CD,Menu.Wc,90,45,40,40,[""],[this.Ms],Menu.Ca);this.gi.icon=[this.R.icon("drawpause")];this.gi.w=["toggle pause playback while drawing"];this.io=this.i.Ta(this.Gy,Menu.Wc,135,45,
40,40,[""],[this.Gm],Menu.Ca);this.io.icon=[this.R.icon("smart")];this.io.w=["toggle smart drawing"];this.Ac=this.i.Ta(this.Bq,Menu.rb,-40,-40,40,40,[""],[!1],Menu.Ca);this.Ac.icon=[this.R.icon("menu")];this.Ac.w=["toggle settings menu"];this.fh=this.i.Ja(this.Hv,Menu.ob,0,-125,150,"Pattern");this.fh.w="pattern settings";this.nb=this.i.Ja(this.Xq,Menu.jo,0,-100,120,"Back");this.nb.w="";this.xj=this.i.Ja(this.aJ,Menu.ob,0,-75,150,"Theme");this.xj.w="choose colour theme";this.Pk=this.i.Ta(this.hz,Menu.ob,
0,-25,150,40,["Graph"],[this.Bc],Menu.Ca);this.Pk.w=["toggle population graph display"];this.Wg=this.i.Ja(this.Au,Menu.ob,0,25,150,"Advanced");this.Wg.w="advanced settings";this.rf=this.i.Ja(this.nu,Menu.ob,0,75,150,"Display");this.rf.w="display settings";this.hi=this.i.Ja(this.Ov,Menu.ob,0,125,150,"Playback");this.hi.w="playback settings";var l=-1;for(a=0;a<=this.a.pe;a+=1){var v=u.vq[a];var x=u.zI[a];x!==l?(h=120,l=x):h+=60;this.A[a]=this.i.Ta(null,Menu.da,140*x-210,h,120,40,[this.Ct(v)],[!1],Menu.Ca);
this.A[a].w=["select "+this.Ct(v)+" theme"];this.A[a].La("20px Arial")}this.A[0].jb=this.ED;this.A[1].jb=this.FD;this.A[2].jb=this.QD;this.A[3].jb=this.RD;this.A[4].jb=this.SD;this.A[5].jb=this.TD;this.A[6].jb=this.UD;this.A[7].jb=this.VD;this.A[8].jb=this.WD;this.A[9].jb=this.XD;this.A[10].jb=this.GD;this.A[11].jb=this.HD;this.A[12].jb=this.ID;this.A[13].jb=this.JD;this.A[14].jb=this.KD;this.A[15].jb=this.LD;this.A[16].jb=this.MD;this.A[17].jb=this.ND;this.A[18].jb=this.OD;this.A[19].jb=this.PD;
this.ft=this.i.qa(Menu.da,-210,60,120,40,"Default");this.Ns=this.i.qa(Menu.da,-70,60,120,40,"Classic");this.nt=this.i.qa(Menu.da,70,60,120,40,"Program");this.Ws=this.i.qa(Menu.da,210,60,120,40,"Basic");this.Cb=this.i.Ti(this.hh,Menu.rb,-365,-40,75,40,0,1,0,"","",-1);this.Cb.w="steps per second";this.Uc=this.i.Ti(this.Qi,Menu.rb,-285,-40,75,40,u.qm,u.ff,1,"x","",0);this.Uc.w="generations per step";this.we=this.i.qa(Menu.rb,-285,-60,75,20,0);this.we.La(u.Dg);this.we.f=!0;this.Cj=this.i.Ja(this.ZD,Menu.rb,
-455,-40,40,"");this.Cj.icon=this.R.icon("undo");this.Cj.w="undo";this.rd=this.i.Ja(this.Mw,Menu.rb,-410,-40,40,"");this.rd.icon=this.R.icon("redo");this.rd.w="redo";this.jn=this.i.Ta(this.gz,Menu.$b,-130,0,40,40,["Sync"],[this.aj],Menu.Ca);this.jn.w=["sync cut and copy with external clipboard"];this.jn.La("15px Arial");this.mb=this.i.Ta(this.kd,Menu.rb,-205,-40,160,40,["","","",""],u.oe,Menu.wl);this.mb.icon=[this.R.icon("tostart"),this.R.icon("stepback"),this.R.icon("stepforward"),this.R.icon("play")];
this.mb.w=["reset","previous generation","next generation","play"];this.fd=this.i.Ta(this.lz,Menu.$b,-280,45,280,20,"0123456".split(""),this.Of,Menu.wl);this.fd.w="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.fd.La("14px Arial");this.h=this.i.Ta(this.oG,Menu.$b,-280,65,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,!1,!1],Menu.Ca);this.h.w="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.h.ie=1;this.ji=this.i.Ti(this.Qt,Menu.Wc,180,45,100,40,0,1,0,"","",-1);this.ji.w=
"select drawing states range";this.oh=this.i.Ja(this.IC,Menu.Wc,0,45,40,"All");this.oh.icon=this.R.icon("select");this.oh.w="select all cells";this.oh.La("16px Arial");this.Ml=this.i.Ta(this.fz,Menu.Wc,45,45,40,40,["Auto"],[this.Ui],Menu.Ca);this.Ml.icon=[this.R.icon("autoshrink")];this.Ml.w=["toggle auto shrink selection"];this.Ml.La("16px Arial");this.om=this.i.Ta(null,Menu.Wc,90,45,40,40,[""],[!1],Menu.Ca);this.om.icon=[this.R.icon("selectlibrary")];this.om.w=["clipboard library"];this.Ho=this.i.Ta(this.lD,
Menu.da,0,90,400,40,"0123456789".split(""),this.Mg,Menu.wl);this.gr();this.wm=this.i.Ta(this.iz,Menu.$b,-160,45,160,40,["AND","CPY","OR","XOR"],this.Gv,Menu.wl);this.wm.w=["paste mode","paste mode","paste mode","paste mode"];this.wm.La("16px Arial");this.We=this.i.Ja(this.dA,Menu.Wc,135,45,40,"");this.We.icon=this.R.icon("cut");this.We.w="cut";this.Se=this.i.Ja(this.ku,Menu.Wc,180,45,40,"");this.Se.icon=this.R.icon("copy");this.Se.w="copy";this.dh=this.i.Ja(this.XB,Menu.Wc,225,45,40,"");this.dh.icon=
this.R.icon("paste");this.dh.w="paste";this.Nf=this.i.Ja(this.mA,Menu.rb,-265,-85,40,"");this.Nf.icon=this.R.icon("flipx");this.Nf.w="flip horizontally";this.Pf=this.i.Ja(this.nA,Menu.rb,-220,-85,40,"");this.Pf.icon=this.R.icon("flipy");this.Pf.w="flip vertically";this.mh=this.i.Ja(this.xC,Menu.rb,-175,-85,40,"");this.mh.icon=this.R.icon("rotatecw");this.mh.w="rotate clockwise";this.kh=this.i.Ja(this.wC,Menu.rb,-130,-85,40,"");this.kh.icon=this.R.icon("rotateccw");this.kh.w="rotate counter-clockwise";
this.Ve=this.i.Ja(this.Zt,Menu.rb,-85,-85,40,"");this.Ve.icon=this.R.icon("inside");this.Ve.w="clear cells in selection";this.Ue=this.i.Ja(this.Xt,Menu.rb,-40,-85,40,"");this.Ue.icon=this.R.icon("outside");this.Ue.w="clear cells outside selection";this.Jd=this.i.Ja(this.Yt,Menu.rb,-40,-130,40,"R");this.Jd.icon=this.R.icon("select");this.Jd.w="clear [R]History cells";this.Jd.La("16px Arial");this.Fb=this.i.Ja(this.HA,Menu.rb,-85,-130,40,"");this.Fb.icon=this.R.icon("invertselection");this.Fb.w="invert cells in selection";
this.fa=this.i.Ja(this.sw,Menu.rb,-130,-130,40,"");this.fa.icon=this.R.icon("random");this.fa.w="random fill";this.ge=this.i.Ja(this.ew,Menu.rb,-175,-130,40,"2");this.ge.icon=this.R.icon("random");this.ge.w="random 2-state fill";this.Mb=this.i.Ti(this.Pt,Menu.rb,-275,-130,100,40,1,100,this.Am,"","%",0);this.Mb.w="random fill density";this.ym=this.i.Ti(this.jz,Menu.$b,-265,45,100,40,0,u.wB-1,this.Xf,"","",-1);this.ym.w="paste location";this.ym.La("16px Arial");this.qf=this.i.Ja(this.rv,Menu.rb,-40,
-85,40,"");this.qf.icon=this.R.icon("uturn");this.qf.w="reverse playback direction";this.om.Oq([this.Ho]);this.Ac.Oq([this.ki,this.Fd,this.Kc,this.sd,this.nb,this.xj,this.fh,this.Wg,this.rf,this.hi,this.Fl,this.ul,this.Ig,this.T,this.Te,this.dn,this.Kl,this.Tk,this.Co,this.Wk,this.de,this.Pk,this.sn,this.yq,this.Cn,this.ko,this.An,this.fj,this.ih,this.Zg,this.fe]);this.He.Oq([this.ee,this.kl,this.wa,this.Xi,this.be,this.Jk,this.em,this.yf,this.ye,this.am,this.ic]);this.Zj.Oq([this.Z,this.Ri,this.ii])};
n.prototype.Wt=function(a){var h=this,l=0,v=0;this.yc=a;this.yc.getContext&&(l=this.yc.width,v=this.yc.height,l!==this.gj&&w.Bp&&(l=this.gj),l<u.wd&&(l=u.wd),v<u.ck&&(v=u.ck),l&=-8,this.yc.width!==l&&(this.yc.width=l),this.yc.height!==v&&(this.yc.height=v),this.nc=this.yc.getContext("2d",{alpha:!1}),this.nc.globalAlpha=1,this.nc.fillStyle="black",this.nc.imageSmoothingEnabled=!1,this.nc.fillRect(0,0,this.yc.width,this.yc.height),this.nc.textAlign="left",this.nc.textBaseline="middle",this.D=this.yc.width,
this.C=this.yc.height,this.a=new Life(this.nc,this.D,this.C,512,512,this.na),this.a.iG(this.nc,this.D,this.C),this.pb=this.a.l.F(Float32,u.vB,"View.elapsedTimes"),this.nk=new Stars(u.Fs,this.a.l),this.lu(this.nc),this.o=new MenuManager(this.yc,this.nc,"24px Arial",this.R,this,this.xu),this.o.vl=!1,this.a.QE(),this.mu(),this.qn=this.mb.pl,this.Gj=this.Cb.pl,this.ep=this.Uc.pl,registerEvent(this.yc,"wheel",function(x){h.yG(h,x)},!1),this.o.notification.enabled=!0,this.o.$D(this.i),registerEvent(this.yc,
"keydown",function(x){h.St(h,x)},!1))};n.prototype.Ct=function(a){var h=this.a.$a,l="";a|=0;a<h.length&&(l=h[a].name);return l};n.prototype.xI=function(a){var h=!1,l=this.a.$a,v=0;for(a=a.toLowerCase();v<l.length-1&&!h;)l[v].name.toLowerCase()===a?h=!0:v+=1;h||(v=-1);return v};n.prototype.yE=function(a){var h=this.N.Xo();h.bg||(h.x=this.a.width/2-this.a.pa);h.If||(h.y=this.a.height/2-this.a.ka);h.ae||(h.zoom=this.a.zoom);h.qh||(h.angle=this.a.angle);h.Kh||(h.L=this.a.L);h.zh||(h.depth=this.a.Sd);
h.Dh||(h.ec=this.vd);h.Xh||(h.step=this.ja);h.Gf||(h.hc=this.a.sf);this.N.iH(a)};n.prototype.ru=function(a){var h=a,l=this.nc,v=a.length;l.font=(18*this.i.ai|0)+"px "+u.dz;var x=l.measureText(a).width;if(500<x){--v;for(x=l.measureText(a.substr(0,v)+"...").width;500<x;)--v,x=l.measureText(a.substr(0,v)+"...").width;h=h.substr(0,v)+"..."}return h};n.prototype.Bw=function(a,h){ScriptParser.SG(this,a,h)};n.prototype.ox=function(){this.a.$=1<<u.fF;this.Vl=this.yy=-1;this.Fx=this.fk=this.Hw=this.Cs=this.sc=
!1;this.a.Db=0;this.a.wb=0;this.a.tc=1;this.Mc=this.Tq=this.bc=this.FA=!1;this.Qj=this.Ng=this.Hb=null;this.ti=u.ti;this.a.xi=this.a.aG;this.a.wi=this.a.$F;this.a.vi=this.a.ZF;this.a.yi=this.a.bG;this.a.zi=this.a.cG;this.Mf=this.ze=this.Vr=!1;this.Eb=-1;this.te=!1;this.Fa=-1;this.Eg=this.Ne=this.Sm=this.jd=this.Qm=this.Fc=this.ue=this.Ub=!1;this.I=this.ts=2<this.a.g?63<=256-this.a.g?63:256-this.a.g:63;this.Qd=!1;this.a.oi=!1;this.a.Gp=0};n.prototype.ry=function(){this.Oi?(g(this.element),this.o.hasFocus=
!1):(this.D=this.Ft,this.C=this.Ay,this.bc?(this.Sa=!1,this.Bh(!0,!1)):this.a.zoom=this.Ht,this.rc&&(this.rc.current=this.Fj([this.a.zoom,this.a.zoom],!1,this)),this.aa=this.xt,this.Sa=!1,this.o.Sa=!1,this.i.f=!1,this.o.notification.K("Shrink with hotkey N",100,!0),this.resize())};n.prototype.xu=function(a){a.Sa?a.ry():a.sc&&(a.fk||a.Io(a,!1));a.cr=!1};n.prototype.resize=function(){this.Rs&&(y.Ss.Ox=this.en-this.D,this.en=this.D,this.Rs=!1);this.yc.width=this.D;this.yc.height=this.C;this.nc.textBaseline=
"middle";this.a.tC(this.D,this.C)};n.prototype.sy=function(){this.Ft=this.D;this.Ay=this.C;this.Ht=this.a.zoom;this.xt=this.aa;this.D=this.D/this.Zd|0;this.C=this.C/this.Zd|0;this.a.zoom=this.a.zoom/this.Zd;this.D&=-8;this.i.f=!0;this.o.Sa=!0;this.o.Zd=this.Zd;this.Sa=!0;this.resize()};n.prototype.Nt=function(){var a=this.a.g,h,l="";a>this.Mh&&(a=this.Mh);this.fd.lower=[];this.fd.w=[];this.fd.rj(40*a);this.h.lower=[];this.h.w=[];this.h.current=[];this.h.rj(40*a);this.h.ie=1;for(h=0;h<a;h+=1){var v=
h+this.Cg;this.fd.lower[h]=String(v);0===v?l="dead":this.a.M?l=this.Jv(v):l=1===v?"alive":"dying "+String(v-1);this.fd.w[h]=l;this.h.lower[h]="";this.h.w[h]=l;this.h.current[h]=!1}v=this.Of;0<v&&(this.a.M||(v=this.a.g-v));this.fd.current=v-this.Cg};n.prototype.ZI=function(){var a=this.a.g,h=this.i.Pe;this.Of=1;this.Cg=0;this.Jg.current=[this.Lt([!0],!0,this)];this.Mh=7+((this.D/h-u.wd)/(40*h)|0);this.Mh>a&&(this.Mh=a);this.a.ib?(this.fd.lower="0123456".split(""),this.fd.rj(280),this.fd.w="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),
this.fd.current=this.Of,this.h.lower="      ".split(" "),this.h.rj(280),this.h.w="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),this.h.ie=1,this.h.current=[!1,!1,!1,!1,!1,!1,!1]):2>=a?(this.fd.lower=["0","1"],this.fd.rj(80),this.fd.w=["dead","alive"],this.fd.current=this.Of,this.h.lower=["",""],this.h.rj(80),this.h.w=["dead","alive"],this.h.ie=1,this.h.current=[!1,!1]):(this.Of=this.a.M?1:a-1,this.Nt(),this.fd.rj(40*this.Mh),this.h.rj(40*this.Mh),this.ji.current=this.Qt([0,0],!0,this));
this.fd.setPosition(Menu.$b,-this.fd.cq,45);this.h.setPosition(Menu.$b,-this.h.cq,65)};n.prototype.DI=function(a){var h=this.a.pe;-1===a&&(this.Og?a=h:a=this.a.ib?10:2<this.a.g&&!this.a.M?11:this.a.Aa?17:this.a.M?18:1);this.nr&&a!==h&&(this.a.$a[h].set(this.a.$a[a]),a=h,this.a.$a[h].gm=this.a.bf,this.Og=!0);this.sl(a,1,this)};n.prototype.HC=function(){var a=window.innerWidth,h=window.innerHeight,l=this.D,v=this.C+80;l*=this.devicePixelRatio;v*=this.devicePixelRatio;var x=this.devicePixelRatio;this.Oe=
1;if(l>a||v>h)if(x=l/a,v/h>x&&(x=v/h),l/=x,v=this.C*this.devicePixelRatio/x,x=l/this.D,v/this.C<x&&(x=v/this.C),l<u.wd||v<u.ck)x=l/u.wd,v/u.ck<x&&(x=v/u.ck),l/=x,v/=x,this.Oe=x,x=1;this.D=l&-8;this.C=v|0;this.o.Oe=this.Oe;y.Ss.Oe=this.Oe;this.i.LH(x);this.R.dI(x);this.bp=18*x|0;this.yn=this.bp+"px "+u.lA;this.Sk=this.bp+"px "+u.dz;this.D!==this.en&&(this.Rs=!0)};n.prototype.ss=function(){this.Vj=!1;this.Ch=0;this.Gi=!1;this.ml=this.ll=0;this.Pp=this.Tn=this.il=this.Xc=this.Yc="";this.Rp=this.gk=this.xb=
this.qb=0;this.Ci="(none)";this.a.ub=!1;this.a.Aa=!1;this.a.M=!1;this.a.ib=!1;this.a.vf=!1;this.a.V=!1;this.a.ba=!1;this.a.yd=this.na.Gl;this.a.Ie=!1;this.a.Hd=-1;this.a.Ks=!1;this.a.g=-1;this.a.ua=-1;this.va=this.Pc=this.a.xa=!1};n.prototype.Vh=function(a,h){var l,v=!1;var x=0;this.ks=-1!==window.navigator.userAgent.indexOf("Edge")?!0:!1;this.a.Pj=null;this.bm=!1;this.bj=-1;this.Fl.current=this.Hy([!0],!0,this);this.lk=this.mk=this.jk=this.kk=this.sj=!1;this.a.sf=-1;this.o.sC();this.cj=this.kb=this.Ui=
this.aj=!1;this.Cf=[];for(l=0;10>l;l+=1)this.Cf[l]=null;this.Mg=0;this.Do=!1;this.Xa=null;this.Nc=!1;this.Ke=this.Le=0;this.ph=this.ke=!1;this.wm.current=this.iz(u.xm,!0,this);this.Vn=!1;this.pj=[];this.$n=[];this.Sc=[];this.qj=[];this.wf=[];this.Gc=[];this.tm=this.Yb=this.Jc=0;this.a.bh=!1;this.Wf=[];this.Pb=u.xm;this.Sn=0;this.Mp=-1;this.Rn=[];this.Np=0;this.bk=!1;this.Zk=0;this.fi=!1;this.fl=u.Vi;this.gl=-u.Vi;this.el=u.Vi;this.hl=-u.Vi;this.o.notification.clear(!0,!0);this.o.notification.clear(!1,
!0);this.a.Cc=!1;this.pz=this.a.$c=!1;if(a=this.na.create("",a,this.a.l,!0)){this.Vj=this.na.Vj;this.Ch=this.na.Iv;this.Gi=this.na.Gi;this.ll=this.na.Ts;this.ml=this.na.Us;this.uj=this.na.uj;this.tj=this.na.tj;this.qb=a.width;this.xb=a.height;this.Tn=a.name;this.Pp=a.zB;this.Ci=a.Ci;""===this.Ci&&(this.Ci="(none)");this.gk=a.Bf;this.Rp=a.Jp;this.Yc=a.ga;this.Xc=a.Jf;this.il=a.Yq;this.a.cc=a.cc;this.a.cg=a.cg;this.va=this.na.va;this.a.ib=a.gc;this.a.vf=a.gc;this.a.g=a.g;!this.va&&2<a.Bf&&(this.a.g=
a.Bf);if(this.a.xa=a.xa)this.a.Ib.lc=a.Ae,this.a.Ib.vt=a.lf,this.a.Ib.Dm=a.g,this.a.Ib.kI(a.ug,a.xd),this.na.kc?(this.a.Ib.Qq=a.xo,this.a.Ib.Rq=a.yo,this.a.Ib.kc=!0):this.a.Ib.kc=!1,this.pz=a.ne;this.a.ub=a.ub;this.a.Aa=a.Aa;this.a.M=a.M;this.a.$d=!0;this.a.V=a.V;this.a.Ks=a.V;this.a.ba=a.ba;this.a.yd=a.yd;this.a.Ie=a.Ie;this.a.Hd=a.Hd;this.a.ua=a.Tb;this.a.ha=a.le;this.a.ma=a.Sf;this.a.Ol=a.Yo;this.a.Pl=a.vn;this.a.Zq=a.Mv;this.a.Qu=a.Ur;this.Qp=new Uint32Array(this.gk);for(l=0;l<this.gk;l+=1)this.Qp[l]=
this.na.Im[l]}else this.ss();this.a.nI();this.Uh=!0;this.Bc=!1;this.yg=!0;this.Zc=u.gA;this.xc=a?!1:!0;this.un=!0;this.Wj=!1;this.B=this.na.B;this.a.ea=1;this.a.eq=u.fA;this.Ab=this.zb=0;this.Fg=this.fg=-1;this.Go=this.Tl=!1;this.Wh=this.Fh=this.i.locked=!1;this.a.MF();this.a.NF();this.a.ib&&(this.a.UE(),this.a.aF());this.$h="";this.Li=!1;ColourManager.cf();this.a.Fo(!1);this.a.Dd=u.Tr;this.a.Tf=u.Sr;this.a.bf=10;this.a.gF=10;this.a.Yj=!0;this.bA=this.cA=-1;this.vd=60;this.ja=1;this.a.L=1;this.a.Sd=
.1;this.a.angle=0;this.a.zoom=6;this.a.GH();this.a.pa=this.a.width/2;this.a.ka=this.a.height/2;this.ov=this.nv=this.pv=!1;this.si=this.je=0;this.Sh=this.jf=this.Ag=this.qe=-1;this.ia[u.gg]=-1;this.ia[u.ri]=-1;this.ia[u.pr]=-1;this.ia[u.yh]=-1;this.ia[u.Ko]=-1;this.ia[u.Lo]=-1;this.ia[u.Mo]=-1;this.ia[u.yr]=-1;this.ia[u.zr]=-1;this.ia[u.qr]=-1;this.ia[u.vr]=-1;this.ia[u.ur]=-1;this.ia[u.tr]=-1;this.ia[u.wr]=-1;this.ia[u.xr]=-1;this.ia[u.sr]=-1;this.ia[u.No]=-1;this.ia[u.rr]=-1;this.ia[u.iv]=-1;this.ia[u.Ro]=
-1;this.ia[u.Po]=-1;this.ia[u.So]=-1;this.ia[u.Uo]=-1;this.ia[u.To]=-1;this.ia[u.Qo]=-1;this.ia[u.Jo]=-1;this.ia[u.Oo]=-1;this.gv=u.MA;this.fv=u.Sq;this.hv=u.dC;this.Sa&&this.ry();this.sk=!1;this.o.Sa=!1;this.Zd=u.hA;this.Oi=!1;this.Dt=this.o.Oi=!1;this.Pc=a?!1:!0;this.Ia=!1;this.a.Xb=!1;this.a.Pd=!1;this.mb.f=!1;this.Gd.f=!1;this.He.f=!1;this.Cb.f=!1;this.Uc.f=!1;this.Ac.f=!1;this.Fd.f=!1;this.Kc.f=!1;this.xj.f=!1;this.Fl.f=!1;this.ul.f=!1;this.i.f=!1;this.zg.f=!1;this.Cj.f=!1;this.rd.f=!1;this.fh.f=
!1;this.Wg.f=!1;this.hi.f=!1;this.rf.f=!1;this.nb.f=!1;this.Ac.current=[!1];this.He.current=[!1];this.Nb=this.aa=0;this.om.current=[!1];this.Ml.current=this.fz([this.Ui],!0,this);this.jn.current=this.gz([this.aj],!0,this);this.wt=!1;this.Gd.current=this.Ej(u.bl,!0,this);this.Mb.current=this.Pt([50,50],!0,this);this.ym.current=this.jz([u.Op,u.Op],!0,this);this.Zj.current=this.ro([this.aa],!0,this);this.Ik=[96,96,96];this.a.fn=this.a.Lh?4284506208:1616929023;this.N.reset();this.Fc=!1;this.N.DE();this.Je=
this.dj=!1;this.Fi=!0;this.nr=this.Og=!1;this.a.Pg=!1;this.$s=this.et=u.Zn;this.Zs=50;this.dt=this.at=!1;this.ol=this.ik=this.hk=-1;this.Yg=[];this.Hi=[];if(a){if(a.ub||!this.va&&2<this.a.g)this.De=ColourManager.Ar,this.hn="(default)";else if(this.na.pn||a.gc)a.gc?(this.De=ColourManager.Vz("LifeHistory"),this.De[2]=96):this.De=ColourManager.Vz(a.ga),this.De.length?this.hn=a.ga:(this.De=ColourManager.Ar,this.hn="(default)");this.ox();this.ct=Date.now().toString();a.title&&(l=a.Bf,this.a.ib&&(l=7),
this.Bw(a.title,l),this.Sc.length&&(this.Nb=1),this.Sa&&h&&(this.Sa=!1),-1<this.qe&&(this.qe&=-8,this.qe!==this.D&&(this.D=this.qe,v=!0)),-1<this.Ag&&this.Ag!==this.C&&(this.C=this.Ag,v=!0),this.Rd&&(-1<this.jf?(this.jf&=-8,this.jf!==this.D&&(this.D=this.jf,v=!0)):this.D<u.wd&&(this.D=u.wd),-1<this.Sh&&this.Sh!==this.C&&(this.C=this.Sh,v=!0)));this.va||(this.I=0);this.Qb.cf(this.ct);this.Rd&&(this.Lp=this.D,this.Kp=this.C,this.HC());a.Zf&&0===this.Wf.length&&(this.va=!1);this.ZI();this.TI();this.aE();
this.zD();this.a.oH();this.a.I=this.I;this.Oi&&!this.Bc&&(this.xc=!0,this.Bc=!1);this.a.jE(!this.xc);if(a.width>this.a.$||a.height>this.a.$)this.B="Pattern too big (maximum "+this.a.$+"x"+this.a.$+")",this.Zf=!0,this.va=!1,this.ss();-1!==a.Tb&&(a.xa&&(x=6*a.xd),a.ne&&(x=6*a.wc),a.le>=this.a.$-x||a.Sf>=this.a.$-x)&&(this.B="Bounded grid is too big",this.va=!1,this.a.ua=-1);this.a.II(this);this.fi&&(this.a.Zz(),this.bw());this.oz=!1;if(-1!==this.a.ua){h=this.a.ha;var t=this.a.ma;0===h&&(h=a.width);
0===t&&(t=a.height)}else h=a.width,t=a.height,0<this.Wf.length&&(h=this.hu(h),t=this.du(t));x=u.ff;this.a.xa&&(x=4*this.a.Ib.Rc+1,-1!==this.a.ua&&(x+=2*this.a.Ib.Rc),this.a.Ib.type===this.na.$f&&(x=-1!==this.a.ua?x+this.a.ma/2:x+(this.a.H.u-this.a.H.m+1)/2),x<u.ff&&(x=u.ff));l=this.a.$/2-x;this.Gi&&(this.ll<-l?this.ll=-l:this.ll>=l&&(this.ll=l-1),this.ml<-l?this.ml=-l:this.ml>=l&&(this.ml=l-1),this.zb+=this.ll,this.Ab+=this.ml);this.zb<-l?this.zb=-l:this.zb>=l&&(this.zb=l-1);this.Ab<-l?this.Ab=-l:
this.Ab>=l&&(this.Ab=l-1);for(;this.a.width<this.a.$&&(h+x+2*Math.abs(this.zb)>=this.a.width||t+x+2*Math.abs(this.Ab)>=this.a.height);)this.a.ap(),this.je+=this.a.width>>2,this.si+=this.a.height>>2,this.re+=this.a.width>>2,this.Ji+=this.a.height>>2,this.a.V&&(this.je-=this.a.height>>3,this.re-=this.a.height>>3);a.xa&&this.a.Ib.resize(this.a.width,this.a.height);this.iu(a.width,a.height);this.a.ib&&this.na.Im[6]&&this.a.hH(a,this.uc,this.vc);this.Ng?this.o.notification.eg="rgb("+this.Ng[0]+","+this.Ng[1]+
","+this.Ng[2]+")":this.o.notification.eg=this.o.notification.iC;if(null===this.Hb)for(l=0;l<this.De.length;l+=1)this.Ul[l]=this.na.Im[l]?u.QC:u.py;this.a.Ob?(this.a.RE(this.De,this.Hb),this.a.Pg=!0):this.a.Pg=!1;a.Zf||this.ju(a);this.ic.Ha=""!==this.Xc?this.Xc:this.Yc;this.ic.w=this.Yc;""!==this.Xc&&(this.ic.w+=" alias "+this.Xc)}this.mt=!1;this.Hn=this.zp=this.Gn=this.yp=this.Fn=this.ns=this.wp=this.Jn=this.xp=this.In=this.lb=this.pw="none";this.fc=!1;this.Bn.current=[this.fc];this.a.js(this.fc);
this.ul.current=this.Fy([this.Fi],!0,this);this.a.Zz();this.DI(this.yy);this.a.Hb=this.Hb;this.a.ub||!this.va&&2<this.a.g?this.a.aA(this.De,this.Hb):this.a.$z();this.a.Ee(1);this.a.XH();this.io.current=this.Gy([this.Gm],!0,this);this.Qn.current=this.It([this.Zc,this.Zc],!1,this);this.Kn.current=[this.yg];this.mi.current=[this.bc];this.Eh.current=[this.a.Xb];this.a.v=0;this.a.uf=0;this.elapsedTime=this.Qh=this.bb=this.a.Bi=0;this.Gd.Ih=[!1,!1,!1];if(this.Ia||this.a.ub)this.Gd.Ih[u.al]=!0;this.Pc?(a&&
(this.a.Nx(this.Wh),this.Hb&&(this.De=this.Hb)),this.a.aA(this.De,this.Hb),this.a.Yf.reset(),this.xc=!0,this.Bc=!1):(this.a.Nx(this.Wh),this.a.kt(),2>=this.a.g&&this.a.pC(this.a.cb),this.a.ib&&this.na.Im[2]&&this.a.LE(a,this.uc,this.vc),this.lj(),0<this.Wf.length&&(this.a.Nx(this.Wh),this.a.kt(),2>=this.a.g&&this.a.pC(this.a.cb)),this.a.IH(this.a.cb,this.a.ca),a&&0===this.a.sa&&!this.bk?(this.bm=!0,this.a.ub||(a.Zf?this.o.notification.K("Pattern too big!",u.Jr,!1):this.o.notification.K("New pattern",
300,!1))):this.bm=!1,-1!==this.a.ua&&this.a.ay(),this.a.UH(this.Je),this.a.lt(this.Je));this.la.width=9999<this.a.$?166:140;this.jc.Fm(this.la.cq);this.fe.locked=!this.a.ib;this.fe.current=[this.a.vf];this.Pk.locked=this.xc;this.Pk.current=[this.Bc];this.ul.current=[this.Fi];this.Fl.current=[this.Gk];this.de.current=[this.a.oi];this.Te.current=[this.dj];this.dn.current=[this.rh];this.Kl.current=[this.a.Jl];this.Kl.locked=!this.a.Aa;this.Tk.current=[this.a.$d];this.Tk.locked=this.a.ba;this.qf.f=this.a.Aa&&
null!==this.a.Vc?!1:!0;0===this.N.Nn()?(this.Wk.locked=!0,this.Uh=!1):(this.Wk.locked=!1,this.Uh=!0);this.Wk.current=[this.Uh];this.Cn.current=[this.Mc];this.bo.current=[this.Wj];this.ko.current=[this.Li];this.An.current=[this.Fh];this.N.Vb.length?(this.gh.f=!1,this.Xg.f=!1):(this.gh.f=!0,this.Xg.f=!0);0===this.a.bf?(this.fj.current=[!1],this.fj.locked=!0):(this.fj.current=[this.a.Yj],this.fj.locked=!1);this.xc||this.a.rC();a&&(a.Uf=null);l=this.a.zoom;x=this.a.pa;h=this.a.ka;t=this.Sa;this.Sa=!1;
this.Bh(!0,!1);this.Sa=t;this.pv?this.a.zoom=l:!this.bc&&this.a.zoom>u.YA&&(this.a.zoom=u.YA);this.nv&&(this.a.pa=x);this.ov&&(this.a.ka=h);this.Fc&&this.yE(this.Sc);this.Sa&&this.Dt&&(this.a.zoom=this.Cy);this.iA=this.a.zoom;this.rc.current=this.Fj([this.a.zoom,this.a.zoom],!1,this);this.je=this.a.pa;this.si=this.a.ka;this.ln=this.a.angle;this.sd.current=[this.ln,this.ln];this.Cr=this.a.sf;this.sl(this.Cr,this.a.Hk,this);this.mv=this.vd;l=Math.sqrt((this.mv-u.Wd)/(u.Nh-u.Wd));this.Cb.current=this.hh([l,
l],!0,this);this.Br=this.ja;this.Uc.current=this.Qi([this.Br,this.Br],!0,this);this.mn=this.a.L;this.Fd.current=[this.mn,this.mn];this.lv=this.a.Sd;l=Math.sqrt(this.lv);this.Kc.current=this.vk([l,l],!0,this);this.a.ea=1;this.ze&&!this.Mf?(this.Pa=!0,this.mb.current=u.jj):(this.Pa=!1,this.mb.current=u.oe);this.cy(this.Pa);this.C<u.$k?(this.Ac.f=!0,this.mb.Fm(this.qn+45),this.Cb.Fm(this.Gj+45),this.Uc.Fm(this.ep+45)):(this.mb.Fm(this.qn),this.Cb.Fm(this.Gj),this.Uc.Fm(this.ep));this.D>u.wd&&!this.Rd?
(l=this.D-u.wd+u.vz,l>u.yD&&(l=u.yD),this.rc.rj(l)):this.rc.rj(u.vz);if(v||this.Sa)this.Sa?this.sy():this.resize();a||(this.na.Zf?this.o.notification.K("Pattern too big!",u.Jr,!1):this.o.notification.K("Invalid pattern!",u.Jr,!1));this.Sc.length?this.aa=0:this.Nb=0;this.va||(this.Ia=!0);this.Ia?(this.mb.f=!0,this.He.f=!0,this.zg.f=!0,this.Cb.f=!0,this.Uc.f=!0,this.Cj.f=!0,this.rd.f=!0,this.Pc&&(this.Fd.f=!0,this.Kc.f=!0,this.xj.f=!0,this.a.L=1),this.eb.f=!1,""===this.B?(this.eb.Ha=Keywords.Lq,this.eb.xf=
u.zn):(this.eb.Ha=this.B,this.eb.xf=this.ti)):this.eb.f=!0;540>this.C?this.nb.setPosition(Menu.jo,0,-85):this.nb.setPosition(Menu.jo,0,-100);this.dD();this.pg=!1;this.Ap="";this.GC(this);this.Mr()?(this.wa.Ha="Density",this.wa.w="cell density"):(this.wa.Ha="Births",this.wa.w="cells born this generation");this.o.eh=!0;this.o.Th(!0);this.Rd&&this.Et&&(""===this.$h?this.Et.nodeValue="LifeViewer":this.Et.nodeValue=this.ru(this.$h));w.Ca?(v=this.Tn,""===v&&(v="Universe "+(this.Ec+1)),this.o.notification.K(v,
120,!0),this.ih.f=!1,this.Zg.f=!1):(this.ih.f=!0,this.Zg.f=!0);this.tb("")};registerEvent(window,"load",r,!1);window.DocConfig=w;window.Controller=y;window.ViewConstants=u;window.startAllViewers=r;window.updateViewer=g;window.updateMe=d;window.hideViewer=k}(),function(){window.Help={ey:0,wH:function(e,n,p,b,k,c,f,d,g,m){var q=d,r=!1,w=e.S,u=e.i.Pe;c&&(c.fillStyle===ViewConstants.cp&&(r=!0),w>=m&&w<=m+e.Qc&&(c.font=e.yn,r||(c.fillStyle=1<(e.aa|0)?ViewConstants.zn:ViewConstants.Qr),c.fillText(n,f,d),
r||(c.fillStyle=ViewConstants.zn),c.fillText(p,f+c.measureText(n).width,d),r||(c.fillStyle=(e.aa|0)<e.On-e.Qc?ViewConstants.zn:ViewConstants.Qr),c.fillText(b,f+c.measureText(n+p).width,d),r||(c.fillStyle=ViewConstants.zn),c.font=e.Sk,c.fillText(k,f+e.X[0]*u,d),q+=g));e.S+=1;return q},Lu:function(e){e/=1048576;return 10>e?String(e.toFixed(1)):String(e.toFixed(0))},Za:function(e,n,p,b,k,c,f,d,g){var m=e.S;k&&(d-=6,m>=g&&m<=g+e.Qc&&(e=k.fillStyle,e!==ViewConstants.cp&&(k.fillStyle="rgb("+n+","+p+","+
b+")"),k.fillRect(c,f-(d>>1)-1,d,d),k.fillStyle=e))},measureText:function(e,n,p,b){var k=b?e.Yr:e.Xr;k[e.S]?n=k[e.S]:(n.font=0===b?e.yn:e.Sk,n=n.measureText(p).width,k[e.S]=n);return n},b:function(e,n,p,b,k,c,f,d){var g=c,m=String(p).indexOf("\t"),q=0,r=e.S>=d&&e.S<=d+e.Qc,w=e.i.Pe;if(n.length){r&&(b.font=e.yn,b.fillText(n,k,c));n=this.measureText(e,b,n,0);n>e.X[q]*w&&(r&&(c+=f,g+=f),e.S+=1,r=e.S>=d&&e.S<=d+e.Qc);r&&(b.font=e.Sk);for(;-1!==m;)r&&b.fillText(p.substr(0,m),k+e.X[q]*w,c),q+=1,p=p.substr(m+
1),m=p.indexOf("\t");m=!1;e.ag&&(n=this.measureText(e,b,p,1),k+e.X[q]*w+n+this.ey>b.canvas.width&&(n=p.toLowerCase().indexOf("|"),-1===n&&(n=p.toLowerCase().indexOf("s"),-1===n&&(n=p.indexOf("/"),-1!==n&&(n+=1))),-1!==n&&(r&&(b.fillText(p.substr(0,n),k+e.X[q]*w,c),c+=f,g+=f),e.S+=1,(r=e.S>=d&&e.S<=d+e.Qc)&&b.fillText("  "+p.substr(n),k+e.X[q]*w,c),m=!0)));m||r&&b.fillText(p,k+e.X[q]*w,c)}else b.font=e.Sk,r&&b.fillText(p,k,c);r&&(g+=f);e.S+=1;return g},qc:function(e,n,p){for(var b=ColourManager.De,
k=Object.keys(b),c="    "+e+"\t"+n+"\t"+p,f=!1,d,g=0;g<k.length&&!f;)d=b[k[g]],d[1]===e&&d[2]===n&&d[3]===p?(c+="\t"+d[0],f=!0,g=k.length):g+=1;return c},Df:function(e){return this.qc(e.red,e.green,e.blue)},pE:function(e){var n=0,p=0;e.a.ea&&(n=e.a.H.s-e.a.H.j+1,p=e.a.H.u-e.a.H.m+1);-1!==e.a.ua&&(0!==e.a.ha&&(n=e.a.ha),0!==e.a.ma&&(p=e.a.ma));return n+" x "+p},wE:function(e){var n="AutoFit";e.Fh&&(n+=" History");e.Wh&&(n+=" State 1");return n},AB:function(e,n){n-=e.length;for(var p="";0<n;)p+=" ",
--n;return p+e},Xu:function(e){var n=e.indexOf(","),p=e.lastIndexOf(",");return[e.substring(4,n),e.substring(n+1,p),e.substring(p+1,e.length-1)]},oC:function(e,n,p,b,k,c){var f=b;switch(e.Rk){case ViewConstants.wk:this.CH(e,n,p,b,k,c);break;case ViewConstants.JA:this.yH(e,n,p,b,k,c);break;case ViewConstants.Zx:this.AH(e,n,p,b,k,c);break;case ViewConstants.lp:this.xH(e,n,p,b,k,c);break;case ViewConstants.TC:this.BH(e,n,p,b,k,c);break;case ViewConstants.Wz:this.tH(e,n,p,b,k,c);break;case ViewConstants.Az:this.rH(e,
n,p,b,k,c);break;case ViewConstants.hB:this.zH(e,n,p,b,k,c);break;case ViewConstants.Gz:this.sH(e,n,p,b,k,c)}e.On=e.S-1;e.S=1;e.X[0]=120;b=f+k*(e.Qc+2);b=e.Rk!==ViewConstants.wk?this.wH(e,"Up"," / ","Down","scroll help",n,p,b,k,0):b+k;e.Rd?this.b(e,"H","close help",n,p,b,k,0):this.b(e,"H / Esc","close help",n,p,b,k,0)},CH:function(e,n,p,b,k,c){e.S=1;e.ag=!1;e.W=[];e.X[0]=108;e.W[0]=[e.S,"Top"];this.b(e,"",ViewConstants.hD+" build "+ViewConstants.ez+" by "+ViewConstants.gD,n,p,b,k,c)},sH:function(e,
n,p,b,k,c){var f,d=0,g=e.i.Pe;e.S=1;e.ag=!1;e.W=[];e.W[d]=[e.S,"Top"];d+=1;e.X[0]=128;e.X[1]=208;e.X[2]=288;e.X[3]=368;b=this.b(e,"","Annotations",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[d]=[e.S,"Labels"];d+=1;b=this.b(e,"","Labels:",n,p,b,k,c);b=this.b(e,"Number",e.N.ef.length,n,p,b,k,c);for(f=0;f<e.N.ef.length;f+=1){var m="Label "+String(f+1);b=this.b(e,m,e.N.qG(f),n,p,b,k,c);b=this.b(e," ",e.N.rG(f),n,p,b,k,c);b=this.b(e," ",e.N.sG(f),n,p,b,k,c);m=this.Xu(e.N.tG(f));this.Za(e,m[0],m[1],m[2],
n,p+e.X[0]*g,b,k,c);b=this.b(e,"Colour",this.qc(m[0],m[1],m[2]),n,p,b,k,c)}b=this.b(e,"","",n,p,b,k,c);e.W[d]=[e.S,"Arrows"];d+=1;b=this.b(e,"","Arrows:",n,p,b,k,c);b=this.b(e,"Number",e.N.Xe.length,n,p,b,k,c);for(f=0;f<e.N.Xe.length;f+=1)m="Arrow "+String(f+1),b=this.b(e,m,e.N.qE(f),n,p,b,k,c),b=this.b(e," ",e.N.rE(f),n,p,b,k,c),b=this.b(e," ",e.N.sE(f),n,p,b,k,c),m=this.Xu(e.N.Sq(f)),this.Za(e,m[0],m[1],m[2],n,p+e.X[0]*g,b,k,c),b=this.b(e,"Colour",this.qc(m[0],m[1],m[2]),n,p,b,k,c);b=this.b(e,"",
"",n,p,b,k,c);e.W[d]=[e.S,"Polygons"];b=this.b(e,"","Polygons:",n,p,b,k,c);b=this.b(e,"Number",e.N.hf.length,n,p,b,k,c);for(f=0;f<e.N.hf.length;f+=1)m="Polygon "+String(f+1),b=this.b(e,m,e.N.dH(f),n,p,b,k,c),b=this.b(e," ",e.N.eH(f),n,p,b,k,c),b=this.b(e," ",e.N.fH(f),n,p,b,k,c),m=this.Xu(e.N.gH(f)),this.Za(e,m[0],m[1],m[2],n,p+e.X[0]*g,b,k,c),b=this.b(e,"Colour",this.qc(m[0],m[1],m[2]),n,p,b,k,c)},yH:function(e,n,p,b,k,c){var f,d=0;e.S=1;e.W=[];e.ag=!0;e.X[0]=124;e.W[d]=[e.S,"Top"];d+=1;b=this.b(e,
"","Keyboard commands",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[d]=[e.S,"Playback"];d+=1;b=this.b(e,"","Playback controls:",n,p,b,k,c);if(e.Pc)b=this.b(e,"R","reset",n,p,b,k,c);else{b=this.b(e,"Enter","toggle play / pause",n,p,b,k,c);b=this.b(e,"Space","pause / next generation",n,p,b,k,c);b=this.b(e,"B","pause / previous generation",n,p,b,k,c);b=this.b(e,"Backspace","pause / previous generation",n,p,b,k,c);b=this.b(e,"Tab","pause / next step",n,p,b,k,c);b=this.b(e,"Shift Tab","pause / previous step",
n,p,b,k,c);if(e.a.Aa||e.a.M)b=this.b(e,"U","toggle playback direction",n,p,b,k,c);b=e.Rd?this.b(e,"Esc","close LifeViewer",n,p,b,k,c):this.b(e,"Esc","pause if playing",n,p,b,k,c);b=this.b(e,"R","reset to generation 0",n,p,b,k,c);b=this.b(e,"-","decrease generation speed",n,p,b,k,c);b=this.b(e,"+","increase generation speed",n,p,b,k,c);b=this.b(e,"Shift -","minimum generation speed",n,p,b,k,c);b=this.b(e,"Shift +","maximum generation speed",n,p,b,k,c);b=this.b(e,"D","decrease step size",n,p,b,k,c);
b=this.b(e,"E","increase step size",n,p,b,k,c);b=this.b(e,"Shift D","minimum step size",n,p,b,k,c);b=this.b(e,"Shift E","maximum step size",n,p,b,k,c);b=this.b(e,"0","reset step and speed",n,p,b,k,c);b=this.b(e,"Alt T","toggle throttling",n,p,b,k,c);e.Fc?-1!==e.Fa?(b=this.b(e,"W","toggle waypoint playback and loop",n,p,b,k,c),b=this.b(e,"Shift P","toggle just loop",n,p,b,k,c)):b=this.b(e,"W","toggle waypoint playback",n,p,b,k,c):-1!==e.Fa&&(b=this.b(e,"W","toggle loop",n,p,b,k,c));e.ze&&(b=this.b(e,
"Alt O","toggle autostart",n,p,b,k,c));-1!==e.Eb&&(b=this.b(e,"Alt P","toggle stop",n,p,b,k,c))}b=this.b(e,"","",n,p,b,k,c);e.W[d]=[e.S,"Multi"];d+=1;b=this.b(e,"","Multi-Viewer controls:",n,p,b,k,c);DocConfig.Ca&&(b=this.b(e,"Page Up","previous universe",n,p,b,k,c),b=this.b(e,"Page Down","next universe",n,p,b,k,c),b=this.b(e,"Home","first universe",n,p,b,k,c),b=this.b(e,"End","last universe",n,p,b,k,c));b=this.b(e,"Shift R","reset all LifeViewers to generation 0",n,p,b,k,c);b=this.b(e,"Z","stop playback in all other LifeViewers",
n,p,b,k,c);b=this.b(e,"Shift Z","stop playback in all LifeViewers",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[d]=[e.S,"Camera"];d+=1;b=this.b(e,"","Camera controls:",n,p,b,k,c);if(e.C>=ViewConstants.$k||(e.Sa&&e.Ay)>=ViewConstants.$k)b=this.b(e,"M","toggle settings menu",n,p,b,k,c);b=this.b(e,"V","restore saved camera position",n,p,b,k,c);b=this.b(e,"Shift V","save current camera position",n,p,b,k,c);var g=e.N.Vb.length;if(0<g&&(b=this.b(e,"J","jump to next point of interest",n,p,b,k,c),b=this.b(e,
"Shift J","jump to previous point of interest",n,p,b,k,c),9<g&&(g=9),!e.Qd&&!e.Ef))for(f=1;f<=g;f+=1)b=this.b(e,"Alt "+String(f),"jump to POI #"+String(f),n,p,b,k,c);b=this.b(e,"F","fit pattern to display",n,p,b,k,c);b=this.b(e,"Shift F","toggle autofit",n,p,b,k,c);b=this.b(e,"Shift H","toggle autofit history mode",n,p,b,k,c);e.a.ib&&(b=this.b(e,"Shift S","toggle autofit state 1 mode",n,p,b,k,c));b=this.b(e,"[","zoom out",n,p,b,k,c);b=this.b(e,"]","zoom in",n,p,b,k,c);b=this.b(e,"Shift [","halve zoom",
n,p,b,k,c);b=this.b(e,"Shift ]","double zoom",n,p,b,k,c);b=this.b(e,"1","1x zoom",n,p,b,k,c);b=this.b(e,"2","2x zoom",n,p,b,k,c);b=this.b(e,"4","4x zoom",n,p,b,k,c);b=this.b(e,"8","8x zoom",n,p,b,k,c);b=this.b(e,"6","16x zoom",n,p,b,k,c);b=this.b(e,"3","32x zoom",n,p,b,k,c);b=this.b(e,"Shift 3","64x zoom",n,p,b,k,c);b=this.b(e,"Shift 1","integer zoom",n,p,b,k,c);b=this.b(e,"Shift 2","-2x zoom",n,p,b,k,c);b=this.b(e,"Shift 4","-4x zoom",n,p,b,k,c);b=this.b(e,"Shift 8","-8x zoom",n,p,b,k,c);b=this.b(e,
"Shift 6","-16x zoom",n,p,b,k,c);b=this.b(e,"Left","pan left",n,p,b,k,c);b=this.b(e,"Right","pan right",n,p,b,k,c);b=this.b(e,"Up","pan up",n,p,b,k,c);b=this.b(e,"Down","pan down",n,p,b,k,c);b=this.b(e,"Shift Left","pan north west",n,p,b,k,c);b=this.b(e,"Shift Right","pan south east",n,p,b,k,c);b=this.b(e,"Shift Up","pan north east",n,p,b,k,c);b=this.b(e,"Shift Down","pan south west",n,p,b,k,c);b=this.b(e,"<","rotate left",n,p,b,k,c);b=this.b(e,">","rotate right",n,p,b,k,c);b=this.b(e,"Shift <","rotate left 90 degrees",
n,p,b,k,c);b=this.b(e,"Shift >","rotate right 90 degrees",n,p,b,k,c);b=this.b(e,"5","reset angle",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.Pc||(e.W[d]=[e.S,"View"],d+=1,b=this.b(e,"","View controls:",n,p,b,k,c),b=this.b(e,"Q","increase number of layers",n,p,b,k,c),b=this.b(e,"A","decrease number of layers",n,p,b,k,c),b=this.b(e,"P","increase layer depth",n,p,b,k,c),b=this.b(e,"L","decrease layer depth",n,p,b,k,c),b=this.b(e,"C","next colour theme",n,p,b,k,c),b=this.b(e,"Shift C","previous colour theme",
n,p,b,k,c),b=this.b(e,"Alt C","default theme",n,p,b,k,c),b=this.b(e,"","",n,p,b,k,c));e.W[d]=[e.S,"Display"];d+=1;b=this.b(e,"","Display controls:",n,p,b,k,c);e.Pc||(b=this.b(e,"G","toggle generation statistics",n,p,b,k,c),b=this.b(e,"Shift G","toggle generation display mode",n,p,b,k,c),e.xc||(b=this.b(e,"Y","toggle population graph",n,p,b,k,c),b=this.b(e,"Shift Y","toggle graph lines",n,p,b,k,c),b=this.b(e,"7","decrease graph opacity",n,p,b,k,c),b=this.b(e,"9","increase graph opacity",n,p,b,k,c)),
b=this.b(e,"Shift W","toggle performance warning",n,p,b,k,c));b=this.b(e,"/","toggle hexagons for hex view",n,p,b,k,c);b=this.b(e,"T","toggle timing information",n,p,b,k,c);b=this.b(e,"Shift T","toggle extended timing information",n,p,b,k,c);b=this.b(e,"I","toggle pattern and engine information",n,p,b,k,c);b=this.b(e,"Shift I","toggle information bar",n,p,b,k,c);b=this.b(e,"Alt B","toggle cell borders",n,p,b,k,c);b=this.b(e,"X","toggle gridlines",n,p,b,k,c);0<e.a.bf&&(b=this.b(e,"Shift X","toggle major gridlines",
n,p,b,k,c));b=this.b(e,"Ctrl G","toggle auto gridlines",n,p,b,k,c);e.a.Aa&&(b=this.b(e,"Alt D","toggle alternating gridlines",n,p,b,k,c));e.a.ib&&(b=this.b(e,"Alt H","[R]History display on",n,p,b,k,c),b=this.b(e,"Alt J","[R]History display off",n,p,b,k,c));0<e.N.Nn()&&(b=this.b(e,"Shift L","toggle annotation display",n,p,b,k,c));b=this.b(e,"Alt G","toggle kill escaping gliders",n,p,b,k,c);e.sk&&(b=this.b(e,"N","toggle thumbnail view",n,p,b,k,c));b=this.b(e,"S","toggle stars",n,p,b,k,c);b=this.b(e,
"O","open screenshot in separate window",n,p,b,k,c);b=this.b(e,"Shift O","open population graph in separate window",n,p,b,k,c);b=this.b(e,"Shift U","toggle UI",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[d]=[e.S,"Pattern"];d+=1;b=this.b(e,"","Pattern controls:",n,p,b,k,c);b=this.b(e,"Alt N","new pattern",n,p,b,k,c);b=this.b(e,"Alt R","change rule",n,p,b,k,c);b=this.b(e,"Ctrl O","open original or last saved pattern",n,p,b,k,c);b=this.b(e,"Ctrl S","save pattern",n,p,b,k,c);b=this.b(e,"Alt Z","randomize pattern",
n,p,b,k,c);b=this.b(e,"F6","toggle oscillator and spaceship identification",n,p,b,k,c);b=this.b(e,"Ctrl+F6","fast identification",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[d]=[e.S,"Clipboard"];d+=1;b=this.b(e,"","External clipboard controls:",n,p,b,k,c);b=this.b(e,"Alt S","toggle sync cut and copy with external clipboard",n,p,b,k,c);b=this.b(e,"Ctrl+Shift C","copy original pattern",n,p,b,k,c);b=this.b(e,"Ctrl C","copy current selection",n,p,b,k,c);b=this.b(e,"Ctrl+Alt C","copy current selection with comments",
n,p,b,k,c);b=this.b(e,"Ctrl+Shift X","copy original pattern",n,p,b,k,c);b=this.b(e,"Ctrl X","copy current selection",n,p,b,k,c);b=this.b(e,"Ctrl+Alt X","copy current selection with comments",n,p,b,k,c);b=this.b(e,"K","copy camera position",n,p,b,k,c);b=this.b(e,"Shift K","copy camera position and view",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[d]=[e.S,"Edit"];d+=1;b=this.b(e,"","Edit controls:",n,p,b,k,c);b=this.b(e,"F1","toggle draw/pan mode",n,p,b,k,c);b=this.b(e,"F2","draw mode",n,p,b,k,c);b=
this.b(e,"Shift F2","toggle smart drawing",n,p,b,k,c);b=this.b(e,"F3","pick mode",n,p,b,k,c);b=this.b(e,"F4","select mode",n,p,b,k,c);b=this.b(e,"F5","pan mode",n,p,b,k,c);b=this.b(e,"Ctrl A","select all",n,p,b,k,c);b=this.b(e,"Shift A","shrink selection",n,p,b,k,c);b=this.b(e,"Alt A","toggle auto-shrink selection",n,p,b,k,c);b=this.b(e,"Ctrl C","copy",n,p,b,k,c);b=this.b(e,"Ctrl I","invert selection",n,p,b,k,c);b=this.b(e,"Ctrl K","remove selection",n,p,b,k,c);b=this.b(e,"Ctrl V","paste",n,p,b,k,
c);b=this.b(e,"Ctrl+Shift V","paste to selection",n,p,b,k,c);b=this.b(e,"Ctrl X","cut",n,p,b,k,c);b=this.b(e,"Ctrl Y","redo edit",n,p,b,k,c);b=this.b(e,"Ctrl Z","undo edit",n,p,b,k,c);b=this.b(e,"Ctrl+Shift Z","redo edit",n,p,b,k,c);b=this.b(e,"Ctrl Space","advance selection",n,p,b,k,c);b=this.b(e,"Shift Space","advance outside",n,p,b,k,c);b=this.b(e,"Shift L","cycle paste location",n,p,b,k,c);b=this.b(e,"Shift M","cycle paste mode",n,p,b,k,c);2<e.a.g?(b=this.b(e,"Shift 5","multi-state random fill",
n,p,b,k,c),b=this.b(e,"Ctrl+Shift 5","2-state random fill",n,p,b,k,c)):b=this.b(e,"Shift 5","random fill",n,p,b,k,c);b=this.b(e,"Alt K","pick cell state to replace with drawing state",n,p,b,k,c);b=this.b(e,"Ctrl+Alt K","clear current drawing state cells",n,p,b,k,c);b=this.b(e,"Del","clear cells in selection",n,p,b,k,c);b=this.b(e,"Shift Del","clear outside selection",n,p,b,k,c);e.a.ib&&(b=this.b(e,"Ctrl Del","clear [R]History cells",n,p,b,k,c),b=this.b(e,"Alt Del","clear [R]History marked cells",
n,p,b,k,c));b=this.b(e,">","rotate selection clockwise",n,p,b,k,c);b=this.b(e,"<","rotate selection counter-clockwise",n,p,b,k,c);b=this.b(e,"Alt X","flip selection horizontally",n,p,b,k,c);b=this.b(e,"Alt Y","flip selection vertically",n,p,b,k,c);b=this.b(e,"Esc","hide paste",n,p,b,k,c);b=this.b(e,"Enter","perform paste",n,p,b,k,c);e.a.ib?g=7:(g=-1===e.a.g?2:e.a.g,10<g&&(g=10));for(f=0;f<g;f+=1)b=this.b(e,"Ctrl "+f,"select state "+f+" for drawing",n,p,b,k,c);for(f=0;10>f;f+=1)b=this.b(e,"Alt "+f,
"make clipboard "+f+" active",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[d]=[e.S,"Help"];b=this.b(e,"","Help controls:",n,p,b,k,c);b=this.b(e,"Up","scroll up one line",n,p,b,k,c);b=this.b(e,"Down","scroll down one line",n,p,b,k,c);b=this.b(e,"Page Up","scroll up one page",n,p,b,k,c);b=this.b(e,"Page Down","scroll down one page",n,p,b,k,c);b=this.b(e,"Shift Page Up","scroll up one section",n,p,b,k,c);b=this.b(e,"Shift Page Down","scroll down one section",n,p,b,k,c);b=this.b(e,"Home","go to first help page",
n,p,b,k,c);this.b(e,"End","go to last help page",n,p,b,k,c)},AH:function(e,n,p,b,k,c){var f=0;e.S=1;e.ag=!1;e.W=[];e.X[0]=252;e.W[f]=[e.S,"Top"];f+=1;b=this.b(e,"","Scripts",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);b=this.b(e,"","Scripts must be embedded in pattern comments",n,p,b,k,c);b=this.b(e,"","Commands must be surrounded by whitespace",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[f]=[e.S,"Params"];f+=1;b=this.b(e,"","Parameter conventions:",n,p,b,k,c);b=this.b(e,"A|B","either A or B",n,p,b,k,c);
b=this.b(e,"(A)","A is optional",n,p,b,k,c);b=this.b(e,"A*","zero or more A",n,p,b,k,c);b=this.b(e,"A+","one or more A",n,p,b,k,c);b=this.b(e,"<1..3>","integer range",n,p,b,k,c);b=this.b(e,"<1.0..3.0>","decimal range",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[f]=[e.S,"General"];f+=1;b=this.b(e,"","General:",n,p,b,k,c);b=this.b(e,Keywords.ql,"start script section",n,p,b,k,c);b=this.b(e,Keywords.eo,"end script section",n,p,b,k,c);b=this.b(e,Keywords.qy,"suppress overwrite warning",n,p,b,k,c);b=this.b(e,
"","",n,p,b,k,c);e.W[f]=[e.S,"Playback"];f+=1;b=this.b(e,"","Playback:",n,p,b,k,c);b=this.b(e,Keywords.Wq+" ("+Keywords.vb+")","start play automatically",n,p,b,k,c);b=this.b(e,Keywords.Ai+" <1..>|"+Keywords.vb,"loop at generation",n,p,b,k,c);b=this.b(e,Keywords.Mi+" <1..>|"+Keywords.vb,"stop at generation",n,p,b,k,c);b=this.b(e,Keywords.fm+" <"+ViewConstants.Wd+".."+ViewConstants.Nh+">","set steps per second",n,p,b,k,c);b=this.b(e,Keywords.Jm+" <"+ViewConstants.qm+".."+ViewConstants.ff+">","set generations per step",
n,p,b,k,c);b=this.b(e,Keywords.Nv,"always use hard reset",n,p,b,k,c);b=this.b(e,Keywords.Lq,"disable playback",n,p,b,k,c);b=this.b(e,Keywords.Ew,"disable step back",n,p,b,k,c);b=this.b(e,Keywords.Gw,"disable stop messages",n,p,b,k,c);b=this.b(e,Keywords.Fw,"disable performance warning",n,p,b,k,c);b=this.b(e,Keywords.Jw,"disable playback throttling",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[f]=[e.S,"Camera"];f+=1;b=this.b(e,"","Camera:",n,p,b,k,c);b=this.b(e,Keywords.Dk+" <0..359>","set camera angle",
n,p,b,k,c);b=this.b(e,Keywords.Qe+" <-"+(e.a.$>>1)+".."+(e.a.$>>1)+">","set camera x position",n,p,b,k,c);b=this.b(e,Keywords.Re+" <-"+(e.a.$>>1)+".."+(e.a.$>>1)+">","set camera y position",n,p,b,k,c);b=this.b(e,Keywords.zd+" <"+Number(-1/ViewConstants.Kb).toFixed(1)+".."+ViewConstants.zc.toFixed(1)+">","set camera zoom",n,p,b,k,c);b=this.b(e,Keywords.Du,"same as "+Keywords.zd,n,p,b,k,c);b=this.b(e,Keywords.Uq+" ("+Keywords.vb+")","fit pattern to display",n,p,b,k,c);b=this.b(e,Keywords.Uv+" ("+Keywords.vb+
")","autofit uses pattern history",n,p,b,k,c);b=this.b(e,Keywords.oy+" ("+Keywords.vb+")","autofit only uses state 1",n,p,b,k,c);b=this.b(e,Keywords.Dq+" X Y","camera tracking",n,p,b,k,c);b=this.b(e," X ","horizontal speed cells/gen",n,p,b,k,c);b=this.b(e," Y ","vertical speed cells/gen",n,p,b,k,c);b=this.b(e,Keywords.Rm+" E S W N","camera box tracking",n,p,b,k,c);b=this.b(e," E ","east edge speed cells/gen",n,p,b,k,c);b=this.b(e," S ","south edge speed cells/gen",n,p,b,k,c);b=this.b(e," W ","west edge speed cells/gen",
n,p,b,k,c);b=this.b(e," N ","north edge speed cells/gen",n,p,b,k,c);b=this.b(e,Keywords.Cq+" P X Y","camera tracking with loop",n,p,b,k,c);b=this.b(e," P ","period",n,p,b,k,c);b=this.b(e," X ","horizontal speed cells/gen",n,p,b,k,c);b=this.b(e," Y ","vertical speed cells/gen",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[f]=[e.S,"Waypoints"];f+=1;b=this.b(e,"","Waypoints:",n,p,b,k,c);b=this.b(e,Keywords.qq+" <0..>","waypoint at generation",n,p,b,k,c);b=this.b(e,Keywords.nx+" <0.0..>","pause for time",
n,p,b,k,c);b=this.b(e,Keywords.Tg+" "+Keywords.Lf+"|"+Keywords.Qe+"|"+Keywords.Re+"|"+Keywords.zd,"linear motion",n,p,b,k,c);b=this.b(e,Keywords.ni+" "+Keywords.Lf+"|"+Keywords.Qe+"|"+Keywords.Re+"|"+Keywords.zd,"bezier motion (default)",n,p,b,k,c);b=this.b(e,Keywords.UC,"save timing at waypoint start",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[f]=[e.S,"POIs"];f+=1;b=this.b(e,"","Points of interest:",n,p,b,k,c);b=this.b(e,Keywords.Ps,"define point of interest",n,p,b,k,c);b=this.b(e,Keywords.Os+" <0..>",
"start POI at generation",n,p,b,k,c);b=this.b(e,Keywords.Xp,"reset generation at POI",n,p,b,k,c);b=this.b(e,Keywords.Xn,"start playback at POI",n,p,b,k,c);b=this.b(e,Keywords.Yn,"stop playback at POI",n,p,b,k,c);b=this.b(e,Keywords.Yp+" <"+WaypointConstants.cC+".."+WaypointConstants.bC+">","set POI transition speed",n,p,b,k,c);b=this.b(e,"<command>|ALL "+Keywords.Jb,"use initial value for POI",n,p,b,k,c);b=this.b(e,Keywords.ad+"<string>"+Keywords.ad,"define message",n,p,b,k,c);b=this.b(e,"","",n,
p,b,k,c);e.W[f]=[e.S,"Annotations"];f+=1;b=this.b(e,"","Annotations:",n,p,b,k,c);b=this.b(e,Keywords.vp+" X Y ZOOM ("+Keywords.Ge+")","define label at position",n,p,b,k,c);b=this.b(e," "+Keywords.ad+"<string>"+Keywords.ad,"... optionally fix position",n,p,b,k,c);b=this.b(e,Keywords.iw+" <"+ViewConstants.kB+".."+ViewConstants.bB+">","define label font size",n,p,b,k,c);b=this.b(e,Keywords.gw+" <0.0..1.0>","define label font alpha",n,p,b,k,c);b=this.b(e,Keywords.jw+" <0..> <0..> <0..>","generation range / fade",
n,p,b,k,c);b=this.b(e,Keywords.hw+" <0..359>","label angle",n,p,b,k,c);b=this.b(e," ("+Keywords.Ge+")","... optionally fix angle",n,p,b,k,c);b=this.b(e,Keywords.kw+" X Y D|"+Keywords.vb,"label target and distance",n,p,b,k,c);b=this.b(e,Keywords.lw+" DX DY|"+Keywords.Ge,"label move per generation",n,p,b,k,c);b=this.b(e,Keywords.zo+" X1 Y1 X2 Y2 ZOOM","define arrow at position",n,p,b,k,c);b=this.b(e," ("+Keywords.Ge+")","... optionally fix position",n,p,b,k,c);b=this.b(e,Keywords.Hu+" <"+ViewConstants.As+
".."+ViewConstants.vs+"> <0.0..1.0>","line width and head multiple",n,p,b,k,c);b=this.b(e,Keywords.Fu+" <0.0..1.0>","define arrow alpha",n,p,b,k,c);b=this.b(e,Keywords.Iu+" <0..> <0..> <0..>","generation range / fade",n,p,b,k,c);b=this.b(e,Keywords.Gu+" <0..359>","arrow angle",n,p,b,k,c);b=this.b(e," ("+Keywords.Ge+")","... optionally fix angle",n,p,b,k,c);b=this.b(e,Keywords.Ju+" X Y D|"+Keywords.vb,"arrow target and distance",n,p,b,k,c);b=this.b(e,Keywords.Ku+" DX DY|"+Keywords.Ge,"arrow move per generation",
n,p,b,k,c);b=this.b(e,Keywords.tx+" X1 Y1 X2 Y2 .. ZOOM","define outline polygon",n,p,b,k,c);b=this.b(e," ("+Keywords.Ge+")","... optionally fix position",n,p,b,k,c);b=this.b(e,Keywords.Qs+" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",n,p,b,k,c);b=this.b(e," ("+Keywords.Ge+")","... optionally fix position",n,p,b,k,c);b=this.b(e,Keywords.ux+" <"+ViewConstants.As+".."+ViewConstants.vs+">","line width",n,p,b,k,c);b=this.b(e,Keywords.rx+" <0.0..1.0>","define polygon alpha",n,p,b,k,c);b=this.b(e,Keywords.vx+
" <0..> <0..> <0..>","generation range / fade",n,p,b,k,c);b=this.b(e,Keywords.sx+" <0..359>","polygon angle",n,p,b,k,c);b=this.b(e," ("+Keywords.Ge+")","... optionally fix angle",n,p,b,k,c);b=this.b(e,Keywords.wx+" X Y D|"+Keywords.vb,"polygon target and distance",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[f]=[e.S,"Display"];f+=1;b=this.b(e,"","Display:",n,p,b,k,c);b=this.b(e,Keywords.uo+" <"+ViewConstants.wd+".."+e.gj+">","set LifeViewer width",n,p,b,k,c);b=this.b(e,Keywords.xn+" <"+ViewConstants.ck+
".."+ViewConstants.ws+">","set LifeViewer height",n,p,b,k,c);b=this.b(e,Keywords.$p+" <"+ViewConstants.wd+".."+e.gj+">","set popup width",n,p,b,k,c);b=this.b(e,Keywords.Zp+" <"+ViewConstants.ck+".."+ViewConstants.ws+">","set popup height",n,p,b,k,c);b=this.b(e,Keywords.po+" "+Keywords.ad+"<string>"+Keywords.ad,"set popup window title",n,p,b,k,c);b=this.b(e," "+Keywords.Hf+"B","program build number",n,p,b,k,c);b=this.b(e," "+Keywords.Hf+"N","pattern name",n,p,b,k,c);b=this.b(e," "+Keywords.Hf+"O",
"pattern originator",n,p,b,k,c);b=this.b(e," "+Keywords.Hf+"R","rule name",n,p,b,k,c);b=this.b(e," "+Keywords.Hf+"A","rule alias",n,p,b,k,c);b=this.b(e," "+Keywords.Hf+"T","program title",n,p,b,k,c);b=this.b(e," "+Keywords.Hf+"0..9","saved timing as average fps",n,p,b,k,c);b=this.b(e," "+Keywords.Hf+Keywords.Hf,Keywords.Hf+" symbol",n,p,b,k,c);b=this.b(e,Keywords.nm+" <"+ViewConstants.zs+".."+ViewConstants.us+">","set number of layers",n,p,b,k,c);b=this.b(e,Keywords.Xl+" <"+ViewConstants.ys.toFixed(1)+
".."+ViewConstants.$A.toFixed(1)+">","set layer depth",n,p,b,k,c);b=this.b(e,Keywords.$o+" ("+Keywords.vb+")","display gridlines",n,p,b,k,c);b=this.b(e,Keywords.Zo+" <0..16>","set major grid line interval",n,p,b,k,c);b=this.b(e,Keywords.bs+" <0.."+(2<e.a.g?1:63)+">","number of history states",n,p,b,k,c);b=this.b(e,Keywords.pq+" ("+Keywords.vb+")","display stars",n,p,b,k,c);b=this.b(e,Keywords.Pv,"hexagonal cells for hex",n,p,b,k,c);b=this.b(e,Keywords.jy,"square cells for hex",n,p,b,k,c);b=this.b(e,
Keywords.Dw,"disable menus and hotkeys",n,p,b,k,c);b=this.b(e,Keywords.Tv,"hide menus during playback",n,p,b,k,c);b=this.b(e,Keywords.hy,"show timing information",n,p,b,k,c);b=this.b(e,Keywords.Ev,"extended timing information",n,p,b,k,c);b=this.b(e,Keywords.fy,"show generation statistics",n,p,b,k,c);b=this.b(e,Keywords.gy,"show information bar",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[f]=[e.S,"Thumb"];f+=1;b=this.b(e,"","Thumbnails:",n,p,b,k,c);b=this.b(e,Keywords.Ey+" ("+Keywords.vb+")","start at 1/"+
e.Zd+" size",n,p,b,k,c);b=this.b(e,Keywords.By+" <"+ViewConstants.pB+".."+ViewConstants.gB+">","set thumbnail divisor",n,p,b,k,c);b=this.b(e,Keywords.zy+" ("+Keywords.vb+")","thumbnail launches viewer",n,p,b,k,c);b=this.b(e,Keywords.Dy+" <"+Number(-1/ViewConstants.Kb).toFixed(1)+".."+ViewConstants.zc.toFixed(1)+">","set thumbnail zoom",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[f]=[e.S,"Graph"];f+=1;b=this.b(e,"","Population Graph:",n,p,b,k,c);b=this.b(e,Keywords.Pr,"display population graph",n,p,
b,k,c);b=this.b(e,Keywords.Kv+" <0.0..1.0>","population graph opacity",n,p,b,k,c);b=this.b(e,Keywords.Lv,"population graph use points",n,p,b,k,c);b=this.b(e,Keywords.Ds,"disable population graph",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[f]=[e.S,"Colours"];f+=1;b=this.b(e,"","Colours:",n,p,b,k,c);b=this.b(e,Keywords.rk+" <0.."+(e.a.pe-1)+">|name","set theme",n,p,b,k,c);b=this.b(e," name = "+Keywords.oo,"set custom theme",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.zt+" R G B","set theme background",
n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.yt+" R G B","set theme alive color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.vy+" R G B","set theme alive ramp",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.Bt+" R G B","set theme dead color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.At+" R G B","set theme dead ramp",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.xy+" R G B","set theme dying color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.wy+" R G B","set theme dying ramp",n,p,b,k,
c);b=this.b(e,Keywords.Ea+" "+Keywords.Lz+" R G B","set boundary color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" <0.."+String(e.gk-1)+"> R G B","set state color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.xB+" R G B","set [R]History state color "+ViewConstants.OG,n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.yB+" R G B","set [R]History state color "+ViewConstants.PG,n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.CA+" R G B","set [R]History state color "+ViewConstants.hG,n,p,b,k,c);b=this.b(e,Keywords.Ea+
" "+Keywords.SA+" R G B","set [R]History state color "+ViewConstants.TA,n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.WA+" R G B","set [R]History state color "+ViewConstants.XA,n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.UA+" R G B","set [R]History state color "+ViewConstants.VA,n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.KA+" R G B","set [R]History state color "+ViewConstants.LA,n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.$o+" R G B","set grid color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+
Keywords.Zo+" R G B","set grid major color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.pq+" R G B","set star color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.ty+" R G B","set waypoint message color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.Dv+" R G B","set error message color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.tA+" R G B","set graph background color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.sA+" R G B","set graph axis color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+
Keywords.rA+" R G B","set graph alive color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.uA+" R G B","set graph birth color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.vA+" R G B","set graph death color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.vp+" R G B","set label text color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.zo+" R G B","set arrow line color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.gC+" R G B","set polygon color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.$C+
" R G B","set UI foreground color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.YC+" R G B","set UI background color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.aD+" R G B","set UI highlight text color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.cD+" R G B","set UI selected color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.bD+" R G B","set UI locked color",n,p,b,k,c);b=this.b(e,Keywords.Ea+" "+Keywords.ZC+" R G B","set UI border color",n,p,b,k,c);b=this.b(e,Keywords.Yu,"same as "+Keywords.Ea,
n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[f]=[e.S,"Pattern"];f+=1;b=this.b(e,"","Pattern:",n,p,b,k,c);b=this.b(e,Keywords.Mt+" <-"+(e.a.$>>1)+".."+(e.a.$>>1)+">","set pattern x offset",n,p,b,k,c);b=this.b(e,Keywords.Ot+" <-"+(e.a.$>>1)+".."+(e.a.$>>1)+">","set pattern y offset",n,p,b,k,c);b=this.b(e,Keywords.qv+" <"+ViewConstants.iB+".."+ViewConstants.ZA+">","set boundary delete range",n,p,b,k,c);b=this.b(e,Keywords.Cw,"disable pattern source copy",n,p,b,k,c);b=this.b(e,Keywords.Iw,"hide pattern source",
n,p,b,k,c);b=this.b(e,Keywords.uw+" <"+ViewConstants.jB+".."+ViewConstants.aB+">","set maximum grid size 2^n",n,p,b,k,c);b=this.b(e,Keywords.ao+" name X Y (<1..>)+","create a named recipe",n,p,b,k,c);b=this.b(e,Keywords.Cm+" name rle","create a named rle",n,p,b,k,c);b=this.b(e," (X Y) (TRANS)","... X Y and transformation",n,p,b,k,c);b=this.b(e," "+Keywords.Ty,"identity",n,p,b,k,c);b=this.b(e," "+Keywords.Qy,"flip",n,p,b,k,c);b=this.b(e," "+Keywords.Ry,"flip X",n,p,b,k,c);b=this.b(e," "+Keywords.Sy,
"flip Y",n,p,b,k,c);b=this.b(e," "+Keywords.Wy,"swap X and Y",n,p,b,k,c);b=this.b(e," "+Keywords.Xy,"swap X and Y and flip",n,p,b,k,c);b=this.b(e," "+Keywords.Vy,"rotate clockwise",n,p,b,k,c);b=this.b(e," "+Keywords.Uy,"rotate counter-clockwise",n,p,b,k,c);b=this.b(e,Keywords.Js+" name|rle (X Y)","paste rle at optional X Y",n,p,b,k,c);b=this.b(e," (TRANS)","... optional transformation",n,p,b,k,c);b=this.b(e,Keywords.Is+" <0..>","set paste generation",n,p,b,k,c);b=this.b(e,"(recipe|<1..>+)*","... optional delta list",
n,p,b,k,c);b=this.b(e,Keywords.Is+" "+Keywords.Kr+" <1..>","set paste interval",n,p,b,k,c);b=this.b(e," (<0..> (<1..>))","... optional start and end",n,p,b,k,c);b=this.b(e,Keywords.ex+" <0..15>|mode","set paste mode",n,p,b,k,c);b=this.b(e," 0   0000  "+Keywords.kx,"",n,p,b,k,c);b=this.b(e," 1   0001  "+Keywords.Ww,"",n,p,b,k,c);b=this.b(e," 2   0010  "+Keywords.Rw,"",n,p,b,k,c);b=this.b(e," 3   0011  "+Keywords.gx+"|"+Keywords.Yw,"",n,p,b,k,c);b=this.b(e," 4   0100  "+Keywords.Sw,"",n,p,b,k,c);b=
this.b(e," 5   0101  "+Keywords.jx,"",n,p,b,k,c);b=this.b(e," 6   0110  "+Keywords.ix,"",n,p,b,k,c);b=this.b(e," 7   0111  "+Keywords.dx,"",n,p,b,k,c);b=this.b(e," 8   1000  "+Keywords.$w,"",n,p,b,k,c);b=this.b(e," 9   1001  "+Keywords.fx,"",n,p,b,k,c);b=this.b(e," 10  1010  "+Keywords.bx,"",n,p,b,k,c);b=this.b(e," 11  1011  "+Keywords.Tw,"",n,p,b,k,c);b=this.b(e," 12  1100  "+Keywords.ax,"",n,p,b,k,c);b=this.b(e," 13  1101  "+Keywords.Uw,"",n,p,b,k,c);b=this.b(e," 14  1110  "+Keywords.Zw,"",n,p,
b,k,c);b=this.b(e," 15  1111  "+Keywords.cx,"",n,p,b,k,c);b=this.b(e,Keywords.fw,"suppress escaping gliders",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[f]=[e.S,"Randomize"];b=this.b(e,"","Randomize:",n,p,b,k,c);b=this.b(e,Keywords.Gx+" <string>","set random seed",n,p,b,k,c);b=this.b(e,Keywords.Ix+" <"+ViewConstants.oB+".."+ViewConstants.fB+">","set random pattern width",n,p,b,k,c);b=this.b(e,Keywords.Dx+" <"+ViewConstants.nB+".."+ViewConstants.eB+">","set random pattern height",n,p,b,k,c);b=this.b(e,
Keywords.Cx+" <"+ViewConstants.mB+".."+ViewConstants.dB+">","set random pattern fill percentage",n,p,b,k,c);e.a.Aa||e.a.M?(b=this.b(e,Keywords.Ex,"only generate reversible rules",n,p,b,k,c),this.b(e,Keywords.Hx,"only generate fixed population rules",n,p,b,k,c)):e.a.xa||-1!==e.a.Hd||(b=this.b(e,Keywords.Bx+" <item> <0..100>","set percentage change for <item>",n,p,b,k,c),b=this.b(e," "+Keywords.Lf,"all conditions",n,p,b,k,c),b=this.b(e," "+Keywords.Xs,"all birth conditions",n,p,b,k,c),b=this.b(e," "+
Keywords.bt,"all survival conditions",n,p,b,k,c),b=this.b(e," "+Keywords.Xs+"<0..n>","specified birth condition",n,p,b,k,c),this.b(e," "+Keywords.bt+"<0..n>","specified survival condition",n,p,b,k,c))},xH:function(e,n,p,b,k,c){var f,d=Controller.ld.length;var g=e.De;var m=e.a.$a[e.a.sf];var q=0;var r=e.i.Pe;e.S=1;e.ag=!1;e.W=[];e.X[0]=128;e.W[q]=[e.S,"Top"];q+=1;b=this.b(e,"","Information",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[q]=[e.S,"Display"];q+=1;b=this.b(e,"","Display:",n,p,b,k,c);b=this.b(e,
"Size",e.D+" x "+e.C,n,p,b,k,c);b=this.b(e,"Scale",e.i.Pe.toFixed(2),n,p,b,k,c);b=this.b(e,"Pixel Ratio",e.devicePixelRatio.toFixed(2),n,p,b,k,c);b=this.b(e,"Window Zoom",e.Oe.toFixed(2),n,p,b,k,c);DocConfig.Bp&&(b=this.b(e,"Limit Width",e.gj,n,p,b,k,c));var w=e.a.Ba;1>w&&(w=-1/w);b=this.b(e,"View","X "+-(e.a.width/2-(e.a.pa+e.a.Db)|0)+"  Y "+-(e.a.height/2-(e.a.ka+e.a.wb)|0)+"  Z "+w.toFixed(2)+"  ANGLE "+e.a.angle.toFixed(0),n,p,b,k,c);w=e.co;1>w&&(w=1/w);b=this.b(e,"Saved View","X "+-(e.a.width/
2-e.re|0)+"  Y "+-(e.a.height/2-e.Ji|0)+"  Z "+w.toFixed(2)+"  ANGLE "+e.Wx.toFixed(0),n,p,b,k,c);b=this.b(e,"Origin","X "+e.a.Db.toFixed(2)+"  Y "+e.a.wb.toFixed(2)+"  Z "+e.a.tc.toFixed(3),n,p,b,k,c);var u=e.Ia?e.Pc?"Multi-State Viewer":"Viewer":e.a.ib?"History Player":"Player";u=e.Rd?u+" (PopUp)":u+" (InLine)";b=this.b(e,"Type",u,n,p,b,k,c);u=e.a.V?"Hexagonal":e.a.ba?"Triangular":"Square";b=this.b(e,"Mode",u,n,p,b,k,c);u=e.a.V&&e.a.$d?"Hexagonal":e.a.ba?"Triangular":"Square";b=this.b(e,"Cells",
u,n,p,b,k,c);e.sk&&(b=this.b(e,"Thumbnail","1/"+e.Zd,n,p,b,k,c));b=this.b(e,"","",n,p,b,k,c);e.W[q]=[e.S,"Pattern"];q+=1;b=this.b(e,"","Pattern:",n,p,b,k,c);""!==e.Tn&&(b=this.b(e,"Name",e.Tn,n,p,b,k,c));""!==e.Pp&&(b=this.b(e,"Originator",e.Pp,n,p,b,k,c));b=this.b(e,"Actual Size",e.qb+" x "+e.xb,n,p,b,k,c);-1!==e.uj&&-1!==e.tj&&(b=this.b(e,"Specified",e.uj+" x "+e.tj,n,p,b,k,c));0<e.Wf.length&&(b=this.b(e,"Pastes",e.Wf.length,n,p,b,k,c),b=this.b(e,"Paste Size",e.gl-e.fl+1+" x "+(e.hl-e.el+1)+" from ("+
e.fl+", "+e.el+") to ("+e.gl+", "+e.hl+")",n,p,b,k,c),b=this.b(e,"Paste Max T",e.Zk+(e.bk?" + "+Keywords.Kr:""),n,p,b,k,c));0<e.qj.length&&(b=this.b(e,"RLEs",e.qj.length,n,p,b,k,c));0<e.pj.length&&(b=this.b(e,"Recipes",e.pj.length,n,p,b,k,c));b=this.b(e,"Offset","X "+e.zb+"  Y "+e.Ab,n,p,b,k,c);e.Vj&&(b=this.b(e,"CXRLE Gen",e.Ch,n,p,b,k,c));e.Gi&&(b=this.b(e,"CXRLE Pos","X "+e.ll+"  Y "+e.ml,n,p,b,k,c));e.oz&&(b=this.b(e,"Clipped",(0===e.a.ha?"Inf":e.a.ha)+" x "+(0===e.a.ma?"Inf":e.a.ma)+" "+PatternManager.Mz(e.a.ua),
n,p,b,k,c));e.va?u=e.Yc:(u=e.Yc,""===u&&(u="(none)"));if("MAP"===u.substr(0,3)&&u.length===PatternManager.RA+3)for(b=this.b(e,"Rule","MAP",n,p,b,k,c),w=3;w<PatternManager.RA+3;)b=this.b(e,"  "+(w-3),u.substr(w,16),n,p,b,k,c),w+=16;else e.ag=!0,b=this.b(e,"Rule",u,n,p,b,k,c),e.ag=!1;""!==e.Xc&&(b=this.b(e,"Alias",e.Xc,n,p,b,k,c));e.a.Aa?u="Margolus":-1!==e.a.Hd?u="1D":e.a.Ks?u="Hex":e.a.xa?(u=e.a.Ib.type===PatternManager.Af?"Moore":e.a.Ib.type===PatternManager.$f?"von Neumann":"Circular",1<e.a.Ib.Rc&&
(u+=" range "+e.a.Ib.Rc)):e.a.ba?(u="Triangular",e.a.yd===PatternManager.Tm?u+=" Edges":e.a.yd===PatternManager.Um&&(u+=" Vertices")):u=e.a.Ie||e.a.M?"von Neumann":"Moore";b=this.b(e,"N'hood",u,n,p,b,k,c);u=e.gk;2<e.gk&&e.Rp!==e.gk&&(u=e.Rp+" of "+u);b=this.b(e,"States",u,n,p,b,k,c);if(e.Qp)for(f=1;f<e.gk;f+=1)e.Qp[f]&&(b=this.b(e,"State "+f,e.Qp[f],n,p,b,k,c));b=this.b(e,"Decoder",e.Ci,n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[q]=[e.S,"Identify"];q+=1;b=this.b(e,"","Identify:",n,p,b,k,c);b=this.b(e,
"Enabled",e.fc?"Yes":"No",n,p,b,k,c);"none"!==e.lb&&"Empty"!==e.lb&&(b=this.b(e,"Type",e.lb,n,p,b,k,c),b=this.b(e,"Cells",e.Fn,n,p,b,k,c),"Oscillator"!==e.lb||e.zf||(b=this.b(e,"ActiveCells",e.ms,n,p,b,k,c)),b=this.b(e,"BoundingBox",e.wp,n,p,b,k,c),"Oscillator"===e.lb?(b=this.b(e,"Period",e.In,n,p,b,k,c),e.zf||(b=this.b(e,"Mod",e.Hn,n,p,b,k,c))):"Still Life"!==e.lb&&(b=this.b(e,"Direction",e.xp,n,p,b,k,c),b=this.b(e,"Period",e.In,n,p,b,k,c),e.zf||(b=this.b(e,"Mod",e.Hn,n,p,b,k,c)),b=this.b(e,"Slope",
e.yp,n,p,b,k,c),b=this.b(e,"Speed",e.Jn,n,p,b,k,c)),"Still Life"!==e.lb&&(b=this.b(e,"Heat",e.Gn,n,p,b,k,c)),"Oscillator"!==e.lb||e.zf||(b=this.b(e,"Temperature",e.os,n,p,b,k,c),b=this.b(e,"Volatility",e.zp,n,p,b,k,c)),b=this.b(e,"Generation",e.ns,n,p,b,k,c));b=this.b(e,"","",n,p,b,k,c);e.W[q]=[e.S,"Grid"];q+=1;b=this.b(e,"","Grid:",n,p,b,k,c);b=this.b(e,"Size",e.a.width+" x "+e.a.height,n,p,b,k,c);b=this.b(e,"Maximum",e.a.$+" x "+e.a.$,n,p,b,k,c);b=this.b(e,"Area",this.pE(e),n,p,b,k,c);b=0!==(e.a.v&
1)?this.b(e,"Tiles",e.a.Mm(e.a.Ka)+" / "+e.a.Mm(e.a.ab)+" / "+e.a.Mm(e.a.Ga),n,p,b,k,c):this.b(e,"Tiles",e.a.Mm(e.a.oa)+" / "+e.a.Mm(e.a.ab)+" / "+e.a.Mm(e.a.Ga),n,p,b,k,c);e.a.Ff&&(b=this.b(e,"State6",e.a.Mm(e.a.Ff),n,p,b,k,c));b=this.b(e,"Tile Size",(e.a.wq<<3)+" x "+e.a.xq,n,p,b,k,c);b=this.b(e,"Generation",e.a.v,n,p,b,k,c);0!==e.Ch&&(b=this.b(e,"AbsoluteGen",e.a.v+e.Ch,n,p,b,k,c));e.a.Aa&&(b=this.b(e,"MargolusGen",e.a.uf+e.Ch,n,p,b,k,c));e.a.M&&(b=this.b(e,"PCAGen",e.a.uf+e.Ch,n,p,b,k,c));(e.a.Aa||
e.a.M)&&e.a.Vc&&(w=e.a.Cc,e.a.$c&&(w=!w),b=this.b(e,"Direction",w?"Reverse":"Forward",n,p,b,k,c));b=this.b(e,"DeleteRange",e.a.eq,n,p,b,k,c);e.a.oi&&(b=this.b(e,"KillGliders",e.a.Gp,n,p,b,k,c));b=this.b(e,"","",n,p,b,k,c);-1!==e.a.ua&&(e.W[q]=[e.S,"Bounded"],q+=1,b=this.b(e,"","Bounded grid:",n,p,b,k,c),b=this.b(e,"Type",PatternManager.Mz(e.a.ua),n,p,b,k,c),b=0===e.a.ha?this.b(e,"Width","Infinite",n,p,b,k,c):this.b(e,"Width",e.a.ha,n,p,b,k,c),4!==e.a.ua&&(b=0===e.a.ma?this.b(e,"Height","Infinite",
n,p,b,k,c):this.b(e,"Height",e.a.ma,n,p,b,k,c),2===e.a.ua&&(b=e.a.Zq?this.b(e,"Twist","Horizontal",n,p,b,k,c):this.b(e,"Twist","Vertical",n,p,b,k,c)),0!==e.a.Ol&&(b=this.b(e,"H'Shift",e.a.Ol,n,p,b,k,c)),0!==e.a.Pl&&(b=this.b(e,"V'Shift",e.a.Pl,n,p,b,k,c))),b=this.b(e,"","",n,p,b,k,c));e.W[q]=[e.S,"AutoFit"];q+=1;b=this.b(e,"","AutoFit:",n,p,b,k,c);b=this.b(e,"Enabled",e.bc?"On":"Off",n,p,b,k,c);b=this.b(e,"Mode",this.wE(e),n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[q]=[e.S,"Track"];q+=1;b=this.b(e,
"","Track:",n,p,b,k,c);b=this.b(e,"Enabled",e.jd&&!e.Ne?"On":"Off",n,p,b,k,c);e.jd&&(e.Qm?(b=this.b(e,"Mode","Track Box",n,p,b,k,c),b=this.b(e,"Definition","E "+e.Aj.toFixed(3)+"  S "+e.Bj.toFixed(3)+"  W "+e.uk.toFixed(3)+"  N "+e.tk.toFixed(3),n,p,b,k,c)):(b=this.b(e,"Mode","Track",n,p,b,k,c),b=this.b(e,"Definition","X "+e.Aj.toFixed(3)+"  Y "+e.Bj.toFixed(3),n,p,b,k,c)));b=this.b(e,"Current","E "+e.ir.toFixed(3)+"  S "+e.kr.toFixed(3)+"  W "+e.lr.toFixed(3)+"  N "+e.jr.toFixed(3),n,p,b,k,c);b=
this.b(e,"","",n,p,b,k,c);e.W[q]=[e.S,"Undo/Redo"];q+=1;b=this.b(e,"","Undo/Redo:",n,p,b,k,c);b=this.b(e,"Enabled",e.Je?"Off":"On",n,p,b,k,c);if(!e.Je)for(b=this.b(e,"Snapshots",e.a.Yf.RI()+"/"+e.a.Yf.th.length,n,p,b,k,c),b=this.b(e,"Buffer",(e.a.Yf.bufferSize()>>10)+"K",n,p,b,k,c),b=this.b(e,"Next Gen",e.a.rm,n,p,b,k,c),b=this.b(e,"Undo",e.Yb,n,p,b,k,c),b=this.b(e,"Redo",e.tm-e.Yb,n,p,b,k,c),f=0;9>=f;f+=1)null!==e.Cf[f]&&(b=this.b(e,"Clip "+f+(f===e.Mg?"*":""),e.Cf[f].width+" x "+e.Cf[f].height,
n,p,b,k,c));b=this.b(e,"","",n,p,b,k,c);e.W[q]=[e.S,"Engine"];q+=1;b=this.b(e,"","Engine:",n,p,b,k,c);b=this.b(e,"Name",ViewConstants.hD,n,p,b,k,c);b=this.b(e,"Build",ViewConstants.ez,n,p,b,k,c);b=this.b(e,"Author",ViewConstants.gD,n,p,b,k,c);b=this.b(e,"Decoders","RLE, Life 1.06, Life 1.05, Cells",n,p,b,k,c);b=this.b(e,"N'hoods","Moore, Hex, von Neumann, Circular, 1D",n,p,b,k,c);b=this.b(e,"Rules","Wolfram, Totalistic, Generations, Margolus,",n,p,b,k,c);b=this.b(e," ","Isotropic Non-Totalistic (Hensel, Callahan),",
n,p,b,k,c);b=this.b(e," ","Alternating, MAP, Larger than Life (LtL),",n,p,b,k,c);b=this.b(e," ","Higher-range outer-totalistic (HROT)",n,p,b,k,c);b=this.b(e," ","Partitioned cellular automata (PCA)",n,p,b,k,c);b=this.b(e,"BoundedGrid","Plane, Torus, Klein, Cross-surface, Sphere",n,p,b,k,c);b=this.b(e,"States","2 state, [R]History, Niemiec, Generations",n,p,b,k,c);b=this.b(e,"Viewers",d,n,p,b,k,c);b=this.b(e,"Playing",Controller.XI(),n,p,b,k,c);if(DocConfig.Ca){w=Controller.Xd.length;b=this.b(e,"Universe",
"Multi ("+(e.Ec+1)+" of "+w+")",n,p,b,k,c);e.ag=!0;for(f=0;f<w;f+=1)b=this.b(e,String(f+1)+(f===e.Ec?"*":""),Controller.Xd[f].name,n,p,b,k,c),b=this.b(e," ",Controller.Xd[f].OH,n,p,b,k,c),b=this.b(e," ",Controller.Xd[f].width+" x "+Controller.Xd[f].height,n,p,b,k,c);e.ag=!1}else b=this.b(e,"Universe","Single",n,p,b,k,c);b=this.b(e,"Endian",littleEndian?"Little":"Big",n,p,b,k,c);b=this.b(e,"ArrayFill",arrayFill?"Yes":"No",n,p,b,k,c);b=this.b(e,"CopyWithin",copyWithin?"Yes":"No",n,p,b,k,c);b=this.b(e,
"","",n,p,b,k,c);e.X[1]=210;e.X[2]=270;e.X[3]=330;if(e.Pc)for(e.W[q]=[e.S,"Colours"],q+=1,b=this.b(e,"","Set:",n,p,b,k,c),b=this.b(e,"Name",e.hn,n,p,b,k,c),b=this.b(e,"Used",e.Rp,n,p,b,k,c),f=0;f<e.Ul.length;f+=1)e.Ul[f]!==ViewConstants.py&&(d=this.qc(g[f]>>16&255,g[f]>>8&255,g[f]&255),u=String(f),e.Ul[f]!==ViewConstants.PC||e.Pq||(u+="*"),this.Za(e,g[f]>>16,g[f]>>8&255,g[f]&255,n,p+e.X[0]*r,b,k,c),b=this.b(e,u,d,n,p,b,k,c));else{e.W[q]=[e.S,"Theme"];q+=1;b=this.b(e,"","Theme:",n,p,b,k,c);b=this.b(e,
"Name",e.a.$a[e.a.sf].name,n,p,b,k,c);b=this.b(e,"History",e.I,n,p,b,k,c);this.Za(e,e.a.Ya[0],e.a.Wa[0],e.a.Va[0],n,p+e.X[0]*r,b,k,c);b=this.b(e,"Background",this.qc(e.a.Ya[0],e.a.Wa[0],e.a.Va[0]),n,p,b,k,c);if(e.a.ub)for(f=1;f<e.a.g;f+=1)this.Za(e,e.a.Ya[f],e.a.Wa[f],e.a.Va[f],n,p+e.X[0]*r,b,k,c),b=this.b(e,"State "+f,this.qc(e.a.Ya[f],e.a.Wa[f],e.a.Va[f]),n,p,b,k,c);else if(e.a.M){for(f=1;16>f;f+=1)g=f+e.I,this.Za(e,e.a.Ya[g],e.a.Wa[g],e.a.Va[g],n,p+e.X[0]*r,b,k,c),u="",f&1&&(u+="N"),f&2&&(u+="E"),
f&4&&(u+="S"),f&8&&(u+="W"),b=this.b(e,u,this.qc(e.a.Ya[g],e.a.Wa[g],e.a.Va[g]),n,p,b,k,c);0<e.I&&(g=e.I,this.Za(e,e.a.Ya[g],e.a.Wa[g],e.a.Va[g],n,p+e.X[0]*r,b,k,c),b=this.b(e,"Dead",this.qc(e.a.Ya[g],e.a.Wa[g],e.a.Va[g]),n,p,b,k,c),1<e.I&&(g=1,this.Za(e,e.a.Ya[g],e.a.Wa[g],e.a.Va[g],n,p+e.X[0]*r,b,k,c),b=this.b(e,"DeadRamp",this.qc(e.a.Ya[g],e.a.Wa[g],e.a.Va[g]),n,p,b,k,c)))}else if(2<e.a.g){g=e.a.g+e.I-1;this.Za(e,e.a.Ya[g],e.a.Wa[g],e.a.Va[g],n,p+e.X[0]*r,b,k,c);b=this.b(e,"Alive",this.qc(e.a.Ya[g],
e.a.Wa[g],e.a.Va[g]),n,p,b,k,c);for(f=1;f<e.a.g-1;f+=1)g=e.a.g-f+e.I-1,this.Za(e,e.a.Ya[g],e.a.Wa[g],e.a.Va[g],n,p+e.X[0]*r,b,k,c),b=this.b(e,"Dying "+f,this.qc(e.a.Ya[g],e.a.Wa[g],e.a.Va[g]),n,p,b,k,c);0<e.I&&(g=e.I,this.Za(e,e.a.Ya[g],e.a.Wa[g],e.a.Va[g],n,p+e.X[0]*r,b,k,c),b=this.b(e,"Dead",this.qc(e.a.Ya[g],e.a.Wa[g],e.a.Va[g]),n,p,b,k,c),1<e.I&&(g=1,this.Za(e,e.a.Ya[g],e.a.Wa[g],e.a.Va[g],n,p+e.X[0]*r,b,k,c),b=this.b(e,"DeadRamp",this.qc(e.a.Ya[g],e.a.Wa[g],e.a.Va[g]),n,p,b,k,c)))}else this.Za(e,
m.Ua.O.red,m.Ua.O.green,m.Ua.O.blue,n,p+e.X[0]*r,b,k,c),b=this.b(e,"Alive",this.Df(m.Ua.O),n,p,b,k,c),m.Ua.O.red!==m.Ua.P.red||m.Ua.O.green!==m.Ua.P.green||m.Ua.O.blue!==m.Ua.P.blue?(this.Za(e,m.Ua.P.red,m.Ua.P.green,m.Ua.P.blue,n,p+e.X[0]*r,b,k,c),b=this.b(e,"AliveRamp",this.Df(m.Ua.P),n,p,b,k,c)):b=this.b(e,"AliveRamp","    (none)",n,p,b,k,c),0<e.I&&(this.Za(e,m.Oa.P.red,m.Oa.P.green,m.Oa.P.blue,n,p+e.X[0]*r,b,k,c),b=this.b(e,"Dead",this.Df(m.Oa.P),n,p,b,k,c),1<e.I&&(m.Oa.O.red!==m.Oa.P.red||m.Oa.O.green!==
m.Oa.P.green||m.Oa.O.blue!==m.Oa.P.blue?(this.Za(e,m.Oa.O.red,m.Oa.O.green,m.Oa.O.blue,n,p+e.X[0]*r,b,k,c),b=this.b(e,"DeadRamp",this.Df(m.Oa.O),n,p,b,k,c)):b=this.b(e,"DeadRamp","    (none)",n,p,b,k,c)));if(e.a.ib)for(f=3;6>=f;f+=1)w=128+ViewConstants.Ma[f],d=this.qc(e.a.Ya[w],e.a.Wa[w],e.a.Va[w]),u=ViewConstants.OC[f],this.Za(e,e.a.Ya[w],e.a.Wa[w],e.a.Va[w],n,p+e.X[0]*r,b,k,c),b=this.b(e,u,d,n,p,b,k,c)}this.Za(e,e.Ik[0],e.Ik[1],e.Ik[2],n,p+e.X[0]*r,b,k,c);b=this.b(e,"Boundary",this.qc(e.Ik[0],e.Ik[1],
e.Ik[2]),n,p,b,k,c);e.Ng&&(this.Za(e,e.Ng[0],e.Ng[1],e.Ng[2],n,p+e.X[0]*r,b,k,c),b=this.b(e,"Text",this.qc(e.Ng[0],e.Ng[1],e.Ng[2]),n,p,b,k,c));e.Qj&&(this.Za(e,e.Qj[0],e.Qj[1],e.Qj[2],n,p+e.X[0]*r,b,k,c),b=this.b(e,"Error",this.qc(e.Qj[0],e.Qj[1],e.Qj[2]),n,p,b,k,c));b=this.b(e,"","",n,p,b,k,c);e.W[q]=[e.S,"Gridlines"];q+=1;b=this.b(e,"","Gridlines:",n,p,b,k,c);u=e.a.Xb?"On":"Off";e.a.Xb&&!e.a.Nj()&&(u+=" (Hidden)");b=this.b(e,"Enabled",u,n,p,b,k,c);this.Za(e,e.a.Dd>>16,e.a.Dd>>8&255,e.a.Dd&255,
n,p+e.X[0]*r,b,k,c);b=this.b(e,"Line Color",this.qc(e.a.Dd>>16,e.a.Dd>>8&255,e.a.Dd&255),n,p,b,k,c);this.Za(e,e.a.Tf>>16,e.a.Tf>>8&255,e.a.Tf&255,n,p+e.X[0]*r,b,k,c);b=this.b(e,"Major Color",this.qc(e.a.Tf>>16,e.a.Tf>>8&255,e.a.Tf&255),n,p,b,k,c);u=0<e.a.bf&&e.a.Yj?String(e.a.bf):"Off";b=this.b(e,"Interval",u,n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[q]=[e.S,"Graph"];q+=1;b=this.b(e,"","Population Graph:",n,p,b,k,c);b=this.b(e,"Enabled",e.Bc?"On":"Off",n,p,b,k,c);b=this.b(e,"Disabled",e.xc?"On":
"Off",n,p,b,k,c);b=this.b(e,"Mode",e.yg?"Lines":"Points",n,p,b,k,c);b=this.b(e,"Opacity",e.Zc.toFixed(2),n,p,b,k,c);this.Za(e,e.a.xi[0],e.a.xi[1],e.a.xi[2],n,p+e.X[0]*r,b,k,c);b=this.b(e,"Bg Color",this.qc(e.a.xi[0],e.a.xi[1],e.a.xi[2]),n,p,b,k,c);this.Za(e,e.a.wi[0],e.a.wi[1],e.a.wi[2],n,p+e.X[0]*r,b,k,c);b=this.b(e,"Axis Color",this.qc(e.a.wi[0],e.a.wi[1],e.a.wi[2]),n,p,b,k,c);this.Za(e,e.a.vi[0],e.a.vi[1],e.a.vi[2],n,p+e.X[0]*r,b,k,c);b=this.b(e,"Alive Color",this.qc(e.a.vi[0],e.a.vi[1],e.a.vi[2]),
n,p,b,k,c);this.Za(e,e.a.yi[0],e.a.yi[1],e.a.yi[2],n,p+e.X[0]*r,b,k,c);b=this.b(e,"Birth Color",this.qc(e.a.yi[0],e.a.yi[1],e.a.yi[2]),n,p,b,k,c);this.Za(e,e.a.zi[0],e.a.zi[1],e.a.zi[2],n,p+e.X[0]*r,b,k,c);b=this.b(e,"Death Color",this.qc(e.a.zi[0],e.a.zi[1],e.a.zi[2]),n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[q]=[e.S,"Randomize"];q+=1;b=this.b(e,"","Randomize:",n,p,b,k,c);b=this.b(e,"Custom Seed",e.Fx?"On":"Off",n,p,b,k,c);b=this.b(e,"Seed",e.ct,n,p,b,k,c);b=this.b(e,"Width",e.et,n,p,b,k,c);b=this.b(e,
"Height",e.$s,n,p,b,k,c);b=this.b(e,"Fill",e.Zs+"%",n,p,b,k,c);if(e.a.Aa||e.a.M)b=this.b(e,"Reversible",e.at?"Only":"Any",n,p,b,k,c),b=this.b(e,"FixedPop",e.dt?"Yes":"No",n,p,b,k,c);else if(!e.a.xa&&-1===e.a.Hd){if(-1===e.ik&&-1===e.ol){b=this.b(e,"Chance ALL"+(-1===e.hk?"*":""),-1===e.hk?"50%":e.hk+"%",n,p,b,k,c);w=!1;for(f=0;f<e.Yg.length;f+=2)0===e.Yg[f]&&(w=!0);w||(b=this.b(e,"Chance B0*","25%",n,p,b,k,c))}else b=this.b(e,"Chance B"+(-1===e.ik?"*":""),-1===e.ik?"50%":e.ik+"%",n,p,b,k,c),b=this.b(e,
"Chance S"+(-1===e.ol?"*":""),-1===e.ol?"50%":e.ol+"%",n,p,b,k,c);for(f=0;f<e.Yg.length;f+=2)b=this.b(e,"Chance B"+e.Yg[f],e.Yg[f+1]+"%",n,p,b,k,c);for(f=0;f<e.Hi.length;f+=2)b=this.b(e,"Chance S"+e.Hi[f],e.Hi[f+1]+"%",n,p,b,k,c)}b=this.b(e,"","",n,p,b,k,c);e.W[q]=[e.S,"Stars"];q+=1;b=this.b(e,"","Stars:",n,p,b,k,c);b=this.b(e,"Enabled",e.Li?"On":"Off",n,p,b,k,c);this.Za(e,e.nk.red,e.nk.green,e.nk.blue,n,p+e.X[0]*r,b,k,c);b=this.b(e,"Color",this.Df(e.nk),n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[q]=
[e.S,"Script"];q+=1;b=this.b(e,"","Script:",n,p,b,k,c);b=this.b(e,"Commands",e.Ip,n,p,b,k,c);b=this.b(e,"Errors",e.Lw,n,p,b,k,c);if(e.Fc)for(b=this.b(e,"","",n,p,b,k,c),e.W[q]=[e.S,"Waypoints"],q+=1,b=this.b(e,"","Waypoints:",n,p,b,k,c),b=this.b(e,"Enabled",e.ue?"Off":"On",n,p,b,k,c),b=this.b(e,"Number",e.N.Da.length,n,p,b,k,c),f=0;f<e.N.Da.length;f+=1)u=String(f),f===e.N.pk&&(u=e.N.Hz(e.elapsedTime)?u+">":u+"*"),b=this.b(e,u,e.N.YI(f),n,p,b,k,c);if(e.N.Vb.length)for(b=this.b(e,"","",n,p,b,k,c),e.W[q]=
[e.S,"POIs"],b=this.b(e,"","Points of interest:",n,p,b,k,c),b=this.b(e,"Number",e.N.Vb.length,n,p,b,k,c),f=0;f<e.N.Vb.length;f+=1)u=String(f+1),f===e.fg&&(u+="*"),f===e.Vl&&(u+=" INITIAL"),w=!1,q=e.N.ZG(f),""!==q&&(b=this.b(e,w?" ":u,(w?"  ":"")+q,n,p,b,k,c),w=!0),q=e.N.cH(f),""!==q&&(b=this.b(e,w?" ":u,(w?"  ":"")+q,n,p,b,k,c),w=!0),q=e.N.$G(f),""!==q&&(b=this.b(e,w?" ":u,(w?"  ":"")+q,n,p,b,k,c),w=!0),q=e.N.aC(f),""!==q&&(b=this.b(e,w?" ":u,(w?"  ":"")+q,n,p,b,k,c),w=!0),q=e.N.bH(f),""!==q&&(b=
this.b(e,w?" ":u,(w?"  ":"")+q,n,p,b,k,c),w=!0),q=e.N.aH(f),""!==q&&(b=this.b(e,w?" ":u,(w?"  ":"")+q,n,p,b,k,c))},BH:function(e,n,p,b,k,c){var f,d=0,g=e.i.Pe;e.S=1;e.ag=!1;e.W=[];e.X[0]=130;e.X[1]=200;e.X[2]=250;e.X[3]=300;e.W[d]=[e.S,"Top"];d+=1;b=this.b(e,"","Themes",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);b=this.b(e,"","Themes are used to provide a visual representation of",n,p,b,k,c);b=this.b(e,"","cell history and longevity and also define grid colours",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);
e.W[d]=[e.S,"Grid"];d+=1;b=this.b(e,"","Grid:",n,p,b,k,c);b=this.b(e,"GRID","grid line colour",n,p,b,k,c);b=this.b(e,"GRIDMAJOR","major grid line colour and interval",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);e.W[d]=[e.S,"2-State"];d+=1;b=this.b(e,"","Two-state Themes:",n,p,b,k,c);b=this.b(e,"BACKGROUND","cell never occupied",n,p,b,k,c);b=this.b(e,"ALIVE","cell just born",n,p,b,k,c);b=this.b(e,"ALIVERAMP","cell alive for several generations",n,p,b,k,c);b=this.b(e,"DEAD","cell just died",n,p,b,k,c);b=
this.b(e,"DEADRAMP","cell dead for several generations",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);b=this.b(e,"",LifeConstants.Kd-LifeConstants.gb+1+" states from ALIVE to ALIVERAMP",n,p,b,k,c);b=this.b(e,"",e.I+" (HISTORYSTATES) states from DEAD to DEADRAMP",n,p,b,k,c);for(f=0;f<e.a.$a.length-1;f+=1){b=this.b(e,"","",n,p,b,k,c);var m=e.a.$a[f];b=this.b(e,"Name"+(f===e.a.sf&&2>=e.a.g?"*":""),m.name,n,p,b,k,c);this.Za(e,m.Na.red,m.Na.green,m.Na.blue,n,p+e.X[0]*g,b,k,c);b=this.b(e,"BACKGROUND",this.Df(m.Na),
n,p,b,k,c);this.Za(e,m.Ua.O.red,m.Ua.O.green,m.Ua.O.blue,n,p+e.X[0]*g,b,k,c);b=this.b(e,"ALIVE",this.Df(m.Ua.O),n,p,b,k,c);if(m.Ua.O.red!==m.Ua.P.red||m.Ua.O.green!==m.Ua.P.green||m.Ua.O.blue!==m.Ua.P.blue)this.Za(e,m.Ua.P.red,m.Ua.P.green,m.Ua.P.blue,n,p+e.X[0]*g,b,k,c),b=this.b(e,"ALIVERAMP",this.Df(m.Ua.P),n,p,b,k,c);this.Za(e,m.Oa.P.red,m.Oa.P.green,m.Oa.P.blue,n,p+e.X[0]*g,b,k,c);b=this.b(e,"DEAD",this.Df(m.Oa.P),n,p,b,k,c);if(m.Oa.O.red!==m.Oa.P.red||m.Oa.O.green!==m.Oa.P.green||m.Oa.O.blue!==
m.Oa.P.blue)this.Za(e,m.Oa.O.red,m.Oa.O.green,m.Oa.O.blue,n,p+e.X[0]*g,b,k,c),b=this.b(e,"DEADRAMP",this.Df(m.Oa.O),n,p,b,k,c);m.Xj&&(this.Za(e,m.Rg>>16,m.Rg>>8&255,m.Rg&255,n,p+e.X[0]*g,b,k,c),b=this.b(e,"GRID",this.qc(m.Rg>>16,m.Rg>>8&255,m.Rg&255),n,p,b,k,c),this.Za(e,m.Sg>>16,m.Sg>>8&255,m.Sg&255,n,p+e.X[0]*g,b,k,c),b=this.b(e,"GRIDMAJOR",this.qc(m.Sg>>16,m.Sg>>8&255,m.Sg&255),n,p,b,k,c),b=this.b(e,"GRIDMAJOR",m.gm,n,p,b,k,c))}b=this.b(e,"","",n,p,b,k,c);e.W[d]=[e.S,"Multi"];b=this.b(e,"","Multi-state Themes:",
n,p,b,k,c);b=this.b(e,"BACKGROUND","cell never occupied",n,p,b,k,c);b=this.b(e,"ALIVE","cell alive",n,p,b,k,c);b=this.b(e,"DYING","cell just starting dying",n,p,b,k,c);b=this.b(e,"DYINGRAMP","cell about to die",n,p,b,k,c);b=this.b(e,"DEAD","cell just died",n,p,b,k,c);b=this.b(e,"DEADRAMP","cell dead for several generations",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);b=this.b(e,"","Rule defines "+(2>e.a.g?"":String(e.a.g-1)+" ")+"states from DYING to DYINGRAMP",n,p,b,k,c);b=this.b(e,"",e.I+" (HISTORYSTATES) states from DEAD to DEADRAMP",
n,p,b,k,c);for(f=0;f<e.a.$a.length-1;f+=1){b=this.b(e,"","",n,p,b,k,c);m=e.a.$a[f];b=this.b(e,"Name"+(f===e.a.sf&&2<e.a.g?"*":""),m.name,n,p,b,k,c);this.Za(e,m.Zh.red,m.Zh.green,m.Zh.blue,n,p+e.X[0]*g,b,k,c);b=this.b(e,"BACKGROUND",this.Df(m.Zh),n,p,b,k,c);this.Za(e,m.Kf.red,m.Kf.green,m.Kf.blue,n,p+e.X[0]*g,b,k,c);b=this.b(e,"ALIVE",this.Df(m.Kf),n,p,b,k,c);this.Za(e,m.Bb.P.red,m.Bb.P.green,m.Bb.P.blue,n,p+e.X[0]*g,b,k,c);b=this.b(e,"DYING",this.Df(m.Bb.P),n,p,b,k,c);if(m.Bb.O.red!==m.Bb.P.red||
m.Bb.O.green!==m.Bb.P.green||m.Bb.O.blue!==m.Bb.P.blue)this.Za(e,m.Bb.O.red,m.Bb.O.green,m.Bb.O.blue,n,p+e.X[0]*g,b,k,c),b=this.b(e,"DYINGRAMP",this.Df(m.Bb.O),n,p,b,k,c);this.Za(e,m.mc.P.red,m.mc.P.green,m.mc.P.blue,n,p+e.X[0]*g,b,k,c);b=this.b(e,"DEAD",this.Df(m.mc.P),n,p,b,k,c);if(m.mc.O.red!==m.mc.P.red||m.mc.O.green!==m.mc.P.green||m.mc.O.blue!==m.mc.P.blue)this.Za(e,m.mc.O.red,m.mc.O.green,m.mc.O.blue,n,p+e.X[0]*g,b,k,c),b=this.b(e,"DEADRAMP",this.Df(m.mc.O),n,p,b,k,c)}},tH:function(e,n,p,b,
k,c){var f,d=ColourManager.De,g=Object.keys(d),m=e.i.Pe;e.S=1;e.ag=!1;e.W=[];e.X[0]=260;e.X[1]=330;e.X[2]=380;e.X[3]=e.D;e.W[0]=[e.S,"Top"];b=this.b(e,"","Colours",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);b=this.b(e,"","The following names can be used in place of R G B",n,p,b,k,c);b=this.b(e,"","for example [[ COLOUR ALIVE Green ]]",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);for(f=0;f<g.length;f+=1){var q=d[g[f]];this.Za(e,q[1],q[2],q[3],n,p+e.X[0]*m,b,k,c);b=this.b(e,q[0],this.qc(q[1],q[2],q[3]),n,p,b,
k,c)}},rH:function(e,n,p,b,k,c){var f,d=0,g=AliasManager.c,m=AliasManager.kf;e.S=1;e.ag=!1;e.W=[];e.X[0]=260;e.W[d]=[e.S,"Top"];d+=1;b=this.b(e,"","Aliases",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);b=this.b(e,"","Alias names can be used as rule names in RLE",n,p,b,k,c);b=this.b(e,"","for example 'rule = HighLife'",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);b=this.b(e,"","* denotes duplicate rule and should be omitted",n,p,b,k,c);e.ag=!0;for(f=0;f<g.length;f+=1)""===g[f][1]?(b=this.b(e,"","",n,p,b,k,c),
e.W[d]=[e.S,m[d-1]],d+=1,b=this.b(e,"",g[f][0]+" Aliases:",n,p,b,k,c)):""!==g[f][0]&&(b=this.b(e,g[f][0]+(g[f][2]?"*":""),g[f][1],n,p,b,k,c))},zH:function(e,n,p,b,k,c){var f,d=0,g=Controller.ld.length,m=0,q=0,r=0,w=0,u;e.S=1;e.ag=!1;e.W=[];e.X[0]=128;e.X[1]=200;e.X[2]=290;e.X[3]=530;e.W[d]=[e.S,"Top"];d+=1;b=this.b(e,"","Memory usage",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c);if(1<g){e.W[d]=[e.S,"All"];d+=1;b=this.b(e,"","Memory (all "+g+" LifeViewers):",n,p,b,k,c);for(f=0;f<g;f+=1)if(u=Controller.UF(f))m+=
u.a.l.Fp,r+=u.a.l.Om>>10,q+=u.a.l.Hp,w+=u.a.l.Pm>>10;b=this.b(e,"In Use",m-q+"\t"+((r>>10)-(w>>10))+"M",n,p,b,k,c);b=this.b(e,"Allocations",m+"\t"+(r>>10)+"M",n,p,b,k,c);b=this.b(e,"Frees",q+"\t"+(w>>10)+"M",n,p,b,k,c);b=this.b(e,"","",n,p,b,k,c)}e.W[d]=[e.S,"Current"];b=this.b(e,"","Memory (this LifeViewer):",n,p,b,k,c);b=this.b(e,"In Use",e.a.l.Fp-e.a.l.Hp+"\t"+this.Lu(e.a.l.Om-e.a.l.Pm)+"M\t"+(e.a.l.Om-e.a.l.Pm),n,p,b,k,c);b=this.b(e,"Allocations",e.a.l.Fp+"\t"+this.Lu(e.a.l.Om)+"M\t"+e.a.l.Om,
n,p,b,k,c);b=this.b(e,"Frees",e.a.l.Hp+"\t"+this.Lu(e.a.l.Pm)+"M\t"+e.a.l.Pm,n,p,b,k,c);b=this.b(e,this.AB("Bytes",10),"Type\tElements\tName\tCount",n,p,b,k,c);for(f=0;f<e.a.l.Kg.length;f+=1)b=this.b(e,this.AB(String(e.a.l.Kg[f].size),10),e.a.l.mE(f),n,p,b,k,c);this.b(e,"","",n,p,b,k,c)},xv:function(e){var n=e.nc,p=e.i.Pe,b=e.i.ai,k=19*b;e.Qc=(e.C/k|0)-6;n.fillStyle="black";n.globalAlpha=.5;n.fillRect(0,0,n.canvas.width,n.canvas.height);n.globalAlpha=1;n.fillStyle=ViewConstants.cp;this.ey=-2;this.oC(e,
n,6*p,14*b,k,e.aa|0);n.fillStyle=ViewConstants.zn;this.ey=0;this.oC(e,n,4*p,12*b,k,e.aa|0)},uH:function(e,n,p,b,k,c,f,d,g,m){var q=d,r=e.i.Pe,w=0,u=!1,y=e.S;c.fillStyle===ViewConstants.cp&&(u=!0);y>=m&&y<=m+e.Qc&&(c.font=e.yn,u||(c.fillStyle=1<(e.Nb|0)?e.ti:ViewConstants.Qr),c.fillText(n,f,d),u||(c.fillStyle=e.ti),c.fillText(p,f+c.measureText(n).width,d),u||(c.fillStyle=(e.Nb|0)<e.Sc.length-e.Qc+1?e.ti:ViewConstants.Qr),c.fillText(b,f+c.measureText(n+p).width,d),e.X[0]&&(w=e.X[0]*r),u||(c.fillStyle=
e.ti),c.font=e.Sk,c.fillText(k,f+w,d),q+=g);return q},jt:function(e,n,p,b,k,c,f,d){var g=c,m=e.i.Pe,q=0,r=e.S;r>=d&&r<=d+e.Qc&&(n.length&&(b.font=e.yn,b.fillText(n,k,c),q=b.measureText(n+" ").width),e.X[0]&&(q=e.X[0]*m),b.font=e.Sk,b.fillText(p,k+q,c),g+=f);e.S+=1;return g},nC:function(e,n,p,b,k,c){var f,d=e.Sc,g=b;e.S=1;e.X[0]=0;n.font=e.Sk;b=this.jt(e,"",ViewConstants.WH,n,p,b,k,c);for(f=0;f<d.length;f+=1)b=this.jt(e,d[f][0],d[f][1],n,p,b,k,c);e.Sa||(e.X[0]=120,e.S=1,b=g+k*(e.Qc+2),b=this.uH(e,
"Up"," / ","Down","scroll errors",n,p,b,k,0),b=this.jt(e,"Esc","clear messages",n,p,b,k,0),this.jt(e,"H  ","help on script commands",n,p,b,k,0))},wv:function(e){var n=e.nc,p=e.i.Pe,b=e.i.ai,k=19*b,c=7;e.Sa&&(c=1);e.Qc=(e.C/k|0)-c;n.fillStyle="black";n.globalAlpha=.5;n.fillRect(0,0,n.canvas.width,n.canvas.height);n.globalAlpha=1;n.fillStyle=ViewConstants.cp;this.nC(e,n,6*p,14*b,k,e.Nb|0);n.fillStyle=e.ti;this.nC(e,n,4*p,12*b,k,e.Nb|0)}}}(),window.Keywords={ad:'"',ql:"[[",eo:"]]",UC:"TIME",qy:"SUPPRESS",
Os:"POIT",Jb:"INITIAL",vb:"OFF",oy:"STATE1FIT",Xp:"POIRESET",Xn:"POIPLAY",Yn:"POISTOP",Yp:"POITRANS",Nv:"HARDRESET",Dq:"TRACK",Rm:"TRACKBOX",Cq:"TRACKLOOP",Gw:"NOREPORT",Pr:"GRAPH",Ds:"NOGRAPH",Kv:"GRAPHOPACITY",Lv:"GRAPHPOINTS",Fw:"NOPERFWARNING",Tv:"AUTOHIDEGUI",Lf:"ALL",Tg:"LINEAR",ni:"BEZIER",gJ:"HEXDISPLAY",nJ:"SQUAREDISPLAY",Pv:"HEXCELLS",jy:"SQUARECELLS",Kz:"CELLBORDERS",GA:"INTEGERZOOM",Gx:"RANDSEED",Ix:"RANDWIDTH",Dx:"RANDHEIGHT",Cx:"RANDFILL",Ex:"RANDREVERSIBLE",Hx:"RANDFIXEDPOP",Bx:"RANDCHANCE",
Xs:"B",bt:"S",qv:"DELETERANGE",hy:"SHOWTIMING",Ev:"EXTENDEDTIMING",fy:"SHOWGENSTATS",gy:"SHOWINFOBAR",Iw:"NOSOURCE",Ps:"POI",po:"TITLE",gC:"POLY",Qs:"POLYFILL",tx:"POLYLINE",rx:"POLYALPHA",ux:"POLYSIZE",vx:"POLYT",sx:"POLYANGLE",wx:"POLYTARGET",fC:"POLYTRACK",zo:"ARROW",Fu:"ARROWALPHA",Hu:"ARROWSIZE",Iu:"ARROWT",Gu:"ARROWANGLE",Ju:"ARROWTARGET",Ku:"ARROWTRACK",vp:"LABEL",gw:"LABELALPHA",iw:"LABELSIZE",jw:"LABELT",hw:"LABELANGLE",kw:"LABELTARGET",lw:"LABELTRACK",Ge:"FIXED",uw:"MAXGRIDSIZE",pq:"STARS",
oo:"CUSTOM",Mt:"XOFFSET",Ot:"YOFFSET",zt:"BACKGROUND",yt:"ALIVE",vy:"ALIVERAMP",Bt:"DEAD",At:"DEADRAMP",xy:"DYING",wy:"DYINGRAMP",$C:"UIFOREGROUND",sJ:"UIFOREGROUNDA",YC:"UIBACKGROUND",qJ:"UIBACKGROUNDA",aD:"UIHIGHLIGHT",tJ:"UIHIGHTLIGHTA",cD:"UISELECT",vJ:"UISELECTA",bD:"UILOCKED",uJ:"UILOCKEDA",ZC:"UIBORDER",rJ:"UIBORDERA",Lz:"BOUNDARY",Uq:"AUTOFIT",Uv:"HISTORYFIT",bs:"HISTORYSTATES",Jm:"STEP",Ew:"NOSTEPBACK",qq:"T",nx:"PAUSE",$o:"GRID",Zo:"GRIDMAJOR",ty:"TEXT",Dv:"ERROR",xB:"OFF",yB:"ON",CA:"HISTORY",
SA:"MARK1",WA:"MARKOFF",UA:"MARK2",KA:"KILL",tA:"GRAPHBG",sA:"GRAPHAXIS",rA:"GRAPHALIVE",uA:"GRAPHBIRTH",vA:"GRAPHDEATH",Ea:"COLOR",Yu:"COLOUR",Lq:"VIEWONLY",Dw:"NOGUI",Cw:"NOCOPY",Ey:"THUMBNAIL",By:"THUMBSIZE",zy:"THUMBLAUNCH",rk:"THEME",Wq:"AUTOSTART",Ai:"LOOP",Mi:"STOP",Dk:"ANGLE",nm:"LAYERS",Xl:"DEPTH",fm:"GPS",zd:"ZOOM",Du:"Z",Qe:"X",Re:"Y",uo:"WIDTH",xn:"HEIGHT",$p:"POPUPWIDTH",Zp:"POPUPHEIGHT",Dy:"THUMBZOOM",Jw:"NOTHROTTLE",fw:"KILLGLIDERS",ao:"RECIPE",Cm:"RLE",Js:"PASTE",Is:"PASTET",Kr:"EVERY",
ex:"PASTEMODE",kx:"ZERO",Ww:"AND",Rw:"0010",gx:"X",Sw:"DIFF",jx:"Y",ix:"XOR",dx:"OR",$w:"NOR",fx:"XNOR",bx:"NOTY",Tw:"1011",ax:"NOTX",Uw:"1101",Zw:"NAND",cx:"ONE",Yw:"COPY",Ty:"IDENTITY",Qy:"FLIP",Ry:"FLIPX",Sy:"FLIPY",Wy:"SWAPXY",Xy:"SWAPXYFLIP",Vy:"RCW",Uy:"RCCW",Hf:"#"},function(){window.KeyProcessor={lH:function(e,n,p){var b=!0;if(p.ctrlKey&&82===n)return!0;switch(n){case 13:e.wj===e.Lm&&e.Xz(e,!0);break;case 84:e.to([!e.o.vl],!0,e);break;default:b=!1}return b},mH:function(e,n,p){var b=!0;if(p.ctrlKey||
p.metaKey||p.altKey)n=-1;switch(n){case 84:e.to([!e.o.vl],!0,e);break;default:b=!1}return b},kH:function(e,n,p){var b=!0,k=0;if(e.sc)!e.Cs&&85===n&&p.shiftKey&&(e.sc=!e.sc,e.i.f=e.sc,e.o.sc=e.sc);else{p.ctrlKey&&37<=n&&40>=n&&(37===n?n=33:38===n?n=36:39===n?n=34:40===n&&(n=35));if(p.altKey&&!p.ctrlKey){if(48<=n&&57>=n)k=n-48,e.Ef||0===e.N.Vb.length?e.Mg===k?e.Nc?e.mx(e):e.XB(e):(e.Ho.current=e.lD(k,!0,e),e.Nc?e.mx(e,k):e.o.notification.K("Clipboard "+k+" active",80,!0)):(--k,0<=k&&k<e.N.Vb.length&&
(e.fg=k,e.by(e,e.fg)));else switch(n){case 46:e.Uu(e,!0,!0);e.o.notification.K("Cleared [R]History marked cells",120,!0);break;case 65:e.Ml.current=e.fz([!e.Ui],!0,e);e.o.notification.K("Auto-Shrink Selection "+(e.Ui?"On":"Off"),40,!0);break;case 66:e.Co.current=e.kD([!e.a.Pd],!0,e);break;case 67:e.Pc||(e.sl(e.Cr,e.a.Hk,e),e.a.ub||e.sj||e.o.notification.K(e.Ct(e.a.sf)+" Theme",40,!0));break;case 68:e.a.Aa&&(e.Kl.current=e.iD([!e.a.Jl],!0,e),e.o.notification.K("Alternating Gridlines "+(e.a.Jl?"On":
"Off"),40,!0));break;case 71:e.a.oi=!e.a.oi;e.o.notification.K("Kill Gliders "+(e.a.oi?"On":"Off"),40,!0);break;case 72:e.a.ib&&(e.a.vf=!0,e.a.Pg=!0,e.o.notification.K("[R]History Display "+(e.a.vf?"On":"Off"),40,!0));break;case 74:e.a.ib&&(e.a.vf=!1,e.a.Pg=!1,e.o.notification.K("[R]History Display "+(e.a.vf?"On":"Off"),40,!0));break;case 75:e.Gd.current!==ViewConstants.al&&(e.Gd.current=e.Ej(ViewConstants.al,!0,e));e.Wp=!0;e.Vg.current=e.zj([!0],!0,e);break;case 76:0<e.N.Nn()&&(e.Wk.current=e.qD([!e.Uh],
!0,e),e.o.notification.K("Annotations "+(e.Uh?"On":"Off"),40,!0));break;case 78:e.tB(e);break;case 79:e.ze&&(e.Mf=!e.Mf,e.Nl.current=[e.Mf],e.o.notification.K("AutoStart "+(e.Mf?"Off":"On"),40,!0));break;case 80:-1!==e.Eb&&(e.te=!e.te,e.Cl.current=[e.te],e.o.notification.K("Stop "+(e.te?"Off":"On"),40,!0));break;case 82:e.Qz(e);break;case 83:e.jn.current=e.gz([!e.aj],!0,e);e.o.notification.K("Sync Clipboard "+(e.aj?"On":"Off"),40,!0);break;case 84:e.Fl.current=e.Hy([!e.Gk],!0,e);e.o.notification.K("Throttling "+
(e.Gk?"On":"Off"),40,!0);break;case 88:e.mA(e);break;case 89:e.nA(e);break;case 90:e.bq.locked||e.lC(e)}n=-2}switch(n){case 191:case 111:e.a.V&&(e.Tk.current=e.nD([!e.a.$d],!0,e),e.o.notification.K("Hex display uses "+(e.a.$d?"Hexagons":"Squares"),40,!0));break;case 8:e.Ia||(e.mb.current=e.kd(ViewConstants.Mn,!0,e));break;case 66:if(!e.Ia){if(e.a.Aa||e.a.M)k=e.ja,e.ja=1;e.mb.current=e.kd(ViewConstants.Mn,!0,e);if(e.a.Aa||e.a.M)e.ja=k}break;case 13:e.Nc||e.ke?e.TG(e):e.Ia||(e.mb.current===ViewConstants.jj?
e.mb.current=e.kd(ViewConstants.jj,!0,e):e.Qd&&e.o.Oc||(e.mb.current=e.kd(ViewConstants.jj,!0,e)));break;case 9:e.Ia||(e.Pa?e.mb.current=e.kd(ViewConstants.oe,!0,e):p.shiftKey?(e.a.Aa||e.a.M)&&null!==e.a.Vc?e.mb.current=e.kd(ViewConstants.Mn,!0,e):0<e.a.v&&(e.gq(e.a.v-e.ja),e.dy(e.a.v-e.ja+1)):(e.Ph=!0,e.tb("")));break;case 32:e.Ia||(e.Pa?e.mb.current=e.kd(ViewConstants.oe,!0,e):p.ctrlKey||p.shiftKey?e.EF(e,p.shiftKey):(e.Ph=!0,e.iy=!0,e.tb("")));break;case 87:p.shiftKey?(e.ul.current=e.Fy([!e.Fi],
!0,e),e.o.notification.K("Performance Warning "+(e.Fi?"On":"Off"),40,!0)):e.jd?e.Hg.current=e.Iy([e.Ne],!0,e):e.Fc&&(e.Hg.current=e.Iy([e.ue],!0,e));break;case 69:!e.Uc.locked&&e.ja<ViewConstants.ff&&(e.ja=p.shiftKey?ViewConstants.ff:e.ja+1,e.Uc.current=e.Qi([e.ja,e.ja],!0,e));break;case 68:!e.Uc.locked&&e.ja>ViewConstants.qm&&(p.shiftKey?e.ja=ViewConstants.qm:--e.ja,e.Uc.current=e.Qi([e.ja,e.ja],!0,e));break;case 90:p.ctrlKey?p.shiftKey?e.Lx(e):e.Cj.locked||e.Zy(e):p.shiftKey?(k=Controller.tI(),
0===k?e.o.notification.K("No LifeViewers playing",100,!0):1<k&&e.o.notification.K("Paused all LifeViewers",100,!0)):(k=Controller.uI(e),0<k&&(1<k?e.o.notification.K("Paused "+k+" other LifeViewers",100,!0):e.o.notification.K("Paused "+k+" other LifeViewer",100,!0)));break;case 88:p.ctrlKey?e.kC(e,p.shiftKey,p.altKey):p.shiftKey?(e.fj.current=e.rD([!e.a.Yj],!0,e),0<e.a.bf&&(e.o.notification.K("Major Grid Lines "+(e.a.Yj?"On":"Off"),40,!0),e.Tz())):(e.a.Xb=!e.a.Xb,e.Eh.current=e.qo([e.a.Xb],!0,e),e.o.notification.K("Grid Lines "+
(e.a.Xb?"On":"Off"),40,!0));break;case 89:p.ctrlKey?e.Lx(e):e.xc?e.o.notification.K("Graph Disabled",40,!0):p.shiftKey?(e.yg=!e.yg,e.Kn.current=e.WC([e.yg],!0,e),e.o.notification.K("Graph "+(e.yg?"Lines":"Points"),40,!0)):(e.Bc=!e.Bc,e.Pk.current=e.hz([e.Bc],!0,e),e.o.notification.K("Population Graph "+(e.Bc?"On":"Off"),40,!0));break;case 75:p.ctrlKey?p.altKey?(e.Uu(e,!1,!1),k=e.Of,2<e.a.g&&(k=e.a.g-k),e.o.notification.K("Cleared "+e.Jv(k)+" cells",120,!0)):e.it(e):p.shiftKey?(e.Yz(e,!0),e.o.notification.K("Copied view to clipboard",
180,!0)):(e.Yz(e,!1),e.o.notification.K("Copied position to clipboard",180,!0));break;case 80:p.shiftKey?-1!==e.Fa&&(e.Ub=!e.Ub,e.Yk.current=[e.Ub],e.o.notification.K("Loop "+(e.Ub?"Off":"On"),40,!0)):e.Pc||e.Kc.locked||(e.Kc.current=.99>=e.Kc.current[0]?e.vk([e.Kc.current[0]+.01,e.Kc.current[1]],!0,e):e.vk([1,e.Kc.current[1]],!0,e));break;case 76:p.shiftKey?e.cF(e):e.Pc||e.Kc.locked||(e.Kc.current=.01<=e.Kc.current[0]?e.vk([e.Kc.current[0]-.01,e.Kc.current[1]],!0,e):e.vk([0,e.Kc.current[1]],!0,e));
break;case 81:!e.Pc&&!e.Fd.locked&&e.Fd.current[0]<ViewConstants.us&&(e.Fd.current=e.Kq([e.a.L+1,e.Fd.current[1]],!0,e));break;case 65:p.shiftKey?e.kb&&e.Vq(e):p.ctrlKey?e.IC(e):!e.Pc&&!e.Fd.locked&&e.Fd.current[0]>ViewConstants.zs&&(e.Fd.current=e.Kq([e.a.L-1,e.Fd.current[1]],!0,e));break;case 82:p.shiftKey?Controller.EH():e.mb.current=e.kd(ViewConstants.Aw,!0,e);break;case 83:p.ctrlKey?(e.Vx(e),e.o.notification.K("Saved",120,!0)):p.shiftKey?e.a.ib&&(e.Wh=!e.Wh,e.o.notification.K("AutoFit State 1 Mode "+
(e.Wh?"On":"Off"),40,!0)):(e.ko.current=e.tD([!e.Li],!0,e),e.o.notification.K("Stars "+(e.Li?"On":"Off"),40,!0));break;case 78:e.sk&&(e.Sa?e.ry():(e.sy(),e.aa&&(e.aa=0)));break;case 86:p.ctrlKey?e.Vs(e,p.shiftKey):p.shiftKey?(e.GC(e),e.o.notification.K("Saved camera position",100,!0)):e.td||(e.JH(e),e.o.notification.K("Restored camera position",100,!0),e.Pa||(e.pg=!0));break;case 221:e.td||(p.shiftKey?e.wo(e.rc.current[0],Math.log(e.a.zoom*e.a.tc*2/ViewConstants.Kb)/Math.log(ViewConstants.zc/ViewConstants.Kb)-
e.rc.current[0]):e.wo(e.rc.current[0],.01));break;case 219:e.td||(p.shiftKey?e.wo(e.rc.current[0],Math.log(e.a.zoom*e.a.tc/2/ViewConstants.Kb)/Math.log(ViewConstants.zc/ViewConstants.Kb)-e.rc.current[0]):e.wo(e.rc.current[0],-.01));break;case 53:case 101:p.ctrlKey?p.shiftKey?e.Ys(e,!0):e.Ni(5):p.shiftKey?e.Ys(e,!1):e.sd.locked||(e.a.angle=0,e.sd.current=[e.a.angle,e.a.angle]);break;case 49:case 97:p.ctrlKey?e.Ni(1):p.shiftKey?(e.vh(e,e.a.zoom*e.a.tc,!0),e.o.notification.K("Integer Zoom",40,!0)):e.vh(e,
1,!1);break;case 50:case 98:p.ctrlKey?e.Ni(2):p.shiftKey?e.vh(e,.5,!1):e.vh(e,2,!1);break;case 51:case 99:p.ctrlKey?e.Ni(3):p.shiftKey?e.vh(e,64,!1):e.vh(e,32,!1);break;case 52:case 100:p.ctrlKey?e.Ni(4):p.shiftKey?e.vh(e,.25,!1):e.vh(e,4,!1);break;case 54:case 102:p.ctrlKey?e.Ni(6):p.shiftKey?e.vh(e,.0625,!1):e.vh(e,16,!1);break;case 55:p.ctrlKey?e.Ni(7):e.xc?e.o.notification.K("Graph Disabled",40,!0):(0<e.Zc&&(e.Zc-=.05,0>e.Zc&&(e.Zc=0)),e.Qn.current=e.It([e.Zc,e.Zc],!1,e));break;case 56:case 104:p.ctrlKey?
e.Ni(8):p.shiftKey?e.vh(e,.125,!1):e.vh(e,8,!1);break;case 57:p.ctrlKey?e.Ni(9):e.xc?e.o.notification.K("Graph Disabled",40,!0):(1>e.Zc&&(e.Zc+=.05,1<e.Zc&&(e.Zc=1)),e.Qn.current=e.It([e.Zc,e.Zc],!1,e));break;case 48:case 96:p.ctrlKey?e.Ni(0):(e.ja=1,e.Uc.current=e.Qi([e.ja,e.ja],!0,e),e.Cb.current=e.hh([1,e.Cb.current[1]],!0,e));break;case 189:case 109:p.ctrlKey&&189==n?b=!1:e.Ia||(e.ja>ViewConstants.qm?(p.shiftKey?e.ja=ViewConstants.qm:--e.ja,e.Uc.current=e.Qi([e.ja,e.ja],!0,e)):e.Cb&&(e.Cb.current=
.01<=e.Cb.current[0]&&!p.shiftKey?e.hh([e.Cb.current[0]-.01,e.Cb.current[1]],!0,e):e.hh([0,e.Cb.current[1]],!0,e)));break;case 187:case 107:p.ctrlKey&&187==n?b=!1:!e.Ia&&e.Cb&&(.99>=e.Cb.current[0]&&!p.shiftKey?e.Cb.current=e.hh([e.Cb.current[0]+.01,e.Cb.current[1]],!0,e):.99>=e.Cb.current[0]?e.Cb.current=e.hh([1,e.Cb.current[1]],!0,e):(e.Cb.current=e.hh([1,e.Cb.current[1]],!0,e),e.ja<ViewConstants.ff&&(e.ja=p.shiftKey?ViewConstants.ff:e.ja+1,e.Uc.current=e.Qi([e.ja,e.ja],!0,e))));break;case 188:p.shiftKey&&
(e.kb||e.Nc)?e.wC(e):e.sd.locked||(k=e.sd.current[0],k=p.shiftKey?k-90:k-1,0>k&&(k+=360),e.sd.current=e.Jq([k,k],!0,e));break;case 190:p.shiftKey&&(e.kb||e.Nc)?e.xC(e):e.sd.locked||(k=e.sd.current[0],k=p.shiftKey?k+90:k+1,360<=k&&(k-=360),e.sd.current=e.Jq([k,k],!0,e));break;case 46:e.kb?p.shiftKey?e.Uz(e):e.sv(e,p.ctrlKey):p.ctrlKey&&(k=e.Uu(e,p.ctrlKey,!1))&&e.o.notification.K("Cleared [R]History cells",120,!0);break;case 74:p.ctrlKey&&p.shiftKey?b=!1:e.N.Vb.length?e.td||(p.shiftKey?e.hC(e):e.uB(e)):
e.o.notification.K("No POIs defined",80,!0);break;case 84:p.shiftKey?e.o.tl=!e.o.tl:e.sn.current=e.to([!e.o.vl],!0,e);break;case 85:p.shiftKey?!e.Cs&&(e.sc=!e.sc,e.i.f=e.sc,e.o.sc=e.sc)&&(e.aa=0,e.Nb=0):(e.a.Aa||e.a.M)&&e.a.Vc&&e.rv(e);break;case 71:p.ctrlKey?(e.rh=!e.rh,e.dn.current=e.jD([e.rh],!0,e),e.o.notification.K("Auto Grid Lines "+(e.rh?"On":"Off"),40,!0)):e.Ia||(p.shiftKey?e.Vj&&(e.bo.current=e.sD([!e.Wj],!0,e),e.o.notification.K("Generation display "+(e.Wj?"Relative":"Absolute"),40,!0)):
(e.Jt([!e.Eg],!0,e),e.He&&(e.He.current=[e.Eg],e.o.eh=!0)));break;case 70:p.shiftKey?e.mi.locked||(e.bc=!e.bc,e.mi.current=e.VC([e.bc],!0,e),e.o.notification.K("AutoFit "+(e.bc?"On":"Off"),40,!0)):e.Uj.locked||(e.Bh(!0,!0),e.o.notification.K("Fit Zoom",80,!0),e.Pa||(e.pg=!0));break;case 79:p.ctrlKey?e.PA(e):e.jq=p.shiftKey?2:1;break;case 37:p.shiftKey?e.dl(e.a.zoom,e.a.zoom):e.dl(e.a.zoom,0);break;case 38:e.aa?e.rt(e,1):e.Nb?e.pt(e,1):p.shiftKey?e.dl(-e.a.zoom,e.a.zoom):e.dl(0,e.a.zoom);break;case 39:p.shiftKey?
e.dl(-e.a.zoom,-e.a.zoom):e.dl(-e.a.zoom,0);break;case 40:e.aa?e.qt(e,1):e.Nb?e.ot(e,1):p.shiftKey?e.dl(e.a.zoom,-e.a.zoom):e.dl(0,-e.a.zoom);break;case 77:p.shiftKey?e.dF(e):e.Ac&&!e.Ac.f&&(e.Ac.current[0]=!e.Ac.current[0],e.o.eh=!0);break;case 67:p.ctrlKey?e.jC(e,p.shiftKey,p.altKey):e.Pc||!e.xj||e.xj.locked||(p.shiftKey?(k=e.a.sf-1,0>k&&(e.Og?k=e.a.pe:k=e.a.pe-1)):(k=e.a.sf+1,e.Og?k>=e.a.pe+1&&(k=0):k>=e.a.pe&&(k=0)),e.sl(k,e.a.Hk,e),e.a.ub||e.sj||e.o.notification.K(e.Ct(e.a.sf)+" Theme",40,!0));
break;case 72:p.shiftKey?(e.An.current=e.oD([!e.Fh],!0,e),e.o.notification.K("AutoFit History Mode "+(e.Fh?"On":"Off"),40,!0)):(e.Sc.length?e.aa=e.aa?0:1:e.aa?e.aa=0:e.Sa||(e.aa=1),e.Zj.current=e.ro([e.aa],!0,e),e.o.eh=!0);break;case 73:p.ctrlKey&&p.shiftKey?b=!1:p.ctrlKey?e.HA(e):p.shiftKey?e.Cn.current=e.pD([!e.Mc],!0,e):(e.aa?e.Rk===ViewConstants.lp?e.aa=0:e.$g(ViewConstants.lp,e):e.Sa||e.$g(ViewConstants.lp,e),e.Zj.current=e.ro([e.aa],!0,e),e.o.eh=!0);break;case 27:e.Rd?e.Sc.length?(e.Sc=[],e.Nb=
0):e.Nc||e.ke?e.$q(e):e.mj?e.Vg.current=e.zj([!1],!0,e):hideViewer():e.aa?e.aa=0:e.Sc.length?(e.Sc=[],e.Nb=0):e.Nc||e.ke?e.$q(e):e.mj?e.Vg.current=e.zj([!1],!0,e):e.Pa&&(e.mb.current=e.kd(ViewConstants.oe,!0,e));e.Zj.current=e.ro([e.aa],!0,e);e.o.eh=!0;break;case 33:e.aa?p.shiftKey?e.jH(e):e.rt(e,e.Qc):e.Nb?e.pt(e,e.Qc):DocConfig.Ca&&(--e.Ec,0>e.Ec&&(e.Ec=Controller.Xd.length-1),e.Vh(Controller.Xd[e.Ec].pattern,!1));break;case 34:e.aa?p.shiftKey?e.KG(e):e.qt(e,e.Qc):e.Nb?e.ot(e,e.Qc):DocConfig.Ca&&
(e.Ec+=1,e.Ec>=Controller.Xd.length&&(e.Ec=0),e.Vh(Controller.Xd[e.Ec].pattern,!1));break;case 36:e.aa?e.aa=1:e.Nb?e.Nb=1:DocConfig.Ca&&(e.Ec=0,e.Vh(Controller.Xd[e.Ec].pattern,!1));break;case 35:e.aa?e.aa=e.On-e.Qc:e.Nb?e.Nb=e.Sc.length-e.Qc:DocConfig.Ca&&(e.Ec=Controller.Xd.length-1,e.Vh(Controller.Xd[e.Ec].pattern,!1));break;case 112:e.Ia||(e.Qd=!e.Qd,e.Gd.current=e.Ej(e.Qd?ViewConstants.al:ViewConstants.bl,!0,e),e.o.notification.K((e.Qd?"Draw":"Pan")+" Mode",40,!0));break;case 113:p.shiftKey?
(e.io.current=e.Gy([!e.Gm],!0,e),e.o.notification.K("Smart Drawing "+(e.Gm?"On":"Off"),40,!0)):e.Gd.current=e.Ej(ViewConstants.al,!0,e);break;case 114:e.Ia||(e.Gd.current=e.Ej(ViewConstants.al,!0,e),e.mj||(e.Vg.current=e.zj([!0],!0,e)));break;case 115:e.Gd.Ih[ViewConstants.Ln]||(e.Gd.current=e.Ej(ViewConstants.Ln,!0,e));break;case 116:e.Gd.current=e.Ej(ViewConstants.bl,!0,e);break;case 117:e.Bn.locked||(p.ctrlKey&&(e.es=!0),e.Wv(e));break;default:if(-1===n||116===n)b=!1}}return b}}}());
